Sets
i facilities / 1*20 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.5149379540077491; community_y('1') = 0.703594602665238;
community_x('2') = 0.1886481713153758; community_y('2') = 0.5026908092670686;
community_x('3') = 0.9529195271072769; community_y('3') = 0.08049297616906204;
community_x('4') = 0.6352690810997838; community_y('4') = 0.6790046565383508;
community_x('5') = 0.5896618565242374; community_y('5') = 0.4655228978392192;
community_x('6') = 0.9404242818240754; community_y('6') = 0.763253873009135;
community_x('7') = 0.09123847868402024; community_y('7') = 0.7935740796578814;
community_x('8') = 0.7928524256786783; community_y('8') = 0.14280402297636718;
community_x('9') = 0.22314811392015454; community_y('9') = 0.29126728801226487;
community_x('10') = 0.25117394866717546; community_y('10') = 0.5591360265480961;
community_x('11') = 0.32112440000938036; community_y('11') = 0.10295528887800875;
community_x('12') = 0.7394890871718477; community_y('12') = 0.1670586452801801;
community_x('13') = 0.9413394116528027; community_y('13') = 0.7192281109911952;
community_x('14') = 0.7062377607254028; community_y('14') = 0.05243268736258733;
community_x('15') = 0.3167918942808058; community_y('15') = 0.24682969604624994;
community_x('16') = 0.12845149846488024; community_y('16') = 0.13433058213323634;
community_x('17') = 0.2864339000852407; community_y('17') = 0.9036680946895194;
community_x('18') = 0.21754133098344886; community_y('18') = 0.7110443711872351;
community_x('19') = 0.5022412680752473; community_y('19') = 0.7566796727584205;
community_x('20') = 0.5088081116887921; community_y('20') = 0.8192815359076802;
community_x('21') = 0.1156031148493818; community_y('21') = 0.22290624769366674;
community_x('22') = 0.208781093048095; community_y('22') = 0.8178417371989598;
community_x('23') = 0.8786756411178476; community_y('23') = 0.35786034657937205;
community_x('24') = 0.7010222228582054; community_y('24') = 0.3888933590686803;
community_x('25') = 0.09491491320965939; community_y('25') = 0.08052667344106468;
community_x('26') = 0.8671078678224289; community_y('26') = 0.280016047079098;
community_x('27') = 0.44899493365132404; community_y('27') = 0.380458856043846;
community_x('28') = 0.3842184573031272; community_y('28') = 0.8145823735085302;
community_x('29') = 0.8051229931207687; community_y('29') = 0.4949922599488228;
community_x('30') = 0.6886186570173524; community_y('30') = 0.27628106092545146;
community_x('31') = 0.4363289020744926; community_y('31') = 0.6059610873668682;
community_x('32') = 0.3838244962667843; community_y('32') = 0.30147219775095413;
community_x('33') = 0.5441906747049473; community_y('33') = 0.8135882808428866;
community_x('34') = 0.8343204543762492; community_y('34') = 0.3333574402560314;
community_x('35') = 0.7081821142150656; community_y('35') = 0.21472050334429305;
community_x('36') = 0.08786560598080262; community_y('36') = 0.38830553240904897;
community_x('37') = 0.029798190242237288; community_y('37') = 0.5826911206232234;
community_x('38') = 0.3579457903944965; community_y('38') = 0.6448344128310332;
community_x('39') = 0.2891993427487628; community_y('39') = 0.2747415093531418;
community_x('40') = 0.7785937541239099; community_y('40') = 0.5437604779269313;
community_x('41') = 0.6077275888168364; community_y('41') = 0.6527374109491648;
community_x('42') = 0.13905950176129223; community_y('42') = 0.22020210260638462;
community_x('43') = 0.42131600459802; community_y('43') = 0.3105940676780624;
community_x('44') = 0.5766923004743484; community_y('44') = 0.43074487077764534;
community_x('45') = 0.48041543197742853; community_y('45') = 0.7952127216840579;
community_x('46') = 0.2583437587947791; community_y('46') = 0.1341677147720055;
community_x('47') = 0.6896640541094385; community_y('47') = 0.266881343426308;
community_x('48') = 0.2810834816184221; community_y('48') = 0.9017118484587394;
community_x('49') = 0.9942350362616084; community_y('49') = 0.5249478559627803;
community_x('50') = 0.37891483513085944; community_y('50') = 0.0036924615996087873;
community_x('51') = 0.50211809476706; community_y('51') = 0.5435747114865409;
community_x('52') = 0.8036547266490047; community_y('52') = 0.9752373262506632;
community_x('53') = 0.35173290258900225; community_y('53') = 0.5131346933039976;
community_x('54') = 0.9011123204532512; community_y('54') = 0.7889713124056514;
community_x('55') = 0.5528522224754181; community_y('55') = 0.822933001183641;
community_x('56') = 0.5419695070326049; community_y('56') = 0.14032586844941752;
community_x('57') = 0.23740472894443598; community_y('57') = 0.8820909030603105;
community_x('58') = 0.3300877957398173; community_y('58') = 0.036599109052698475;
community_x('59') = 0.5272086693104011; community_y('59') = 0.08585943242164995;
community_x('60') = 0.8191915698031822; community_y('60') = 0.6860796691737193;
community_x('61') = 0.1540938582051028; community_y('61') = 0.39835110487443237;
community_x('62') = 0.8466206461587882; community_y('62') = 0.7598732895886986;
community_x('63') = 0.923456510837628; community_y('63') = 0.42621290978167603;
community_x('64') = 0.08049222832022951; community_y('64') = 0.5591608081837279;
community_x('65') = 0.6440736900012354; community_y('65') = 0.5431139907728453;
community_x('66') = 0.2366340130152207; community_y('66') = 0.7231570233973817;
community_x('67') = 0.09919693921539663; community_y('67') = 0.8602058995111346;
community_x('68') = 0.976575261711001; community_y('68') = 0.9766424006931435;
community_x('69') = 0.24759023735630237; community_y('69') = 0.3966022654619801;
community_x('70') = 0.41437869999302956; community_y('70') = 0.9865872638103306;
community_x('71') = 0.7041977275538229; community_y('71') = 0.04357407030325244;
community_x('72') = 0.6087421860109994; community_y('72') = 0.7226599236687868;
community_x('73') = 0.9013614391162638; community_y('73') = 0.5972304939347775;
community_x('74') = 0.9754838875248358; community_y('74') = 0.055368305377186955;
community_x('75') = 0.4667592944972031; community_y('75') = 0.28237519150933843;
community_x('76') = 0.10768302972059984; community_y('76') = 0.7167996982153267;
community_x('77') = 0.8366152658929635; community_y('77') = 0.037168086870299155;
community_x('78') = 0.15073312479708678; community_y('78') = 0.41842204104206204;
community_x('79') = 0.3639889756481097; community_y('79') = 0.6764244260561899;
community_x('80') = 0.22239088626785963; community_y('80') = 0.21873477408680375;
community_x('81') = 0.8275767845527451; community_y('81') = 0.5465272855770066;
community_x('82') = 0.20711891926917092; community_y('82') = 0.04359384695069868;
community_x('83') = 0.8123375663784721; community_y('83') = 0.1274437426159022;
community_x('84') = 0.5512680378819969; community_y('84') = 0.07583353883203647;
community_x('85') = 0.6101754725516463; community_y('85') = 0.5044785195040535;
community_x('86') = 0.7454755838584244; community_y('86') = 0.39505938260672346;
community_x('87') = 0.34679103528798827; community_y('87') = 0.7831032209049291;
community_x('88') = 0.1813056089510785; community_y('88') = 0.7109290762665244;
community_x('89') = 0.7418255388389471; community_y('89') = 0.7496599564365158;
community_x('90') = 0.6314916910472241; community_y('90') = 0.011038342184738648;
community_x('91') = 0.4175899020829198; community_y('91') = 0.48223793611544263;
community_x('92') = 0.1849559282710016; community_y('92') = 0.9914447885865932;
community_x('93') = 0.1618972593832474; community_y('93') = 0.5343050875757823;
community_x('94') = 0.4475611808902388; community_y('94') = 0.6175514996860983;
community_x('95') = 0.6771403974634512; community_y('95') = 0.7977433313601776;
community_x('96') = 0.3005490726358985; community_y('96') = 0.16454749523220402;
community_x('97') = 0.014972980755890375; community_y('97') = 0.9869503445851582;
community_x('98') = 0.4605495437699406; community_y('98') = 0.36609122903895464;
community_x('99') = 0.23259181781776128; community_y('99') = 0.5100052057636996;
community_x('100') = 0.7473151759716187; community_y('100') = 0.9933791512401097;
demand('1') = 0.05060794907436117;
demand('2') = 0.7418142157678433;
demand('3') = 0.13885048083791385;
demand('4') = 0.7811408038117817;
demand('5') = 0.3136095656889303;
demand('6') = 0.7573106086299549;
demand('7') = 0.4977835013609839;
demand('8') = 0.6940264310385055;
demand('9') = 0.9085952815208586;
demand('10') = 0.7426736253206212;
demand('11') = 0.7725449554803169;
demand('12') = 0.22036152588158286;
demand('13') = 0.7650432028275059;
demand('14') = 0.6617171901498765;
demand('15') = 0.17299778484561745;
demand('16') = 0.47934667167731926;
demand('17') = 0.4752132934137848;
demand('18') = 0.4388897192167688;
demand('19') = 0.6762799561876812;
demand('20') = 0.097686100507834;
demand('21') = 0.869809076364662;
demand('22') = 0.9359504768631665;
demand('23') = 0.060093396979872926;
demand('24') = 0.05485298608062572;
demand('25') = 0.4808278217509211;
demand('26') = 0.391687386726559;
demand('27') = 0.4318957414275084;
demand('28') = 0.44447761639087;
demand('29') = 0.274618060481031;
demand('30') = 0.43730251293773525;
demand('31') = 0.3714694501299204;
demand('32') = 0.34390971908642;
demand('33') = 0.7888273507120089;
demand('34') = 0.570303575526113;
demand('35') = 0.9613543340247086;
demand('36') = 0.8703677186213545;
demand('37') = 0.8538457560993994;
demand('38') = 0.2938482427988339;
demand('39') = 0.7075673815746877;
demand('40') = 0.48645096045696445;
demand('41') = 0.11995494648863769;
demand('42') = 0.22402129273315063;
demand('43') = 0.03993636179585425;
demand('44') = 0.41261220977215696;
demand('45') = 0.61278312076285;
demand('46') = 0.08116351065243532;
demand('47') = 0.6407070098138116;
demand('48') = 0.2598321308151219;
demand('49') = 0.11502399591530488;
demand('50') = 0.06261895469332923;
demand('51') = 0.636882336159386;
demand('52') = 0.24528987361932197;
demand('53') = 0.4849505047142113;
demand('54') = 0.38520082452205506;
demand('55') = 0.6916476885779002;
demand('56') = 0.7035994761211315;
demand('57') = 0.8298336876211369;
demand('58') = 0.7233841107266511;
demand('59') = 0.4586251565563556;
demand('60') = 0.4813169858187255;
demand('61') = 0.3084269716136163;
demand('62') = 0.08446561876197423;
demand('63') = 0.2394418785594512;
demand('64') = 0.548768401135671;
demand('65') = 0.33259074557540635;
demand('66') = 0.9214017397291366;
demand('67') = 0.8820554771202591;
demand('68') = 0.3376268667467718;
demand('69') = 0.7568435168979485;
demand('70') = 0.6340051278521214;
demand('71') = 0.3040649557249724;
demand('72') = 0.5844047885234643;
demand('73') = 0.020286605929851986;
demand('74') = 0.3075437169758076;
demand('75') = 0.5556269255380843;
demand('76') = 0.620129627396129;
demand('77') = 0.7063295887678276;
demand('78') = 0.9025174530148621;
demand('79') = 0.935972285147158;
demand('80') = 0.8202044274674679;
demand('81') = 0.599183247282264;
demand('82') = 0.4529088607190599;
demand('83') = 0.37401558663429113;
demand('84') = 0.35555534447698534;
demand('85') = 0.130113762391886;
demand('86') = 0.30559591185957014;
demand('87') = 0.5424747275703083;
demand('88') = 0.3425816943091933;
demand('89') = 0.2006094076342747;
demand('90') = 0.6833276424543717;
demand('91') = 0.3389236143782469;
demand('92') = 0.5874656353359781;
demand('93') = 0.10617730086921895;
demand('94') = 0.6096501936166405;
demand('95') = 0.4183508600844623;
demand('96') = 0.9696892419656593;
demand('97') = 0.10379606099821392;
demand('98') = 0.2800786219842366;
demand('99') = 0.7484698214663252;
demand('100') = 0.4570060235422282;
capacity('1') = 2.94433707487825;
capacity('2') = 4.6342762369276285;
capacity('3') = 2.626500125725958;
capacity('4') = 0.5169142928704477;
capacity('5') = 0.8592218419811206;
capacity('6') = 3.5344533735605537;
capacity('7') = 0.28576584596262716;
capacity('8') = 3.618501787494434;
capacity('9') = 1.0511337337336266;
capacity('10') = 0.725414089641025;
capacity('11') = 4.251866087268269;
capacity('12') = 2.6115654065329856;
capacity('13') = 0.946179304455999;
capacity('14') = 3.843603931705348;
capacity('15') = 3.5117922254548786;
capacity('16') = 4.374959728282798;
capacity('17') = 4.373138905925362;
capacity('18') = 2.166681016708999;
capacity('19') = 4.077253652339022;
capacity('20') = 0.11215906696521917;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
