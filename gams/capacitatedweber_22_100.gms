Sets
i facilities / 1*22 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.5100185067434795; community_y('1') = 0.5241944945473229;
community_x('2') = 0.5969980871075791; community_y('2') = 0.6661491689517186;
community_x('3') = 0.3022981875355706; community_y('3') = 0.8899272057511657;
community_x('4') = 0.9300316428466455; community_y('4') = 0.5404264561270065;
community_x('5') = 0.7297377986203935; community_y('5') = 0.45004712779271583;
community_x('6') = 0.7610144333556674; community_y('6') = 0.28890010897736074;
community_x('7') = 0.4581024570292389; community_y('7') = 0.22592550192089778;
community_x('8') = 0.8355451872132815; community_y('8') = 0.8352991709230421;
community_x('9') = 0.7338560445240295; community_y('9') = 0.017323315578241738;
community_x('10') = 0.5925543096681812; community_y('10') = 0.7389929704976501;
community_x('11') = 0.106008144493275; community_y('11') = 0.9748930361211842;
community_x('12') = 0.4501430371137636; community_y('12') = 0.053998269209612926;
community_x('13') = 0.9703665542727563; community_y('13') = 0.1835385910772941;
community_x('14') = 0.55808514652996; community_y('14') = 0.2813282960564334;
community_x('15') = 0.37845548783580973; community_y('15') = 0.8148944777977614;
community_x('16') = 0.6283238451432251; community_y('16') = 0.8149918060131509;
community_x('17') = 0.14213304051484343; community_y('17') = 0.9182505691021029;
community_x('18') = 0.32867177784673773; community_y('18') = 0.6088278213779473;
community_x('19') = 0.7793386340565941; community_y('19') = 0.5206454976961895;
community_x('20') = 0.4712706213751999; community_y('20') = 0.4888105798350585;
community_x('21') = 0.3871493027180338; community_y('21') = 0.5577385634279071;
community_x('22') = 0.973478750284656; community_y('22') = 0.7337642509586699;
community_x('23') = 0.5215740475027938; community_y('23') = 0.2925539169653977;
community_x('24') = 0.45151088848120746; community_y('24') = 0.9050236742254651;
community_x('25') = 0.08187584223938194; community_y('25') = 0.18619198141594884;
community_x('26') = 0.5960366942878553; community_y('26') = 0.9780968484709133;
community_x('27') = 0.49386101145740213; community_y('27') = 0.46944279746857087;
community_x('28') = 0.2821179655902719; community_y('28') = 0.037455612491148926;
community_x('29') = 0.9320694724591881; community_y('29') = 0.1015437516415798;
community_x('30') = 0.6227686929648688; community_y('30') = 0.6656961668092843;
community_x('31') = 0.53964567829978; community_y('31') = 0.9090083871951824;
community_x('32') = 0.8614786812268781; community_y('32') = 0.0865534105932243;
community_x('33') = 0.396200444079307; community_y('33') = 0.023268244635641477;
community_x('34') = 0.9773711200623679; community_y('34') = 0.3336430852843767;
community_x('35') = 0.686097989737367; community_y('35') = 0.7869281612541964;
community_x('36') = 0.38253621065539767; community_y('36') = 0.19572127106393566;
community_x('37') = 0.45568616749973956; community_y('37') = 0.4000066464720503;
community_x('38') = 0.9681949091653762; community_y('38') = 0.26859990723748983;
community_x('39') = 0.6082831250284366; community_y('39') = 0.0020213371986138595;
community_x('40') = 0.01332704868796697; community_y('40') = 0.10676115501799133;
community_x('41') = 0.8522324299439755; community_y('41') = 0.3507861002296806;
community_x('42') = 0.4143029510182715; community_y('42') = 0.6277073201775623;
community_x('43') = 0.2998188388771549; community_y('43') = 0.7048184082833517;
community_x('44') = 0.48455437729648976; community_y('44') = 0.660843875592047;
community_x('45') = 0.20452040436355468; community_y('45') = 0.9038653498656724;
community_x('46') = 0.6665289120780143; community_y('46') = 0.5889239431814138;
community_x('47') = 0.618786680405067; community_y('47') = 0.6388708191286284;
community_x('48') = 0.4613394074345225; community_y('48') = 0.7113770335510251;
community_x('49') = 0.48108266220193474; community_y('49') = 0.3147808903204049;
community_x('50') = 0.33374792786998964; community_y('50') = 0.9929649183278968;
community_x('51') = 0.6927843101416447; community_y('51') = 0.1305304758390461;
community_x('52') = 0.8336269724839269; community_y('52') = 0.901032656421457;
community_x('53') = 0.05079590115417987; community_y('53') = 0.4706458471195216;
community_x('54') = 0.6308005896485984; community_y('54') = 0.2286759339431219;
community_x('55') = 0.8059139088328997; community_y('55') = 0.35493011783804684;
community_x('56') = 0.9913699038814853; community_y('56') = 0.5642724622356345;
community_x('57') = 0.776919688041512; community_y('57') = 0.16409807895327655;
community_x('58') = 0.9528290091777402; community_y('58') = 0.07715415812937243;
community_x('59') = 0.6380539977767954; community_y('59') = 0.26337550746746674;
community_x('60') = 0.8478062308736329; community_y('60') = 0.9620147046665061;
community_x('61') = 0.7385387665868242; community_y('61') = 0.7602435286001482;
community_x('62') = 0.2510690822713785; community_y('62') = 0.35113793888737377;
community_x('63') = 0.7157913811696276; community_y('63') = 0.7028021516356877;
community_x('64') = 0.6198061621389016; community_y('64') = 0.2178874216957002;
community_x('65') = 0.5322756383583384; community_y('65') = 0.12750821030456205;
community_x('66') = 0.23891021946854074; community_y('66') = 0.44648977092909103;
community_x('67') = 0.9429097056436199; community_y('67') = 0.34787953974709507;
community_x('68') = 0.8090629919385368; community_y('68') = 0.9741176980735718;
community_x('69') = 0.7860597193635732; community_y('69') = 0.09474104564297348;
community_x('70') = 0.24275542202878642; community_y('70') = 0.7707311806311796;
community_x('71') = 0.1695979662397622; community_y('71') = 0.09711408050373993;
community_x('72') = 0.18426180410554815; community_y('72') = 0.9439851895386053;
community_x('73') = 0.3801220533603642; community_y('73') = 0.7492836419762021;
community_x('74') = 0.34011364335827654; community_y('74') = 0.9570125535019054;
community_x('75') = 0.7455357475152666; community_y('75') = 0.6529797465125458;
community_x('76') = 0.39937334328973717; community_y('76') = 0.12307501405783472;
community_x('77') = 0.994506793659406; community_y('77') = 0.943222480929184;
community_x('78') = 0.05375768916078949; community_y('78') = 0.9417128073858263;
community_x('79') = 0.3964971601733138; community_y('79') = 0.6985931484018371;
community_x('80') = 0.8761065237814274; community_y('80') = 0.7305162544759984;
community_x('81') = 0.5015698117554314; community_y('81') = 0.68625658605392;
community_x('82') = 0.6716900676242525; community_y('82') = 0.4300784983942587;
community_x('83') = 0.8483016447333915; community_y('83') = 0.2768313587422092;
community_x('84') = 0.634887439997622; community_y('84') = 0.24941266624757985;
community_x('85') = 0.17103553458360266; community_y('85') = 0.5714295524933676;
community_x('86') = 0.05097624276648205; community_y('86') = 0.29546150446073105;
community_x('87') = 0.9799084080736191; community_y('87') = 0.6304739164407349;
community_x('88') = 0.41236163812639015; community_y('88') = 0.28472729616402526;
community_x('89') = 0.5180652822940028; community_y('89') = 0.07129720246310634;
community_x('90') = 0.10963116298426223; community_y('90') = 0.8473255500915109;
community_x('91') = 0.5052210695201153; community_y('91') = 0.6199978453453036;
community_x('92') = 0.35359945968297657; community_y('92') = 0.5481131299612134;
community_x('93') = 0.1644073578981884; community_y('93') = 0.7138424847911206;
community_x('94') = 0.678461666758426; community_y('94') = 0.9429502124062055;
community_x('95') = 0.6792126208966928; community_y('95') = 0.5488937950983265;
community_x('96') = 0.6074752539833662; community_y('96') = 0.32136038922500565;
community_x('97') = 0.8321845662639391; community_y('97') = 0.9812514198960852;
community_x('98') = 0.9677916716536498; community_y('98') = 0.09464139866703947;
community_x('99') = 0.8493262058336581; community_y('99') = 0.485787325064587;
community_x('100') = 0.07103955225526115; community_y('100') = 0.6159929632962573;
demand('1') = 0.21396035526753676;
demand('2') = 0.29476051313677865;
demand('3') = 0.9789430981062547;
demand('4') = 0.9131992304860911;
demand('5') = 0.1816789811910392;
demand('6') = 0.7734443027180186;
demand('7') = 0.9402127491532896;
demand('8') = 0.6073449872214033;
demand('9') = 0.8557395166646735;
demand('10') = 0.16885812612930728;
demand('11') = 0.3068193481544218;
demand('12') = 0.09906872147367574;
demand('13') = 0.49404347116863756;
demand('14') = 0.6740880930906018;
demand('15') = 0.31802966017667167;
demand('16') = 0.3045722293685319;
demand('17') = 0.6905949222993717;
demand('18') = 0.8592938308781112;
demand('19') = 0.8430151008060499;
demand('20') = 0.5034774589491433;
demand('21') = 0.05952995328556354;
demand('22') = 0.4753805545781937;
demand('23') = 0.12438400962828677;
demand('24') = 0.8030308667089897;
demand('25') = 0.10617577590933613;
demand('26') = 0.8730377898524437;
demand('27') = 0.08416022976337467;
demand('28') = 0.37740627439348706;
demand('29') = 0.599786697789248;
demand('30') = 0.5789837254082311;
demand('31') = 0.35897104674366087;
demand('32') = 0.014975369991850784;
demand('33') = 0.38359836716250795;
demand('34') = 0.6615138378119148;
demand('35') = 0.43125448853874004;
demand('36') = 0.9455721474571789;
demand('37') = 0.6285016568470001;
demand('38') = 0.44126880783647426;
demand('39') = 0.031218075452504435;
demand('40') = 0.11608450657416702;
demand('41') = 0.27415394245749325;
demand('42') = 0.8887959738168488;
demand('43') = 0.9192416239780308;
demand('44') = 0.45846044786400875;
demand('45') = 0.2522183419520936;
demand('46') = 0.2133632431894107;
demand('47') = 0.5440750763668075;
demand('48') = 0.5939425739947815;
demand('49') = 0.277474245273687;
demand('50') = 0.751187040445417;
demand('51') = 0.4234330476109557;
demand('52') = 0.21575282693583808;
demand('53') = 0.1336630298714776;
demand('54') = 0.6873413451907053;
demand('55') = 0.7334588111282095;
demand('56') = 0.9453268553768269;
demand('57') = 0.36167395421989545;
demand('58') = 0.2863338612251394;
demand('59') = 0.8657175164479316;
demand('60') = 0.2904988163606185;
demand('61') = 0.38085809420288175;
demand('62') = 0.695193894565264;
demand('63') = 0.1328213145578041;
demand('64') = 0.34203802232665415;
demand('65') = 0.09179222619774663;
demand('66') = 0.9556604187395885;
demand('67') = 0.60045279243961;
demand('68') = 0.8470510298023581;
demand('69') = 0.27096705228047413;
demand('70') = 0.6885873457420763;
demand('71') = 0.5634341884090631;
demand('72') = 0.5164206063639276;
demand('73') = 0.6576305019647473;
demand('74') = 0.2246026364361423;
demand('75') = 0.6290220143227291;
demand('76') = 0.6064424489493417;
demand('77') = 0.06637674376578251;
demand('78') = 0.30359443387852014;
demand('79') = 0.3051020594050333;
demand('80') = 0.2994140296995257;
demand('81') = 0.9244029580801439;
demand('82') = 0.016107380251439096;
demand('83') = 0.4704051142995972;
demand('84') = 0.6364818363841407;
demand('85') = 0.9893330987667931;
demand('86') = 0.4453349007159013;
demand('87') = 0.09707550001220644;
demand('88') = 0.6205938383953814;
demand('89') = 0.4838788010835944;
demand('90') = 0.03155998380770986;
demand('91') = 0.055425020098854305;
demand('92') = 0.4088816744388811;
demand('93') = 0.49613147879100317;
demand('94') = 0.9992856439417408;
demand('95') = 0.09887385105383761;
demand('96') = 0.11843346514215758;
demand('97') = 0.2249431212056181;
demand('98') = 0.6865760017264088;
demand('99') = 0.7203549428423015;
demand('100') = 0.21623895682515615;
capacity('1') = 0.8556874226981226;
capacity('2') = 3.6411958287228177;
capacity('3') = 0.15431669734645667;
capacity('4') = 2.385713420423812;
capacity('5') = 2.952784429808597;
capacity('6') = 1.2076188077355756;
capacity('7') = 3.603161396323833;
capacity('8') = 3.106739136754012;
capacity('9') = 2.6887377471339886;
capacity('10') = 0.2816707966046601;
capacity('11') = 1.1261875990261765;
capacity('12') = 1.8058369733457624;
capacity('13') = 2.8373620434018343;
capacity('14') = 3.47451145289723;
capacity('15') = 0.11139129408703505;
capacity('16') = 2.190280774587025;
capacity('17') = 3.3816709431847274;
capacity('18') = 2.4633144080521734;
capacity('19') = 3.5116277153469504;
capacity('20') = 3.7668710223338993;
capacity('21') = 0.04193773780625004;
capacity('22') = 3.918746769859695;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
