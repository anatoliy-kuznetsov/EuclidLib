Sets
i facilities / 1*3 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.9790501200727744; community_y('1') = 0.6311424951878402;
community_x('2') = 0.45629827629184827; community_y('2') = 0.06672245148451761;
community_x('3') = 0.7188470341002364; community_y('3') = 0.02813370989019326;
community_x('4') = 0.7348862425853395; community_y('4') = 0.8816599278452203;
community_x('5') = 0.21490166849706338; community_y('5') = 0.6269013861862501;
community_x('6') = 0.07803796911512406; community_y('6') = 0.16286095537542633;
community_x('7') = 0.6027432362671394; community_y('7') = 0.42873962092903517;
community_x('8') = 0.12191950272268226; community_y('8') = 0.2890755666151287;
community_x('9') = 0.382226634481309; community_y('9') = 0.8692874521904679;
community_x('10') = 0.8897028218070439; community_y('10') = 0.28624094722515714;
community_x('11') = 0.8721502920634506; community_y('11') = 0.7244247415495613;
community_x('12') = 0.1186890489541742; community_y('12') = 0.7437850500651989;
community_x('13') = 0.08223395893075858; community_y('13') = 0.31875884096460017;
community_x('14') = 0.22248607563414302; community_y('14') = 0.2521011029699466;
community_x('15') = 0.8280911145578295; community_y('15') = 0.521112501873431;
community_x('16') = 0.02472447636767583; community_y('16') = 0.3997225002105538;
community_x('17') = 0.2251828459038958; community_y('17') = 0.5939809266576113;
community_x('18') = 0.10723676302623708; community_y('18') = 0.32815695404043954;
community_x('19') = 0.12763824766271537; community_y('19') = 0.7945040151126441;
community_x('20') = 0.5234249852126434; community_y('20') = 0.42030230269801994;
community_x('21') = 0.18343173523148326; community_y('21') = 0.136143099207385;
community_x('22') = 0.40944334015947625; community_y('22') = 0.774531308143275;
community_x('23') = 0.7331857650038027; community_y('23') = 0.8950296042756412;
community_x('24') = 0.7229955321011505; community_y('24') = 0.6811637100991619;
community_x('25') = 0.41503758152257597; community_y('25') = 0.5465191428386663;
community_x('26') = 0.7861348290536645; community_y('26') = 0.87178894698042;
community_x('27') = 0.5725075138461647; community_y('27') = 0.9337948530254415;
community_x('28') = 0.8269601510284041; community_y('28') = 0.009262756401185124;
community_x('29') = 0.2488818696593572; community_y('29') = 0.4876950675248043;
community_x('30') = 0.36912357958085673; community_y('30') = 0.018982468776048256;
community_x('31') = 0.5803349928449376; community_y('31') = 0.3335241239631539;
community_x('32') = 0.9458939112226394; community_y('32') = 0.24183404147594545;
community_x('33') = 0.618339929803488; community_y('33') = 0.4613823719890262;
community_x('34') = 0.4747024910574612; community_y('34') = 0.677298801963296;
community_x('35') = 0.25095823937637995; community_y('35') = 0.8608494707743931;
community_x('36') = 0.2813337214794214; community_y('36') = 0.260828760842044;
community_x('37') = 0.21578669367558911; community_y('37') = 0.011735861364977063;
community_x('38') = 0.9863645026702189; community_y('38') = 0.9990458234862235;
community_x('39') = 0.8865853309878791; community_y('39') = 0.7821203148917139;
community_x('40') = 0.8945620392234958; community_y('40') = 0.5503418933063282;
community_x('41') = 0.5285688951098176; community_y('41') = 0.11239191602793763;
community_x('42') = 0.708384487952824; community_y('42') = 0.052377433607805;
community_x('43') = 0.29648914964070017; community_y('43') = 0.9341294850788631;
community_x('44') = 0.48157049590943335; community_y('44') = 0.5293556030905174;
community_x('45') = 0.14554146029922255; community_y('45') = 0.8600456625304761;
community_x('46') = 0.420140098875878; community_y('46') = 0.7836717817794422;
community_x('47') = 0.252703353163125; community_y('47') = 0.7511054492094982;
community_x('48') = 0.09997671456057478; community_y('48') = 0.8052510810051834;
community_x('49') = 0.9194440793102199; community_y('49') = 0.2533792755981428;
community_x('50') = 0.09668337434887231; community_y('50') = 0.24611947874178752;
community_x('51') = 0.8129312296053264; community_y('51') = 0.43371140947157627;
community_x('52') = 0.69957905129295; community_y('52') = 0.7676310918513006;
community_x('53') = 0.0900544025434653; community_y('53') = 0.7942401639657729;
community_x('54') = 0.48515271892966294; community_y('54') = 0.7574483929568191;
community_x('55') = 0.9958643028455554; community_y('55') = 0.5795352889383328;
community_x('56') = 0.9868623533325966; community_y('56') = 0.4767439909083834;
community_x('57') = 0.5633005482415795; community_y('57') = 0.19425040789890158;
community_x('58') = 0.7718094743437608; community_y('58') = 0.6666443342600646;
community_x('59') = 0.7086747540781035; community_y('59') = 0.6536254702356696;
community_x('60') = 0.29177285745744364; community_y('60') = 0.5144679134132856;
community_x('61') = 0.5499369537631748; community_y('61') = 0.726777937936861;
community_x('62') = 0.596939821696328; community_y('62') = 0.9792846384007238;
community_x('63') = 0.39405641988972406; community_y('63') = 0.9435855472981566;
community_x('64') = 0.8189990872832278; community_y('64') = 0.10714435097363662;
community_x('65') = 0.44421356366434817; community_y('65') = 0.2874586706743091;
community_x('66') = 0.7494891352136963; community_y('66') = 0.6129812821515095;
community_x('67') = 0.06468637419158274; community_y('67') = 0.6897257530243619;
community_x('68') = 0.4448860941734385; community_y('68') = 0.28449710521756644;
community_x('69') = 0.04443656150056341; community_y('69') = 0.9307717790464919;
community_x('70') = 0.6468354932652288; community_y('70') = 0.4608658507473642;
community_x('71') = 0.8726582006369804; community_y('71') = 0.7652199544751623;
community_x('72') = 0.5434607583258384; community_y('72') = 0.052316469397973964;
community_x('73') = 0.5653919967842793; community_y('73') = 0.27910238121665565;
community_x('74') = 0.6224904598210145; community_y('74') = 0.02247631649979287;
community_x('75') = 0.229051149892618; community_y('75') = 0.7910496903784138;
community_x('76') = 0.38625690455774275; community_y('76') = 0.5219004509746287;
community_x('77') = 0.5785186297030117; community_y('77') = 0.9528110034877589;
community_x('78') = 0.6462821339816298; community_y('78') = 0.6067764925944034;
community_x('79') = 0.38006243875752277; community_y('79') = 0.32501439221768036;
community_x('80') = 0.4773778129689302; community_y('80') = 0.3565933083195064;
community_x('81') = 0.33078861302885243; community_y('81') = 0.37500196195238944;
community_x('82') = 0.5542981262906839; community_y('82') = 0.19803228322354316;
community_x('83') = 0.6759728791955966; community_y('83') = 0.10790031453323568;
community_x('84') = 0.32776733692609294; community_y('84') = 0.649698771312504;
community_x('85') = 0.6849969003224811; community_y('85') = 0.31383818211836345;
community_x('86') = 0.8489741551279321; community_y('86') = 0.4536251040305358;
community_x('87') = 0.5364380411417772; community_y('87') = 0.7091773891838592;
community_x('88') = 0.9803725216985771; community_y('88') = 0.2741220008365026;
community_x('89') = 0.30949991491899753; community_y('89') = 0.4397462597339806;
community_x('90') = 0.9195632575532574; community_y('90') = 0.3235817691663315;
community_x('91') = 0.18190096518085497; community_y('91') = 0.32411302414330956;
community_x('92') = 0.36343488491763387; community_y('92') = 0.6663092097253003;
community_x('93') = 0.8168528198966378; community_y('93') = 0.09851383090888444;
community_x('94') = 0.0325822956804418; community_y('94') = 0.3995952149437163;
community_x('95') = 0.6144908043611289; community_y('95') = 0.10979848578730689;
community_x('96') = 0.8713165943427151; community_y('96') = 0.6699384226962937;
community_x('97') = 0.9439947803244484; community_y('97') = 0.29790397105454614;
community_x('98') = 0.68218233799177; community_y('98') = 0.9650579074996485;
community_x('99') = 0.3455598885840183; community_y('99') = 0.4827230523144219;
community_x('100') = 0.3322933066434728; community_y('100') = 0.6618767361640094;
demand('1') = 0.5237887153058475;
demand('2') = 0.8197390395798249;
demand('3') = 0.7007263939907505;
demand('4') = 0.6410987769885296;
demand('5') = 0.03204625622688584;
demand('6') = 0.14194025464772142;
demand('7') = 0.7509195444036073;
demand('8') = 0.41195428382398813;
demand('9') = 0.9756599461150395;
demand('10') = 0.6357147387563624;
demand('11') = 0.8233027143964848;
demand('12') = 0.7452009388692579;
demand('13') = 0.9631027403432417;
demand('14') = 0.6577949997144603;
demand('15') = 0.9376831647822127;
demand('16') = 0.425695099698429;
demand('17') = 0.26740170533468643;
demand('18') = 0.11020267546426676;
demand('19') = 0.2525432086770847;
demand('20') = 0.8942483853587863;
demand('21') = 0.6581184862557082;
demand('22') = 0.043388423870278414;
demand('23') = 0.02784903972043573;
demand('24') = 0.4605444818560932;
demand('25') = 0.5444604172760558;
demand('26') = 0.360908160238246;
demand('27') = 0.01974758753890249;
demand('28') = 0.261690766412771;
demand('29') = 0.8768752468271519;
demand('30') = 0.7253373936361994;
demand('31') = 0.8184306443986822;
demand('32') = 0.26956781260883733;
demand('33') = 0.6677646127017136;
demand('34') = 0.1973038945815052;
demand('35') = 0.30173239417617304;
demand('36') = 0.9562559069121392;
demand('37') = 0.2133897446379358;
demand('38') = 0.29251857536512504;
demand('39') = 0.21768828301524978;
demand('40') = 0.8682755976738481;
demand('41') = 0.6872984300075072;
demand('42') = 0.5908896312970385;
demand('43') = 0.8509936318171801;
demand('44') = 0.46358344201862645;
demand('45') = 0.9159377819602287;
demand('46') = 0.7770447743622878;
demand('47') = 0.2994183334407492;
demand('48') = 0.2360050852422244;
demand('49') = 0.5372592299067787;
demand('50') = 0.44610399507715515;
demand('51') = 0.7898243499882375;
demand('52') = 0.6522657638435604;
demand('53') = 0.7425812431395556;
demand('54') = 0.6031796991143933;
demand('55') = 0.2639004122672084;
demand('56') = 0.7439534045650983;
demand('57') = 0.9815323874305582;
demand('58') = 0.6372056988661013;
demand('59') = 0.7109468078437314;
demand('60') = 0.23347002717786247;
demand('61') = 0.11797083635514338;
demand('62') = 0.4480248363035305;
demand('63') = 0.5936042501232476;
demand('64') = 0.7272096632515725;
demand('65') = 0.47404919245899513;
demand('66') = 0.5437181913812397;
demand('67') = 0.08849299861942617;
demand('68') = 0.04795823025964907;
demand('69') = 0.12163746373450335;
demand('70') = 0.31873169940318014;
demand('71') = 0.24323151557893374;
demand('72') = 0.1428790443921223;
demand('73') = 0.33845342083585306;
demand('74') = 0.336854070335152;
demand('75') = 0.8241728384960878;
demand('76') = 0.9351733693903606;
demand('77') = 0.993790312953735;
demand('78') = 0.7373173791804193;
demand('79') = 0.011236594114943932;
demand('80') = 0.2380112043077156;
demand('81') = 0.9989619309272509;
demand('82') = 0.6958783695578226;
demand('83') = 0.857856239292848;
demand('84') = 0.1997091610618259;
demand('85') = 0.2403669141527106;
demand('86') = 0.09814473768311915;
demand('87') = 0.5248518543198755;
demand('88') = 0.3657755152940917;
demand('89') = 0.47078288049219363;
demand('90') = 0.1383236543919154;
demand('91') = 0.025699495194813293;
demand('92') = 0.38619486280807336;
demand('93') = 0.9265393344860128;
demand('94') = 0.6526024687304363;
demand('95') = 0.571630959084446;
demand('96') = 0.06307829508913498;
demand('97') = 0.43344211320173276;
demand('98') = 0.36912668590229003;
demand('99') = 0.6306101492650494;
demand('100') = 0.40284514563242635;
capacity('1') = 23.312517949055152;
capacity('2') = 7.992202539773037;
capacity('3') = 21.185769723741828;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
