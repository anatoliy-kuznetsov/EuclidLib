Sets
i facilities / 1*15 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.8959023750070165; community_y('1') = 0.5241654085990279;
community_x('2') = 0.19693499637681267; community_y('2') = 0.798378474359264;
community_x('3') = 0.11337863309189022; community_y('3') = 0.4911895881277897;
community_x('4') = 0.11224065970269159; community_y('4') = 0.034568934842485244;
community_x('5') = 0.754303968495609; community_y('5') = 0.1418344683329581;
community_x('6') = 0.8580029722220581; community_y('6') = 0.6103999975375194;
community_x('7') = 0.9914448879064851; community_y('7') = 0.7951991215073778;
community_x('8') = 0.678457453228653; community_y('8') = 0.48739392496036893;
community_x('9') = 0.6400058812215956; community_y('9') = 0.937009600876365;
community_x('10') = 0.6873172546879811; community_y('10') = 0.9167806520534454;
community_x('11') = 0.4828295786809411; community_y('11') = 0.027432988843277384;
community_x('12') = 0.5469962772059983; community_y('12') = 0.09002633313671549;
community_x('13') = 0.1435539063367426; community_y('13') = 0.6681868914493779;
community_x('14') = 0.041763985787766855; community_y('14') = 0.9423910513132864;
community_x('15') = 0.8684162036818949; community_y('15') = 0.5817673659985038;
community_x('16') = 0.8017165673735276; community_y('16') = 0.7611380188047392;
community_x('17') = 0.9648293293018015; community_y('17') = 0.6048903206006386;
community_x('18') = 0.7401737862578419; community_y('18') = 0.6496837153530853;
community_x('19') = 0.5872646588390643; community_y('19') = 0.07952232534951409;
community_x('20') = 0.16511409121094922; community_y('20') = 0.8389789783188867;
community_x('21') = 0.8689652170637348; community_y('21') = 0.8225720165189901;
community_x('22') = 0.529091121388647; community_y('22') = 0.8549194174729143;
community_x('23') = 0.8677822648062925; community_y('23') = 0.9675218976167786;
community_x('24') = 0.7808847288951628; community_y('24') = 0.7313075033888801;
community_x('25') = 0.7860486056613809; community_y('25') = 0.12175378967590822;
community_x('26') = 0.6318976568412141; community_y('26') = 0.5773490393360043;
community_x('27') = 0.7984151221288264; community_y('27') = 0.011690880259804248;
community_x('28') = 0.42869311582308134; community_y('28') = 0.7404274872936267;
community_x('29') = 0.713704803601928; community_y('29') = 0.9478053731636688;
community_x('30') = 0.5250585401760516; community_y('30') = 0.22965366994888936;
community_x('31') = 0.6093656737147902; community_y('31') = 0.117113346117806;
community_x('32') = 0.9737652449613158; community_y('32') = 0.8210174094537513;
community_x('33') = 0.8890649128022179; community_y('33') = 0.9074204365961349;
community_x('34') = 0.7149566954143768; community_y('34') = 0.24205075393938447;
community_x('35') = 0.5990954852964624; community_y('35') = 0.8239610432252265;
community_x('36') = 0.23302629033589972; community_y('36') = 0.7351511539282204;
community_x('37') = 0.8397051840253272; community_y('37') = 0.0846316167783634;
community_x('38') = 0.41050737990744146; community_y('38') = 0.6065409658079886;
community_x('39') = 0.3696905937065268; community_y('39') = 0.9744982381905207;
community_x('40') = 0.8617619737378707; community_y('40') = 0.365388053885773;
community_x('41') = 0.477402662283017; community_y('41') = 0.010512679218484977;
community_x('42') = 0.6979897122267146; community_y('42') = 0.011396819172710515;
community_x('43') = 0.18508342559014013; community_y('43') = 0.635791588411286;
community_x('44') = 0.7536892041200443; community_y('44') = 0.9633797553881136;
community_x('45') = 0.9530529153389086; community_y('45') = 0.1913200004414476;
community_x('46') = 0.6134958595228525; community_y('46') = 0.6606320953103079;
community_x('47') = 0.8461088891471101; community_y('47') = 0.5239936258993382;
community_x('48') = 0.5726511081847925; community_y('48') = 0.46869623455165377;
community_x('49') = 0.7193092089008255; community_y('49') = 0.6492179276465925;
community_x('50') = 0.44492931625305854; community_y('50') = 0.41042755827166666;
community_x('51') = 0.31063149264670087; community_y('51') = 0.33597134197585243;
community_x('52') = 0.9329460451306354; community_y('52') = 0.45320178050118753;
community_x('53') = 0.6500813598637935; community_y('53') = 0.7451239195556186;
community_x('54') = 0.9251966596809066; community_y('54') = 0.608568899380724;
community_x('55') = 0.33245388052789315; community_y('55') = 0.28726012551229374;
community_x('56') = 0.2571637001233963; community_y('56') = 0.34668078882795983;
community_x('57') = 0.5394588011216142; community_y('57') = 0.08234445219062891;
community_x('58') = 0.5924215031626088; community_y('58') = 0.8424585478089693;
community_x('59') = 0.058070068492789395; community_y('59') = 0.442491150180065;
community_x('60') = 0.08062586499978597; community_y('60') = 0.13970587684948266;
community_x('61') = 0.6027102862736337; community_y('61') = 0.9370579707278284;
community_x('62') = 0.025797181096596233; community_y('62') = 0.616500745587541;
community_x('63') = 0.13559427855958017; community_y('63') = 0.8236079847832211;
community_x('64') = 0.9497402761110969; community_y('64') = 0.40708508996217807;
community_x('65') = 0.9562405493245583; community_y('65') = 0.2334903056616806;
community_x('66') = 0.9006291815123401; community_y('66') = 0.2277912915273378;
community_x('67') = 0.29045231205256794; community_y('67') = 0.6396248505093073;
community_x('68') = 0.9724741033395096; community_y('68') = 0.9547074683687309;
community_x('69') = 0.37574690784984077; community_y('69') = 0.29416024524127127;
community_x('70') = 0.8089253598861647; community_y('70') = 0.48664763740313255;
community_x('71') = 0.29561969171657976; community_y('71') = 0.4846704482533307;
community_x('72') = 0.9465408952246235; community_y('72') = 0.6035011622649219;
community_x('73') = 0.17091871564942163; community_y('73') = 0.815624903496158;
community_x('74') = 0.06220884255953063; community_y('74') = 0.6300049796313645;
community_x('75') = 0.19388365834532917; community_y('75') = 0.008260817377599983;
community_x('76') = 0.6047780140768144; community_y('76') = 0.6839937349459487;
community_x('77') = 0.06931634490631344; community_y('77') = 0.452187391127286;
community_x('78') = 0.6660502023601397; community_y('78') = 0.9184951612173846;
community_x('79') = 0.8198202998383622; community_y('79') = 0.822655663815659;
community_x('80') = 0.8068022525766883; community_y('80') = 0.7738465019209737;
community_x('81') = 0.8359231840997905; community_y('81') = 0.9906504904743887;
community_x('82') = 0.6831295962725068; community_y('82') = 0.8605915884581773;
community_x('83') = 0.5082340670893515; community_y('83') = 0.2395565865375201;
community_x('84') = 0.5298850773601719; community_y('84') = 0.9546080665111001;
community_x('85') = 0.2667514341742545; community_y('85') = 0.599773188649442;
community_x('86') = 0.5406029966798334; community_y('86') = 0.5436186253239667;
community_x('87') = 0.5935336615185028; community_y('87') = 0.3304558981121182;
community_x('88') = 0.4984901227877593; community_y('88') = 0.827550940325229;
community_x('89') = 0.894162145645687; community_y('89') = 0.604434171768562;
community_x('90') = 0.7866530729702956; community_y('90') = 0.5880382157624695;
community_x('91') = 0.3070248553266802; community_y('91') = 0.5422260983655235;
community_x('92') = 0.8934439681604447; community_y('92') = 0.9494352363470543;
community_x('93') = 0.33379015673639567; community_y('93') = 0.5591504582618946;
community_x('94') = 0.5108573877896445; community_y('94') = 0.6530150001420351;
community_x('95') = 0.10467560693827227; community_y('95') = 0.0019848306239406144;
community_x('96') = 0.6802755492373385; community_y('96') = 0.015417012978049649;
community_x('97') = 0.05957752381057879; community_y('97') = 0.3641069292699258;
community_x('98') = 0.15482639484614813; community_y('98') = 0.7877275596101758;
community_x('99') = 0.8726240031607424; community_y('99') = 0.7834581780806016;
community_x('100') = 0.9205237696589617; community_y('100') = 0.5088812861644378;
demand('1') = 0.32785844485360405;
demand('2') = 0.6099461189017769;
demand('3') = 0.939998894096504;
demand('4') = 0.3166472426252319;
demand('5') = 0.6863243897536208;
demand('6') = 0.070316594335046;
demand('7') = 0.5018363964900096;
demand('8') = 0.22360638252912057;
demand('9') = 0.9923117925848259;
demand('10') = 0.5492464056291068;
demand('11') = 0.7608442095369945;
demand('12') = 0.9074423522208894;
demand('13') = 0.5200129549026058;
demand('14') = 0.5677965756250942;
demand('15') = 0.5727101333121691;
demand('16') = 0.7571412073832064;
demand('17') = 0.8672103796262578;
demand('18') = 0.5640355009397596;
demand('19') = 0.5021640101599818;
demand('20') = 0.23634920296643103;
demand('21') = 0.7750559409726808;
demand('22') = 0.9441828904892595;
demand('23') = 0.744188277486035;
demand('24') = 0.2227746728012241;
demand('25') = 0.9989858885293298;
demand('26') = 0.5518187507243075;
demand('27') = 0.8804861421079838;
demand('28') = 0.14180395482144437;
demand('29') = 0.5638007951750271;
demand('30') = 0.13631717852619418;
demand('31') = 0.5599143452981027;
demand('32') = 0.11797705732540298;
demand('33') = 0.7994019045148307;
demand('34') = 0.49456627171730483;
demand('35') = 0.847013764314315;
demand('36') = 0.3132704473423046;
demand('37') = 0.5495677443899638;
demand('38') = 0.17677538745163768;
demand('39') = 0.20543510549717747;
demand('40') = 0.23875506129555135;
demand('41') = 0.5720844274189514;
demand('42') = 0.055281848992117744;
demand('43') = 0.89730895073131;
demand('44') = 0.5863082400559757;
demand('45') = 0.5942242678376772;
demand('46') = 0.42379721514275714;
demand('47') = 0.9527476132466185;
demand('48') = 0.6487053157851599;
demand('49') = 0.23395210213907436;
demand('50') = 0.3918556053030522;
demand('51') = 0.12053406904466313;
demand('52') = 0.5324147820926451;
demand('53') = 0.02332959135511914;
demand('54') = 0.26800056349340573;
demand('55') = 0.6380014347630976;
demand('56') = 0.38978861820987865;
demand('57') = 0.2960687777125399;
demand('58') = 0.691209393002209;
demand('59') = 0.28780156018308234;
demand('60') = 0.07710071411641428;
demand('61') = 0.718438813866746;
demand('62') = 0.716811934516261;
demand('63') = 0.16615144028993678;
demand('64') = 0.1341908774001792;
demand('65') = 0.8988185104446533;
demand('66') = 0.570268302224219;
demand('67') = 0.008783310997920402;
demand('68') = 0.1609851654153549;
demand('69') = 0.8052670495570103;
demand('70') = 0.046598076994871174;
demand('71') = 0.15961673818905686;
demand('72') = 0.7786417720335778;
demand('73') = 0.43995572744370237;
demand('74') = 0.1628741307683227;
demand('75') = 0.1486054288129699;
demand('76') = 0.001045102429208078;
demand('77') = 0.09298978214482534;
demand('78') = 0.5132898836008833;
demand('79') = 0.36397823547112285;
demand('80') = 0.009250847625441927;
demand('81') = 0.5994005070238162;
demand('82') = 0.825054620045687;
demand('83') = 0.16773872621812913;
demand('84') = 0.7674591435057445;
demand('85') = 0.7835528825629299;
demand('86') = 0.11427406297720866;
demand('87') = 0.7371741581531731;
demand('88') = 0.3626057263018272;
demand('89') = 0.9905613732462907;
demand('90') = 0.43622201748534895;
demand('91') = 0.6821158895610916;
demand('92') = 0.7744382207486846;
demand('93') = 0.05277854160669615;
demand('94') = 0.6529869795577308;
demand('95') = 0.04499381368458877;
demand('96') = 0.2939883658034872;
demand('97') = 0.5411710683591202;
demand('98') = 0.09042700824202987;
demand('99') = 0.8211473056863514;
demand('100') = 0.05413818498377798;
capacity('1') = 2.1497971101209123;
capacity('2') = 0.2977401403844954;
capacity('3') = 3.7563793520119613;
capacity('4') = 4.493961421859806;
capacity('5') = 2.554864603360681;
capacity('6') = 0.8708837492387838;
capacity('7') = 4.6615126626036965;
capacity('8') = 5.078068104020357;
capacity('9') = 3.352392501045535;
capacity('10') = 4.547950339797089;
capacity('11') = 3.6383276141464207;
capacity('12') = 4.757943339058453;
capacity('13') = 5.013696546904343;
capacity('14') = 1.7463161865363133;
capacity('15') = 2.5406216940621236;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
