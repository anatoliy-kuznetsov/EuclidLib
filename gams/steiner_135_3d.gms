Sets
i Steiner points / 1*133 /
j terminals / 1*135 /
k dimensions / 1*3 /;
Alias(i,ii);
Parameters terminals(j,k);
terminals('1', '1') = 0.04352997380924217; terminals('1', '2') = 0.9673758798209019; terminals('1', '3') = 0.7218592946191075; 
terminals('2', '1') = 0.8325302086793748; terminals('2', '2') = 0.84078310943921; terminals('2', '3') = 0.6126795602674124; 
terminals('3', '1') = 0.6685903039260942; terminals('3', '2') = 0.09922702368228553; terminals('3', '3') = 0.40569571371458446; 
terminals('4', '1') = 0.5920818247026924; terminals('4', '2') = 0.22832885035235073; terminals('4', '3') = 0.19982780151790536; 
terminals('5', '1') = 0.33068965227124913; terminals('5', '2') = 0.014973993578620282; terminals('5', '3') = 0.5256972048266558; 
terminals('6', '1') = 0.5439089935848576; terminals('6', '2') = 0.288949983490971; terminals('6', '3') = 0.16239679963857911; 
terminals('7', '1') = 0.7828294468325618; terminals('7', '2') = 0.7046620519144801; terminals('7', '3') = 0.32134902763965933; 
terminals('8', '1') = 0.512005835892898; terminals('8', '2') = 0.5458462383724658; terminals('8', '3') = 0.4796559963975907; 
terminals('9', '1') = 0.9823450388306735; terminals('9', '2') = 0.3953942426440341; terminals('9', '3') = 0.6822593068946684; 
terminals('10', '1') = 0.7149306966709847; terminals('10', '2') = 0.417523691518464; terminals('10', '3') = 0.6697415395019599; 
terminals('11', '1') = 0.576759848633101; terminals('11', '2') = 0.6278215466360236; terminals('11', '3') = 0.22640609286715996; 
terminals('12', '1') = 0.9098441633476556; terminals('12', '2') = 0.6786071431830399; terminals('12', '3') = 0.26818771904352656; 
terminals('13', '1') = 0.989528999237383; terminals('13', '2') = 0.08410498178915826; terminals('13', '3') = 0.5339222414034134; 
terminals('14', '1') = 0.2922636445250817; terminals('14', '2') = 0.04512424390351477; terminals('14', '3') = 0.9165064632681964; 
terminals('15', '1') = 0.9998987747692255; terminals('15', '2') = 0.803358501518003; terminals('15', '3') = 0.37940679105650865; 
terminals('16', '1') = 0.584617596616933; terminals('16', '2') = 0.796778414863744; terminals('16', '3') = 0.009501877635946232; 
terminals('17', '1') = 0.6251238436941225; terminals('17', '2') = 0.150845244523516; terminals('17', '3') = 0.04667420325571081; 
terminals('18', '1') = 0.09430508758212253; terminals('18', '2') = 0.9863448745522994; terminals('18', '3') = 0.5610253120945047; 
terminals('19', '1') = 0.3134671779443914; terminals('19', '2') = 0.11729807519954671; terminals('19', '3') = 0.42125917342581265; 
terminals('20', '1') = 0.780697781698512; terminals('20', '2') = 0.9536937318877919; terminals('20', '3') = 0.02357509058742413; 
terminals('21', '1') = 0.1885574103566522; terminals('21', '2') = 0.052130807078241914; terminals('21', '3') = 0.8877344697861584; 
terminals('22', '1') = 0.5994185526531611; terminals('22', '2') = 0.31786542797325645; terminals('22', '3') = 0.590821442900181; 
terminals('23', '1') = 0.30773187404764857; terminals('23', '2') = 0.3453625008517702; terminals('23', '3') = 0.7165189057450938; 
terminals('24', '1') = 0.03991232567834324; terminals('24', '2') = 0.7047511973856657; terminals('24', '3') = 0.09565299212218759; 
terminals('25', '1') = 0.31700312576446055; terminals('25', '2') = 0.203088308828546; terminals('25', '3') = 0.2621051016873457; 
terminals('26', '1') = 0.7754347782899312; terminals('26', '2') = 0.9979728167214214; terminals('26', '3') = 0.5078455341734577; 
terminals('27', '1') = 0.5193586995858006; terminals('27', '2') = 0.828308802760788; terminals('27', '3') = 0.8596146345440261; 
terminals('28', '1') = 0.024887185958398117; terminals('28', '2') = 0.9230316667433669; terminals('28', '3') = 0.7722541246838693; 
terminals('29', '1') = 0.4021712710981289; terminals('29', '2') = 0.5873088186945323; terminals('29', '3') = 0.8625107692174884; 
terminals('30', '1') = 0.01549770225145397; terminals('30', '2') = 0.45966812678955693; terminals('30', '3') = 0.014605916058902269; 
terminals('31', '1') = 0.28160397365415424; terminals('31', '2') = 0.792079021929858; terminals('31', '3') = 0.43655358499251773; 
terminals('32', '1') = 0.9360577623626535; terminals('32', '2') = 0.15048223084161294; terminals('32', '3') = 0.40040822076056193; 
terminals('33', '1') = 0.39957461695058516; terminals('33', '2') = 0.37228852498159604; terminals('33', '3') = 0.4248023113573658; 
terminals('34', '1') = 0.08611498606530321; terminals('34', '2') = 0.021328462198465514; terminals('34', '3') = 0.43136099861524935; 
terminals('35', '1') = 0.9683867548889243; terminals('35', '2') = 0.43176252690449635; terminals('35', '3') = 0.7051154261104363; 
terminals('36', '1') = 0.8528899699857574; terminals('36', '2') = 0.056702430361575185; terminals('36', '3') = 0.9999738140399665; 
terminals('37', '1') = 0.09926929601530043; terminals('37', '2') = 0.4883484615191034; terminals('37', '3') = 0.8775682659437569; 
terminals('38', '1') = 0.8591980838803571; terminals('38', '2') = 0.9535285024823161; terminals('38', '3') = 0.671796490711464; 
terminals('39', '1') = 0.840377349356646; terminals('39', '2') = 0.050245303278057096; terminals('39', '3') = 0.6831201773603465; 
terminals('40', '1') = 0.9304171987085437; terminals('40', '2') = 0.9747913383426138; terminals('40', '3') = 0.728193622749515; 
terminals('41', '1') = 0.8594591786988736; terminals('41', '2') = 0.2129385376564542; terminals('41', '3') = 0.5861361341499532; 
terminals('42', '1') = 0.8830617733540163; terminals('42', '2') = 0.6513550336901357; terminals('42', '3') = 0.32652690353399305; 
terminals('43', '1') = 0.7369697930135108; terminals('43', '2') = 0.4232077437445123; terminals('43', '3') = 0.41514631600178586; 
terminals('44', '1') = 0.8877421575733294; terminals('44', '2') = 0.35359624938246126; terminals('44', '3') = 0.5386694038419944; 
terminals('45', '1') = 0.6146219899671712; terminals('45', '2') = 0.6187008987200245; terminals('45', '3') = 0.5446097396518709; 
terminals('46', '1') = 0.9498461666274414; terminals('46', '2') = 0.4348872959714778; terminals('46', '3') = 0.25361512235362105; 
terminals('47', '1') = 0.14558456121533747; terminals('47', '2') = 0.4350361367258555; terminals('47', '3') = 0.22967811813954908; 
terminals('48', '1') = 0.9949089201480327; terminals('48', '2') = 0.4501178268723145; terminals('48', '3') = 0.15421013115964166; 
terminals('49', '1') = 0.6860906805310618; terminals('49', '2') = 0.2125485075506216; terminals('49', '3') = 0.8256350697199238; 
terminals('50', '1') = 0.34612349068390036; terminals('50', '2') = 0.15536864819800222; terminals('50', '3') = 0.9104794777206255; 
terminals('51', '1') = 0.7519643426183692; terminals('51', '2') = 0.6150002354110952; terminals('51', '3') = 0.8345227465683506; 
terminals('52', '1') = 0.8740235521461202; terminals('52', '2') = 0.11624574739972326; terminals('52', '3') = 0.16045499672887886; 
terminals('53', '1') = 0.9890855137085773; terminals('53', '2') = 0.8696892846956702; terminals('53', '3') = 0.5250557213675161; 
terminals('54', '1') = 0.828414963319719; terminals('54', '2') = 0.8831298510725728; terminals('54', '3') = 0.5147014096362644; 
terminals('55', '1') = 0.6478613611098388; terminals('55', '2') = 0.42632752370642546; terminals('55', '3') = 0.6768842231571979; 
terminals('56', '1') = 0.8267223695745023; terminals('56', '2') = 0.9202199465690473; terminals('56', '3') = 0.3715684753066363; 
terminals('57', '1') = 0.7378159383678831; terminals('57', '2') = 0.9257413939878337; terminals('57', '3') = 0.24611271276213242; 
terminals('58', '1') = 0.5038683411595818; terminals('58', '2') = 0.8819403383800019; terminals('58', '3') = 0.3818367538004662; 
terminals('59', '1') = 0.7848219478992361; terminals('59', '2') = 0.6601562579762736; terminals('59', '3') = 0.7685792118919954; 
terminals('60', '1') = 0.5617434569867656; terminals('60', '2') = 0.4823403814284065; terminals('60', '3') = 0.6478067305252778; 
terminals('61', '1') = 0.8718499181723659; terminals('61', '2') = 0.6635942931750808; terminals('61', '3') = 0.9571580509159183; 
terminals('62', '1') = 0.37329505032792576; terminals('62', '2') = 0.9926455038538952; terminals('62', '3') = 0.6369337672677061; 
terminals('63', '1') = 0.9207465630519983; terminals('63', '2') = 0.7476329109873948; terminals('63', '3') = 0.6780842233133731; 
terminals('64', '1') = 0.21851258406079244; terminals('64', '2') = 0.750255321397971; terminals('64', '3') = 0.5527987192982693; 
terminals('65', '1') = 0.10413073554304897; terminals('65', '2') = 0.4613518285577123; terminals('65', '3') = 0.65026915442265; 
terminals('66', '1') = 0.7107569931309199; terminals('66', '2') = 0.24252895936579633; terminals('66', '3') = 0.07059225414269032; 
terminals('67', '1') = 0.9943621798826571; terminals('67', '2') = 0.5921230831276739; terminals('67', '3') = 0.49788503842690246; 
terminals('68', '1') = 0.25954958868033096; terminals('68', '2') = 0.12306223359552815; terminals('68', '3') = 0.9677654087126388; 
terminals('69', '1') = 0.19166342574879736; terminals('69', '2') = 0.6188605432384879; terminals('69', '3') = 0.22788502095709307; 
terminals('70', '1') = 0.5731184638320732; terminals('70', '2') = 0.059489136166903656; terminals('70', '3') = 0.4735918210298218; 
terminals('71', '1') = 0.7834861835652737; terminals('71', '2') = 0.8193147600764855; terminals('71', '3') = 0.8238923299819335; 
terminals('72', '1') = 0.2043908566387862; terminals('72', '2') = 0.8511769130247956; terminals('72', '3') = 0.1958735098877511; 
terminals('73', '1') = 0.5497032614447916; terminals('73', '2') = 0.3712801773792578; terminals('73', '3') = 0.4596082053353491; 
terminals('74', '1') = 0.8313836804614527; terminals('74', '2') = 0.4598812190292223; terminals('74', '3') = 0.5338923108675623; 
terminals('75', '1') = 0.4632580193457576; terminals('75', '2') = 0.9017110135105922; terminals('75', '3') = 0.7483658663258181; 
terminals('76', '1') = 0.9795677483036512; terminals('76', '2') = 0.6852016309366735; terminals('76', '3') = 0.008875587870215917; 
terminals('77', '1') = 0.9515451553767923; terminals('77', '2') = 0.6408555504294488; terminals('77', '3') = 0.21656138179127293; 
terminals('78', '1') = 0.3445141659958927; terminals('78', '2') = 0.3813856816450234; terminals('78', '3') = 0.8482761720282759; 
terminals('79', '1') = 0.21368746458070476; terminals('79', '2') = 0.6683666875852674; terminals('79', '3') = 0.13630897823179844; 
terminals('80', '1') = 0.571503546986564; terminals('80', '2') = 0.4810798126731335; terminals('80', '3') = 0.7430986236516597; 
terminals('81', '1') = 0.637369477530276; terminals('81', '2') = 0.04179118237012969; terminals('81', '3') = 0.2944905903770171; 
terminals('82', '1') = 0.7463728504838051; terminals('82', '2') = 0.563497557091613; terminals('82', '3') = 0.22847818282166854; 
terminals('83', '1') = 0.13319674565667816; terminals('83', '2') = 0.11636709599200001; terminals('83', '3') = 0.04072761889427512; 
terminals('84', '1') = 0.9329606700698528; terminals('84', '2') = 0.37797893463619525; terminals('84', '3') = 0.7388055246208979; 
terminals('85', '1') = 0.9450592086759112; terminals('85', '2') = 0.06925700716532535; terminals('85', '3') = 0.45569516429582113; 
terminals('86', '1') = 0.3774930973335029; terminals('86', '2') = 0.2529533631407972; terminals('86', '3') = 0.712813040030061; 
terminals('87', '1') = 0.07671772078860317; terminals('87', '2') = 0.8041821428451007; terminals('87', '3') = 0.3392371958652387; 
terminals('88', '1') = 0.4218235369444322; terminals('88', '2') = 0.5515266028292812; terminals('88', '3') = 0.8137104225850212; 
terminals('89', '1') = 0.2311242079830631; terminals('89', '2') = 0.7226031417250149; terminals('89', '3') = 0.8867902739993978; 
terminals('90', '1') = 0.9230277391590325; terminals('90', '2') = 0.2734047559388042; terminals('90', '3') = 0.8677807325711744; 
terminals('91', '1') = 0.78941220724099; terminals('91', '2') = 0.9862513586220029; terminals('91', '3') = 0.6293787108366186; 
terminals('92', '1') = 0.7901669230399728; terminals('92', '2') = 0.2966116796074837; terminals('92', '3') = 0.48182684522915653; 
terminals('93', '1') = 0.1627912684652274; terminals('93', '2') = 0.16154644441418453; terminals('93', '3') = 0.0034656313998621124; 
terminals('94', '1') = 0.8583721678224585; terminals('94', '2') = 0.9962491140212832; terminals('94', '3') = 0.9333256454375443; 
terminals('95', '1') = 0.9946799562164637; terminals('95', '2') = 0.6002516742884012; terminals('95', '3') = 0.23500544007379398; 
terminals('96', '1') = 0.30430087307343956; terminals('96', '2') = 0.6137417235630913; terminals('96', '3') = 0.6149104701217587; 
terminals('97', '1') = 0.540533496861184; terminals('97', '2') = 0.38446570873303276; terminals('97', '3') = 0.9568441652421553; 
terminals('98', '1') = 0.1845229799546083; terminals('98', '2') = 0.08891739350622152; terminals('98', '3') = 0.7496594990851273; 
terminals('99', '1') = 0.7686744338438161; terminals('99', '2') = 0.4899745246226639; terminals('99', '3') = 0.877736558858798; 
terminals('100', '1') = 0.752388957126104; terminals('100', '2') = 0.3003467763594312; terminals('100', '3') = 0.5358147985190741; 
terminals('101', '1') = 0.07024276128717666; terminals('101', '2') = 0.5381238964727159; terminals('101', '3') = 0.8516231995923244; 
terminals('102', '1') = 0.21955615678501417; terminals('102', '2') = 0.04783793680650161; terminals('102', '3') = 0.764136818395423; 
terminals('103', '1') = 0.25514529547958087; terminals('103', '2') = 0.15897844522569582; terminals('103', '3') = 0.1551249254393493; 
terminals('104', '1') = 0.20815361946352617; terminals('104', '2') = 0.4736815346774067; terminals('104', '3') = 0.46786750809068445; 
terminals('105', '1') = 0.08606384895492791; terminals('105', '2') = 0.6594979688788754; terminals('105', '3') = 0.8714069172282628; 
terminals('106', '1') = 0.5036491882537156; terminals('106', '2') = 0.6486466756943882; terminals('106', '3') = 0.6334197929940316; 
terminals('107', '1') = 0.8591578579865498; terminals('107', '2') = 0.6075481326785116; terminals('107', '3') = 0.15336856396720477; 
terminals('108', '1') = 0.7065844383059363; terminals('108', '2') = 0.9030299625372454; terminals('108', '3') = 0.8355052094238434; 
terminals('109', '1') = 0.8068952501741287; terminals('109', '2') = 0.7032997339378346; terminals('109', '3') = 0.4867602291766301; 
terminals('110', '1') = 0.6756908083226612; terminals('110', '2') = 0.17879071286068504; terminals('110', '3') = 0.015126760208498236; 
terminals('111', '1') = 0.8066420805488714; terminals('111', '2') = 0.11410122371614861; terminals('111', '3') = 0.6112876906534113; 
terminals('112', '1') = 0.4567129472685105; terminals('112', '2') = 0.2838409874040606; terminals('112', '3') = 0.6978413502468211; 
terminals('113', '1') = 0.5897004777666881; terminals('113', '2') = 0.21213002178175566; terminals('113', '3') = 0.6881292130988583; 
terminals('114', '1') = 0.9970457640536511; terminals('114', '2') = 0.07003134046742854; terminals('114', '3') = 0.07587492112349303; 
terminals('115', '1') = 0.7957356604321114; terminals('115', '2') = 0.49045322647248135; terminals('115', '3') = 0.8293808049990135; 
terminals('116', '1') = 0.7508290891362872; terminals('116', '2') = 0.42720725454427755; terminals('116', '3') = 0.8122043616038812; 
terminals('117', '1') = 0.8260009362762684; terminals('117', '2') = 0.7944016308998982; terminals('117', '3') = 0.2511017533528409; 
terminals('118', '1') = 0.5000517504471228; terminals('118', '2') = 0.4479995874615621; terminals('118', '3') = 0.7537310393126025; 
terminals('119', '1') = 0.9047611191231657; terminals('119', '2') = 0.7984878985925821; terminals('119', '3') = 0.43978548593904887; 
terminals('120', '1') = 0.4339407928295915; terminals('120', '2') = 0.8545842555210191; terminals('120', '3') = 0.11418274799375772; 
terminals('121', '1') = 0.7675239558044493; terminals('121', '2') = 0.48544882770694; terminals('121', '3') = 0.588342216657941; 
terminals('122', '1') = 0.9399598284439449; terminals('122', '2') = 0.4457549078112416; terminals('122', '3') = 0.12647736208045002; 
terminals('123', '1') = 0.9587759356582798; terminals('123', '2') = 0.06635534590959535; terminals('123', '3') = 0.7324722830119659; 
terminals('124', '1') = 0.6962473277145684; terminals('124', '2') = 0.49462109946283317; terminals('124', '3') = 0.7749536652933445; 
terminals('125', '1') = 0.07871802462081234; terminals('125', '2') = 0.006686628019625496; terminals('125', '3') = 0.5254310222004464; 
terminals('126', '1') = 0.7726846883816632; terminals('126', '2') = 0.49135697187626304; terminals('126', '3') = 0.25874090370966096; 
terminals('127', '1') = 0.3912343449667468; terminals('127', '2') = 0.2961565481672367; terminals('127', '3') = 0.754996195660754; 
terminals('128', '1') = 0.800759622642139; terminals('128', '2') = 0.642741578261581; terminals('128', '3') = 0.6455979054511783; 
terminals('129', '1') = 0.6062354902275207; terminals('129', '2') = 0.7461829263857875; terminals('129', '3') = 0.1863848834396158; 
terminals('130', '1') = 0.3976784360667389; terminals('130', '2') = 0.5099858299547755; terminals('130', '3') = 0.4069381151385011; 
terminals('131', '1') = 0.24090934089699612; terminals('131', '2') = 0.47030413143537586; terminals('131', '3') = 0.7506835904949939; 
terminals('132', '1') = 0.23993109112519206; terminals('132', '2') = 0.14977171268924472; terminals('132', '3') = 0.43239879365481426; 
terminals('133', '1') = 0.30045704573358134; terminals('133', '2') = 0.7329565715032704; terminals('133', '3') = 0.7513674609529359; 
terminals('134', '1') = 0.2984992865953664; terminals('134', '2') = 0.02733314868798853; terminals('134', '3') = 0.3698778150008931; 
terminals('135', '1') = 0.3251783372600814; terminals('135', '2') = 0.07217360315409649; terminals('135', '3') = 0.9019538678138086; 
Parameter bigM / 1.7320508075688772 /;
Positive Variables distance_Steiner_Steiner(i,ii), distance_Steiner_terminal(i,j), Steiner_points(i,k);
Steiner_points.up(i,k) = 1; distance_Steiner_Steiner.up(i,ii) = bigM; distance_Steiner_terminal.up(i,j) = bigM;
Binary Variables is_connected_Steiner_Steiner(i,ii), is_connected_Steiner_terminal(i,j);
Variable objective;
Equations objective_definition, distance_Steiner_Steiner_def(i,ii), distance_Steiner_terminal_def(i,j), assignment(j), cardinality(i), Steiner_connectivity(i);
objective_definition.. objective =e= sum(i, sum(ii$(ord(i)<ord(ii)), distance_Steiner_Steiner(i,ii)) + sum(j, distance_Steiner_terminal(i,j)));
distance_Steiner_Steiner_def(i,ii)$(ord(i)<ord(ii)).. distance_Steiner_Steiner(i,ii) =g= sqrt(sum(k, power(Steiner_points(i,k) - Steiner_points(ii,k), 2))) - bigM * (1 - is_connected_Steiner_Steiner(i,ii));
distance_Steiner_terminal_def(i,j).. distance_Steiner_terminal(i,j) =g= sqrt(sum(k, power(Steiner_points(i,k) - terminals(j,k), 2))) - bigM * (1 - is_connected_Steiner_terminal(i,j));
assignment(j).. sum(i, is_connected_Steiner_terminal(i,j)) =e= 1;
cardinality(i).. sum(j, is_connected_Steiner_terminal(i,j)) + sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) + sum(ii$(ord(i)<ord(ii)), is_connected_Steiner_Steiner(i,ii)) =e= 3;
Steiner_connectivity(i)$(ord(i)>1).. sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) =e= 1;
Model m / all /;
Solve m using minlp minimizing objective;
