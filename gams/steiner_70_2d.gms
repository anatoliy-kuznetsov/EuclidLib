Sets
i Steiner points / 1*68 /
j terminals / 1*70 /
k dimensions / 1*2 /;
Alias(i,ii);
Parameters terminals(j,k);
terminals('1', '1') = 0.7715909396983306; terminals('1', '2') = 0.09501244895307026; 
terminals('2', '1') = 0.2668740750715015; terminals('2', '2') = 0.5317154208704677; 
terminals('3', '1') = 0.05313402175475368; terminals('3', '2') = 0.7223694862894933; 
terminals('4', '1') = 0.015053805075161741; terminals('4', '2') = 0.18950272350738306; 
terminals('5', '1') = 0.7067320896814374; terminals('5', '2') = 0.8385236012660758; 
terminals('6', '1') = 0.38796233617440945; terminals('6', '2') = 0.9836538363210392; 
terminals('7', '1') = 0.8932761935446342; terminals('7', '2') = 0.23005034479407505; 
terminals('8', '1') = 0.18956711639049184; terminals('8', '2') = 0.8395566896388884; 
terminals('9', '1') = 0.6946106362471712; terminals('9', '2') = 0.9212328515319512; 
terminals('10', '1') = 0.05607219443847988; terminals('10', '2') = 0.5533095331732936; 
terminals('11', '1') = 0.3957946390112207; terminals('11', '2') = 0.4912599478133288; 
terminals('12', '1') = 0.708380419342668; terminals('12', '2') = 0.6565244314104901; 
terminals('13', '1') = 0.1449101577370634; terminals('13', '2') = 0.8677040127765966; 
terminals('14', '1') = 0.6596769795208308; terminals('14', '2') = 0.7489979625408111; 
terminals('15', '1') = 0.592458785354162; terminals('15', '2') = 0.662082080094577; 
terminals('16', '1') = 0.956769322415061; terminals('16', '2') = 0.8073523253302267; 
terminals('17', '1') = 0.47644335567206575; terminals('17', '2') = 0.21494637664338334; 
terminals('18', '1') = 0.24280567877259696; terminals('18', '2') = 0.14317831912283407; 
terminals('19', '1') = 0.5129716275385482; terminals('19', '2') = 0.07958323737356221; 
terminals('20', '1') = 0.4983341001773438; terminals('20', '2') = 0.14390502295970242; 
terminals('21', '1') = 0.8360002502158588; terminals('21', '2') = 0.37611364969214145; 
terminals('22', '1') = 0.8314364999015814; terminals('22', '2') = 0.8678410163025883; 
terminals('23', '1') = 0.8562064122430854; terminals('23', '2') = 0.9644025707233235; 
terminals('24', '1') = 0.4733823507692585; terminals('24', '2') = 0.6796431874867142; 
terminals('25', '1') = 0.6058365132740469; terminals('25', '2') = 0.9262478768266877; 
terminals('26', '1') = 0.38717265133235923; terminals('26', '2') = 0.6464391298879896; 
terminals('27', '1') = 0.7687606170381978; terminals('27', '2') = 0.6743814078665918; 
terminals('28', '1') = 0.9353053914824082; terminals('28', '2') = 0.3447036582101827; 
terminals('29', '1') = 0.2668341206281801; terminals('29', '2') = 0.19997245638995764; 
terminals('30', '1') = 0.3712939236154206; terminals('30', '2') = 0.5900778804205108; 
terminals('31', '1') = 0.3733801078520077; terminals('31', '2') = 0.8282338221606247; 
terminals('32', '1') = 0.1757249591483685; terminals('32', '2') = 0.8758925612861126; 
terminals('33', '1') = 0.8093585459402745; terminals('33', '2') = 0.39794276733803635; 
terminals('34', '1') = 0.3193935390897582; terminals('34', '2') = 0.48007799000572493; 
terminals('35', '1') = 0.14573231553402755; terminals('35', '2') = 0.9814821691811325; 
terminals('36', '1') = 0.1539740322848674; terminals('36', '2') = 0.19143490459871182; 
terminals('37', '1') = 0.5576568489549967; terminals('37', '2') = 0.6572892641511364; 
terminals('38', '1') = 0.2679724823323901; terminals('38', '2') = 0.10072510608055618; 
terminals('39', '1') = 0.00214938360428496; terminals('39', '2') = 0.6289058772006352; 
terminals('40', '1') = 0.6839660231036111; terminals('40', '2') = 0.23668994169913482; 
terminals('41', '1') = 0.3579902192579203; terminals('41', '2') = 0.3308205024036338; 
terminals('42', '1') = 0.5414329893913054; terminals('42', '2') = 0.3587592860704497; 
terminals('43', '1') = 0.2717745700366798; terminals('43', '2') = 0.4053208511224916; 
terminals('44', '1') = 0.7586724641204822; terminals('44', '2') = 0.7480447781585484; 
terminals('45', '1') = 0.9358843342850924; terminals('45', '2') = 0.8112532840531369; 
terminals('46', '1') = 0.433643787924088; terminals('46', '2') = 0.1324749490676559; 
terminals('47', '1') = 0.5481413614349032; terminals('47', '2') = 0.30125648902865443; 
terminals('48', '1') = 0.9858695415363028; terminals('48', '2') = 0.6665885241231972; 
terminals('49', '1') = 0.2616068518980569; terminals('49', '2') = 0.5805780537485955; 
terminals('50', '1') = 0.9720741545746064; terminals('50', '2') = 0.9102897801906655; 
terminals('51', '1') = 0.6744063096879525; terminals('51', '2') = 0.6857977708255485; 
terminals('52', '1') = 0.7885033093537225; terminals('52', '2') = 0.8955745332777585; 
terminals('53', '1') = 0.09635090689018777; terminals('53', '2') = 0.4059562933365215; 
terminals('54', '1') = 0.12880298503531096; terminals('54', '2') = 0.26058825614192704; 
terminals('55', '1') = 0.37781433814166354; terminals('55', '2') = 0.513325024653341; 
terminals('56', '1') = 0.4430627931398211; terminals('56', '2') = 0.682876063664481; 
terminals('57', '1') = 0.6052960392565125; terminals('57', '2') = 0.23349065501040955; 
terminals('58', '1') = 0.3855796777223821; terminals('58', '2') = 0.8707680369428801; 
terminals('59', '1') = 0.45568969609482657; terminals('59', '2') = 0.741419281573966; 
terminals('60', '1') = 0.9834110747898598; terminals('60', '2') = 0.9277048386141102; 
terminals('61', '1') = 0.4056622912297021; terminals('61', '2') = 0.9501398950557316; 
terminals('62', '1') = 0.12797440529064774; terminals('62', '2') = 0.7950516356046817; 
terminals('63', '1') = 0.37354856129515257; terminals('63', '2') = 0.343820458704024; 
terminals('64', '1') = 0.5118890837246862; terminals('64', '2') = 0.9338112367060616; 
terminals('65', '1') = 0.5331819590497878; terminals('65', '2') = 0.7608692805640939; 
terminals('66', '1') = 0.2537423057680027; terminals('66', '2') = 0.8757515424812596; 
terminals('67', '1') = 0.05097729803752926; terminals('67', '2') = 0.08695648591243776; 
terminals('68', '1') = 0.12364524377833774; terminals('68', '2') = 0.08539460361383722; 
terminals('69', '1') = 0.15946960255912856; terminals('69', '2') = 0.38425234410944076; 
terminals('70', '1') = 0.8906058910880592; terminals('70', '2') = 0.19359998817616564; 
Parameter bigM / 1.4142135623730951 /;
Positive Variables distance_Steiner_Steiner(i,ii), distance_Steiner_terminal(i,j), Steiner_points(i,k);
Steiner_points.up(i,k) = 1; distance_Steiner_Steiner.up(i,ii) = bigM; distance_Steiner_terminal.up(i,j) = bigM;
Binary Variables is_connected_Steiner_Steiner(i,ii), is_connected_Steiner_terminal(i,j);
Variable objective;
Equations objective_definition, distance_Steiner_Steiner_def(i,ii), distance_Steiner_terminal_def(i,j), assignment(j), cardinality(i), Steiner_connectivity(i);
objective_definition.. objective =e= sum(i, sum(ii$(ord(i)<ord(ii)), distance_Steiner_Steiner(i,ii)) + sum(j, distance_Steiner_terminal(i,j)));
distance_Steiner_Steiner_def(i,ii)$(ord(i)<ord(ii)).. distance_Steiner_Steiner(i,ii) =g= sqrt(sum(k, power(Steiner_points(i,k) - Steiner_points(ii,k), 2))) - bigM * (1 - is_connected_Steiner_Steiner(i,ii));
distance_Steiner_terminal_def(i,j).. distance_Steiner_terminal(i,j) =g= sqrt(sum(k, power(Steiner_points(i,k) - terminals(j,k), 2))) - bigM * (1 - is_connected_Steiner_terminal(i,j));
assignment(j).. sum(i, is_connected_Steiner_terminal(i,j)) =e= 1;
cardinality(i).. sum(j, is_connected_Steiner_terminal(i,j)) + sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) + sum(ii$(ord(i)<ord(ii)), is_connected_Steiner_Steiner(i,ii)) =e= 3;
Steiner_connectivity(i)$(ord(i)>1).. sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) =e= 1;
Model m / all /;
Solve m using minlp minimizing objective;
