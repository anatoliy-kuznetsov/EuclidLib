Sets
i facilities / 1*17 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.24010303006625622; community_y('1') = 0.6146604633371167;
community_x('2') = 0.1644024492039241; community_y('2') = 0.6581037399115481;
community_x('3') = 0.3998483109704457; community_y('3') = 0.9823965009360552;
community_x('4') = 0.15865520058981242; community_y('4') = 0.45366029627630555;
community_x('5') = 0.4066565536092135; community_y('5') = 0.5270418159804617;
community_x('6') = 0.11734579291890013; community_y('6') = 0.0712264642588828;
community_x('7') = 0.5272421162412383; community_y('7') = 0.4059106012565219;
community_x('8') = 0.5662541935669939; community_y('8') = 0.05940639550506044;
community_x('9') = 0.3488241170108176; community_y('9') = 0.5654215807110559;
community_x('10') = 0.8105555598126476; community_y('10') = 0.1476935507322258;
community_x('11') = 0.0318646887545142; community_y('11') = 0.7618017423428268;
community_x('12') = 0.9753798497819123; community_y('12') = 0.20537589275710855;
community_x('13') = 0.43436119755377967; community_y('13') = 0.15659582933070482;
community_x('14') = 0.1640269043753373; community_y('14') = 0.36994911356208426;
community_x('15') = 0.38611633063572137; community_y('15') = 0.8065898562647968;
community_x('16') = 0.422794367480549; community_y('16') = 0.3908704788798555;
community_x('17') = 0.0069641333806298444; community_y('17') = 0.9573731459907218;
community_x('18') = 0.703184183126904; community_y('18') = 0.7067401633344536;
community_x('19') = 0.6395424916022496; community_y('19') = 0.20282446219916117;
community_x('20') = 0.592362416844758; community_y('20') = 0.7554458325276417;
community_x('21') = 0.6362576105967884; community_y('21') = 0.1395150738809191;
community_x('22') = 0.9056755165913069; community_y('22') = 0.7412990496630613;
community_x('23') = 0.48344660346649293; community_y('23') = 0.5363789449950922;
community_x('24') = 0.5503820884378382; community_y('24') = 0.591556892392683;
community_x('25') = 0.9410524099202814; community_y('25') = 0.9182274733998862;
community_x('26') = 0.886446447908324; community_y('26') = 0.5570918182709683;
community_x('27') = 0.17269700276395805; community_y('27') = 0.4005599369317572;
community_x('28') = 0.1124306663116229; community_y('28') = 0.29792896096155597;
community_x('29') = 0.903605715032321; community_y('29') = 0.6154732997143316;
community_x('30') = 0.622529146234728; community_y('30') = 0.74139584405241;
community_x('31') = 0.021654486982585097; community_y('31') = 0.4792434071437174;
community_x('32') = 0.21003901867273367; community_y('32') = 0.6124625890629618;
community_x('33') = 0.33294484296894944; community_y('33') = 0.72612328581208;
community_x('34') = 0.40863423536053134; community_y('34') = 0.5130595079022241;
community_x('35') = 0.2609488392437307; community_y('35') = 0.0766958926472272;
community_x('36') = 0.3081753058391822; community_y('36') = 0.6097367329135555;
community_x('37') = 0.5557742292544933; community_y('37') = 0.05758590257994156;
community_x('38') = 0.9161967131842521; community_y('38') = 0.34464013183127196;
community_x('39') = 0.7016710426496471; community_y('39') = 0.5648440727690229;
community_x('40') = 0.9386943680704726; community_y('40') = 0.4200293411983106;
community_x('41') = 0.00687021961681189; community_y('41') = 0.8455789981553539;
community_x('42') = 0.2857138555217752; community_y('42') = 0.2625937466356322;
community_x('43') = 0.8926824930644724; community_y('43') = 0.4972895676336775;
community_x('44') = 0.5912797261744543; community_y('44') = 0.7523397314660397;
community_x('45') = 0.32737641045737187; community_y('45') = 0.5692723940609657;
community_x('46') = 0.25844510973724355; community_y('46') = 0.30206784633284756;
community_x('47') = 0.8483300361054843; community_y('47') = 0.8355345859671747;
community_x('48') = 0.9959620156946133; community_y('48') = 0.9186916545466977;
community_x('49') = 0.6469136243481591; community_y('49') = 0.6220682265285338;
community_x('50') = 0.7576031120940159; community_y('50') = 0.9542353061984327;
community_x('51') = 0.7390385358434506; community_y('51') = 0.9622951785197786;
community_x('52') = 0.7511222440694354; community_y('52') = 0.37339659772337275;
community_x('53') = 0.4446824158678777; community_y('53') = 0.035186856730740845;
community_x('54') = 0.8157978612595224; community_y('54') = 0.1906028055899497;
community_x('55') = 0.6400493081155659; community_y('55') = 0.9412167032686353;
community_x('56') = 0.9190211264371921; community_y('56') = 0.69827887733127;
community_x('57') = 0.8982279128762818; community_y('57') = 0.02788605932704946;
community_x('58') = 0.28397773179894514; community_y('58') = 0.7825635374964359;
community_x('59') = 0.5041708390207335; community_y('59') = 0.8920934313214228;
community_x('60') = 0.38976666352427625; community_y('60') = 0.7340154124983495;
community_x('61') = 0.1154680989993867; community_y('61') = 0.7935967366410321;
community_x('62') = 0.2939763158852857; community_y('62') = 0.8120011907722476;
community_x('63') = 0.9775408475697485; community_y('63') = 0.19940331907751352;
community_x('64') = 0.3789426035090344; community_y('64') = 0.6218758282372655;
community_x('65') = 0.11443911367402393; community_y('65') = 0.07567757048220147;
community_x('66') = 0.4464689932040533; community_y('66') = 0.69168781541072;
community_x('67') = 0.6258125101828855; community_y('67') = 0.6698372534170299;
community_x('68') = 0.8147931615307668; community_y('68') = 0.7829498451765745;
community_x('69') = 0.33883939693592513; community_y('69') = 0.7816588039318122;
community_x('70') = 0.6254300862445755; community_y('70') = 0.921747309372774;
community_x('71') = 0.26012865133814944; community_y('71') = 0.03744612089599886;
community_x('72') = 0.982678142966343; community_y('72') = 0.7535417975698712;
community_x('73') = 0.44941811426862766; community_y('73') = 0.8373416891260311;
community_x('74') = 0.8025725535982677; community_y('74') = 0.4140557189921802;
community_x('75') = 0.9094965959303819; community_y('75') = 0.3712235770603596;
community_x('76') = 0.7096990785715228; community_y('76') = 0.14224055046328155;
community_x('77') = 0.4632764537912136; community_y('77') = 0.3020542604611576;
community_x('78') = 0.6969579753572648; community_y('78') = 0.17222333131135603;
community_x('79') = 0.5655110449149062; community_y('79') = 0.6562144852722449;
community_x('80') = 0.6909155599133271; community_y('80') = 0.3119114079792703;
community_x('81') = 0.9646609687513168; community_y('81') = 0.1946422718034544;
community_x('82') = 0.36910228730236605; community_y('82') = 0.9802001095554689;
community_x('83') = 0.3280515747932262; community_y('83') = 0.09168018898211883;
community_x('84') = 0.28258071564056375; community_y('84') = 0.6538022067959034;
community_x('85') = 0.4666189747845594; community_y('85') = 0.05822863027352432;
community_x('86') = 0.8261148602909144; community_y('86') = 0.6483308596075218;
community_x('87') = 0.328358771089603; community_y('87') = 0.2877477847166675;
community_x('88') = 0.5165513256070584; community_y('88') = 0.06585789639888162;
community_x('89') = 0.9986707017447012; community_y('89') = 0.09544404072377832;
community_x('90') = 0.2423424701399466; community_y('90') = 0.11446921638063756;
community_x('91') = 0.10890671068953506; community_y('91') = 0.601786498362219;
community_x('92') = 0.05397914142726856; community_y('92') = 0.6747531352958085;
community_x('93') = 0.7400261280460413; community_y('93') = 0.50388044845535;
community_x('94') = 0.07407924615208095; community_y('94') = 0.7370197532769894;
community_x('95') = 0.3542966166337248; community_y('95') = 0.6105122513999184;
community_x('96') = 0.6734229009944451; community_y('96') = 0.4130472269201355;
community_x('97') = 0.4820982037755601; community_y('97') = 0.013023296057387723;
community_x('98') = 0.5277152239243306; community_y('98') = 0.5473925306695879;
community_x('99') = 0.6009603461370278; community_y('99') = 0.8702918527631001;
community_x('100') = 0.007724414528918699; community_y('100') = 0.8905149137692914;
demand('1') = 0.3278239558478543;
demand('2') = 0.5683868104513495;
demand('3') = 0.8759161992118706;
demand('4') = 0.1054477225750341;
demand('5') = 0.3069949156387992;
demand('6') = 0.2323931289678257;
demand('7') = 0.5999141283765044;
demand('8') = 0.10972319924183782;
demand('9') = 0.01393733092206595;
demand('10') = 0.7541058245068714;
demand('11') = 0.2590105617568004;
demand('12') = 0.536305832484879;
demand('13') = 0.4934686791969709;
demand('14') = 0.6178103679460898;
demand('15') = 0.33820311590241847;
demand('16') = 0.2863704738481446;
demand('17') = 0.8747555932755533;
demand('18') = 0.4509455391336571;
demand('19') = 0.2978868746546858;
demand('20') = 0.2673477198703641;
demand('21') = 0.8600715191511314;
demand('22') = 0.5238323736813573;
demand('23') = 0.46747368736008854;
demand('24') = 0.761293270671026;
demand('25') = 0.031217768120886502;
demand('26') = 0.7424606210664507;
demand('27') = 0.3842092594240104;
demand('28') = 0.07786485942716381;
demand('29') = 0.7200701289915903;
demand('30') = 0.18431497692282228;
demand('31') = 0.0400950999688795;
demand('32') = 0.4003391610329978;
demand('33') = 0.15181882512259326;
demand('34') = 0.4595788419412842;
demand('35') = 0.6310093172134316;
demand('36') = 0.4925358685620982;
demand('37') = 0.9283706179181869;
demand('38') = 0.1880640908156639;
demand('39') = 0.6537458999808312;
demand('40') = 0.22868294138637324;
demand('41') = 0.2022965774218798;
demand('42') = 0.06540240193626778;
demand('43') = 0.02616807568758439;
demand('44') = 0.09895733859562028;
demand('45') = 0.3168649719519051;
demand('46') = 0.6479454898092953;
demand('47') = 0.5182525602459482;
demand('48') = 0.6974212472496704;
demand('49') = 0.7389586152728854;
demand('50') = 0.2008206664463822;
demand('51') = 0.44847234843730877;
demand('52') = 0.7248817817758887;
demand('53') = 0.684941106660003;
demand('54') = 0.6422023681519196;
demand('55') = 0.5468230400522783;
demand('56') = 0.6403367082076032;
demand('57') = 0.3327087744886015;
demand('58') = 0.8579369917094255;
demand('59') = 0.6009388077002877;
demand('60') = 0.4930885228584043;
demand('61') = 0.5635316668873461;
demand('62') = 0.32917416966411706;
demand('63') = 0.9849386435137187;
demand('64') = 0.9513183321898486;
demand('65') = 0.45940849931914274;
demand('66') = 0.3161895406542945;
demand('67') = 0.9524149702608359;
demand('68') = 0.2925918044617115;
demand('69') = 0.09279391353096123;
demand('70') = 0.9371567824439951;
demand('71') = 0.6762894527261852;
demand('72') = 0.08686659871300895;
demand('73') = 0.6101224430944634;
demand('74') = 0.02313432598460141;
demand('75') = 0.2085520293495744;
demand('76') = 0.44144193049432146;
demand('77') = 0.9132752917071753;
demand('78') = 0.5341205309413145;
demand('79') = 0.5585596018697032;
demand('80') = 0.1372987322667958;
demand('81') = 0.7211897966768482;
demand('82') = 0.8253807135972702;
demand('83') = 0.32187517379220865;
demand('84') = 0.679238828944452;
demand('85') = 0.7814634453994135;
demand('86') = 0.22929904465048723;
demand('87') = 0.09978336840374114;
demand('88') = 0.8886100856809279;
demand('89') = 0.2668010204857807;
demand('90') = 0.40537820965594606;
demand('91') = 0.729367078358349;
demand('92') = 0.8154212782668032;
demand('93') = 0.6222800252254804;
demand('94') = 0.5657820090834169;
demand('95') = 0.6318653043795132;
demand('96') = 0.6523433325666432;
demand('97') = 0.6556821792304697;
demand('98') = 0.992257929947837;
demand('99') = 0.7369000993029013;
demand('100') = 0.9269859288935006;
capacity('1') = 0.9935371622979704;
capacity('2') = 3.23140372438628;
capacity('3') = 3.3034292856182104;
capacity('4') = 5.142477963883303;
capacity('5') = 2.224037537847992;
capacity('6') = 4.315351846222742;
capacity('7') = 2.291349670245209;
capacity('8') = 1.2871888078643983;
capacity('9') = 4.256728366926205;
capacity('10') = 4.908691931250359;
capacity('11') = 3.278762661882498;
capacity('12') = 5.158535549543463;
capacity('13') = 4.5795091598628614;
capacity('14') = 4.380167994539438;
capacity('15') = 0.2515862181462907;
capacity('16') = 1.754608949114532;
capacity('17') = 0.4562477607030835;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
