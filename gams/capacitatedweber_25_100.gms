Sets
i facilities / 1*25 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.9000582191556544; community_y('1') = 0.07298937074704781;
community_x('2') = 0.22253228596173347; community_y('2') = 0.6025488626087718;
community_x('3') = 0.8080467253823205; community_y('3') = 0.22682012673645324;
community_x('4') = 0.3009407488048058; community_y('4') = 0.7611623435744997;
community_x('5') = 0.7371803386610298; community_y('5') = 0.7911488426170376;
community_x('6') = 0.35106846057466856; community_y('6') = 0.4615605804875945;
community_x('7') = 0.6075082146080484; community_y('7') = 0.15821315373199896;
community_x('8') = 0.6149717541921728; community_y('8') = 0.8911956442775778;
community_x('9') = 0.004260331953746643; community_y('9') = 0.48781267842523657;
community_x('10') = 0.7087604227640443; community_y('10') = 0.5270600200495504;
community_x('11') = 0.15477215848516857; community_y('11') = 0.35069941385410963;
community_x('12') = 0.5044142653700144; community_y('12') = 0.42060089055796;
community_x('13') = 0.8273045600713594; community_y('13') = 0.5223692064624179;
community_x('14') = 0.635752581805976; community_y('14') = 0.7755660646222067;
community_x('15') = 0.7514254917019157; community_y('15') = 0.4114860728475871;
community_x('16') = 0.2936030712553235; community_y('16') = 0.5601925552195862;
community_x('17') = 0.4899078525579864; community_y('17') = 0.8846132828632506;
community_x('18') = 0.18680818279957356; community_y('18') = 0.02024606308332977;
community_x('19') = 0.49036166767616207; community_y('19') = 0.14442857869746584;
community_x('20') = 0.14355859833495477; community_y('20') = 0.975891990730959;
community_x('21') = 0.9252796549312403; community_y('21') = 0.32676186763605175;
community_x('22') = 0.27778995564148934; community_y('22') = 0.19182404889857063;
community_x('23') = 0.6060766177818138; community_y('23') = 0.9167910408413891;
community_x('24') = 0.5345676232118267; community_y('24') = 0.9400985513775411;
community_x('25') = 0.42915146818618877; community_y('25') = 0.050514281529855154;
community_x('26') = 0.8922872587322414; community_y('26') = 0.883261675412432;
community_x('27') = 0.6398388721888588; community_y('27') = 0.4498662707605031;
community_x('28') = 0.769339283524581; community_y('28') = 0.208120692100087;
community_x('29') = 0.17819328496872444; community_y('29') = 0.5845810223087864;
community_x('30') = 0.16112670349415448; community_y('30') = 0.7561125974809747;
community_x('31') = 0.055983136807495226; community_y('31') = 0.5261060601711409;
community_x('32') = 0.7847393447014687; community_y('32') = 0.4580096394115605;
community_x('33') = 0.5937138630884762; community_y('33') = 0.04493034456824607;
community_x('34') = 0.08651825321133277; community_y('34') = 0.46418294489123424;
community_x('35') = 0.4648927869962536; community_y('35') = 0.09196541301866068;
community_x('36') = 0.5217176454865271; community_y('36') = 0.30819600534878655;
community_x('37') = 0.4820853113893072; community_y('37') = 0.9475450699888749;
community_x('38') = 0.623848483838943; community_y('38') = 0.983473846134473;
community_x('39') = 0.9709053018979557; community_y('39') = 0.9857658761337453;
community_x('40') = 0.37241326695069166; community_y('40') = 0.39716983008246987;
community_x('41') = 0.6424439059385806; community_y('41') = 0.4743792702219637;
community_x('42') = 0.7647578063177848; community_y('42') = 0.8753222341752003;
community_x('43') = 0.8338591904039329; community_y('43') = 0.4110319903632397;
community_x('44') = 0.426626494568606; community_y('44') = 0.2152496354414123;
community_x('45') = 0.540966885110712; community_y('45') = 0.4933735872179138;
community_x('46') = 0.7346679369518954; community_y('46') = 0.464850884030087;
community_x('47') = 0.6554072386728492; community_y('47') = 0.9451184125505001;
community_x('48') = 0.7672714066907567; community_y('48') = 0.41571654789601564;
community_x('49') = 0.5672877055785992; community_y('49') = 0.06373897313128463;
community_x('50') = 0.23528341506082961; community_y('50') = 0.32085391956375175;
community_x('51') = 0.6038626184758663; community_y('51') = 0.7505870006740349;
community_x('52') = 0.5115806406169581; community_y('52') = 0.7745205019178455;
community_x('53') = 0.6937248842653473; community_y('53') = 0.5068354946811745;
community_x('54') = 0.45727664627071085; community_y('54') = 0.2281390641532871;
community_x('55') = 0.5725469949931367; community_y('55') = 0.6257728594293904;
community_x('56') = 0.7452480022921251; community_y('56') = 0.12047621550444665;
community_x('57') = 0.3005202302863864; community_y('57') = 0.048468019376015636;
community_x('58') = 0.3696539630878388; community_y('58') = 0.0553596560903713;
community_x('59') = 0.10029038077036256; community_y('59') = 0.3098229912163811;
community_x('60') = 0.4241119270118566; community_y('60') = 0.819423295648142;
community_x('61') = 0.1854357902368564; community_y('61') = 0.8293323915700055;
community_x('62') = 0.6148112106886975; community_y('62') = 0.10204228815002181;
community_x('63') = 0.17917463519172183; community_y('63') = 0.8595273040347079;
community_x('64') = 0.345419366932208; community_y('64') = 0.575945048360649;
community_x('65') = 0.4211265159133927; community_y('65') = 0.41945526301071456;
community_x('66') = 0.9367285497013037; community_y('66') = 0.6622171066894345;
community_x('67') = 0.29153253221794373; community_y('67') = 0.21259972698174656;
community_x('68') = 0.5089567694616417; community_y('68') = 0.18118669270720622;
community_x('69') = 0.5943343815259663; community_y('69') = 0.6791064223262605;
community_x('70') = 0.6835218468203478; community_y('70') = 0.9510199154389725;
community_x('71') = 0.9340428404914063; community_y('71') = 0.22477213741454216;
community_x('72') = 0.5861655427859326; community_y('72') = 0.5585866884169393;
community_x('73') = 0.022799790817675913; community_y('73') = 0.4809644556988969;
community_x('74') = 0.23842419354062883; community_y('74') = 0.03104653888173481;
community_x('75') = 0.17536831044305035; community_y('75') = 0.9590448406014509;
community_x('76') = 0.7387604848230894; community_y('76') = 0.9577649167938079;
community_x('77') = 0.957807139143621; community_y('77') = 0.7993137092670871;
community_x('78') = 0.4662656231654252; community_y('78') = 0.15216190122494533;
community_x('79') = 0.5706834658451853; community_y('79') = 0.7486203331091446;
community_x('80') = 0.2694285315664; community_y('80') = 0.22083004099617065;
community_x('81') = 0.6875997503442842; community_y('81') = 0.2369538153055052;
community_x('82') = 0.25331076854943546; community_y('82') = 0.734574192229348;
community_x('83') = 0.6595004315336354; community_y('83') = 0.19325777079650452;
community_x('84') = 0.32209732214759856; community_y('84') = 0.21544471085086214;
community_x('85') = 0.6026130054462642; community_y('85') = 0.319958582123396;
community_x('86') = 0.9103719101140197; community_y('86') = 0.9442292873927544;
community_x('87') = 0.9395027284955005; community_y('87') = 0.5178714173564721;
community_x('88') = 0.7448403344239763; community_y('88') = 0.4856935532291625;
community_x('89') = 0.2142059621573974; community_y('89') = 0.8005085336983537;
community_x('90') = 0.5752023548356016; community_y('90') = 0.7028985158790292;
community_x('91') = 0.45454832512081134; community_y('91') = 0.582925743868324;
community_x('92') = 0.527004193748138; community_y('92') = 0.6255332109272216;
community_x('93') = 0.80002905627334; community_y('93') = 0.4966466186395848;
community_x('94') = 0.985309201039105; community_y('94') = 0.6913143053053188;
community_x('95') = 0.2410699648052247; community_y('95') = 0.34843741511790927;
community_x('96') = 0.52565917406946; community_y('96') = 0.4632513415313624;
community_x('97') = 0.9764631651672818; community_y('97') = 0.002513771417414934;
community_x('98') = 0.47921791233580713; community_y('98') = 0.5065079185152781;
community_x('99') = 0.46038057490830375; community_y('99') = 0.6872970672386526;
community_x('100') = 0.16677843488612476; community_y('100') = 0.0018138412080579425;
demand('1') = 0.05756202894450124;
demand('2') = 0.9106947726652965;
demand('3') = 0.5793751000850943;
demand('4') = 0.09054553744452976;
demand('5') = 0.7773624638730625;
demand('6') = 0.1547970932291255;
demand('7') = 0.7992396716540903;
demand('8') = 0.32718206155613727;
demand('9') = 0.3608172300964074;
demand('10') = 0.6813772940380767;
demand('11') = 0.3396672395529068;
demand('12') = 0.8181790074406451;
demand('13') = 0.6833274819642746;
demand('14') = 0.865773273749174;
demand('15') = 0.21052170497406852;
demand('16') = 0.03702309543977722;
demand('17') = 0.8108893908110659;
demand('18') = 0.020280760954010102;
demand('19') = 0.8236988936735368;
demand('20') = 0.34964442419472974;
demand('21') = 0.38963228464200106;
demand('22') = 0.1158318291869802;
demand('23') = 0.22841283462543416;
demand('24') = 0.9539268485930584;
demand('25') = 0.7515196716130883;
demand('26') = 0.766326597090918;
demand('27') = 0.2561114307743576;
demand('28') = 0.19225915085496592;
demand('29') = 0.30735111564360673;
demand('30') = 0.4974607127615823;
demand('31') = 0.8211472984508068;
demand('32') = 0.41738348359430355;
demand('33') = 0.6219376412125897;
demand('34') = 0.4662292325130958;
demand('35') = 0.7373859922369574;
demand('36') = 0.2409999137537523;
demand('37') = 0.8653211858129995;
demand('38') = 0.022163205453148094;
demand('39') = 0.7921824931298163;
demand('40') = 0.9785096509186987;
demand('41') = 0.8904001721155642;
demand('42') = 0.952052230405472;
demand('43') = 0.01522789356979537;
demand('44') = 0.1263633519238765;
demand('45') = 0.10258429437874439;
demand('46') = 0.7521817011293461;
demand('47') = 0.8115912298692538;
demand('48') = 0.9555978899426051;
demand('49') = 0.10272153510626247;
demand('50') = 0.4535154129407203;
demand('51') = 0.5585963850009357;
demand('52') = 0.6962680805585291;
demand('53') = 0.09112301665944689;
demand('54') = 0.02920542837264839;
demand('55') = 0.8133387902864299;
demand('56') = 0.36770153133773664;
demand('57') = 0.0907216503348347;
demand('58') = 0.8006725286594985;
demand('59') = 0.6411484939392287;
demand('60') = 0.4442314992713624;
demand('61') = 0.6616969158048597;
demand('62') = 0.3729866088980549;
demand('63') = 0.7351365741654484;
demand('64') = 0.7356017014724517;
demand('65') = 0.6043985370415402;
demand('66') = 0.2852759526012242;
demand('67') = 0.1774432145203888;
demand('68') = 0.9416688003506093;
demand('69') = 0.06753400779810903;
demand('70') = 0.7458448037042372;
demand('71') = 0.0977586228953441;
demand('72') = 0.604013992806664;
demand('73') = 0.7005989433648077;
demand('74') = 0.6983091636063923;
demand('75') = 0.7538546197714807;
demand('76') = 0.7103508948906013;
demand('77') = 0.09185547740446831;
demand('78') = 0.361513579830662;
demand('79') = 0.7660992804551955;
demand('80') = 0.8140703595743856;
demand('81') = 0.09410979060916502;
demand('82') = 0.08613156224227037;
demand('83') = 0.932432818948374;
demand('84') = 0.4309930931073406;
demand('85') = 0.22491734244832762;
demand('86') = 0.9111666871052031;
demand('87') = 0.14647483812276096;
demand('88') = 0.4690824383167588;
demand('89') = 0.28755615962104286;
demand('90') = 0.5668981404462476;
demand('91') = 0.9323282364832948;
demand('92') = 0.2548400721307281;
demand('93') = 0.9016703400195072;
demand('94') = 0.053159902229435896;
demand('95') = 0.8080135295729437;
demand('96') = 0.43158577665977593;
demand('97') = 0.06304403480591969;
demand('98') = 0.7650557880418527;
demand('99') = 0.43503146569443163;
demand('100') = 0.6024551201810775;
capacity('1') = 2.9469049082758665;
capacity('2') = 2.019043373462669;
capacity('3') = 2.903789638007254;
capacity('4') = 2.4036601286915036;
capacity('5') = 1.8022612662439748;
capacity('6') = 3.086005158278438;
capacity('7') = 1.923114058413208;
capacity('8') = 1.873670212089464;
capacity('9') = 3.3247759717149634;
capacity('10') = 3.2888116305892;
capacity('11') = 0.6491870169524349;
capacity('12') = 2.943722680312777;
capacity('13') = 2.9124390321420286;
capacity('14') = 0.9388370515786024;
capacity('15') = 1.6044653835852691;
capacity('16') = 0.41663707226983243;
capacity('17') = 2.7113128292765003;
capacity('18') = 1.8412943835110316;
capacity('19') = 2.6264764087811696;
capacity('20') = 3.1208330408753295;
capacity('21') = 3.134768495866978;
capacity('22') = 0.20824335220915385;
capacity('23') = 0.19404737244103745;
capacity('24') = 1.6133653367359353;
capacity('25') = 2.157500270581142;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
