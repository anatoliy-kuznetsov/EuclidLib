Sets
i facilities / 1*21 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.08730148686581662; community_y('1') = 0.7704507315508069;
community_x('2') = 0.5838080858689522; community_y('2') = 0.008930320725512253;
community_x('3') = 0.3977514924534775; community_y('3') = 0.76013050174599;
community_x('4') = 0.9146608574423902; community_y('4') = 0.9693179711821615;
community_x('5') = 0.614481186859825; community_y('5') = 0.7881311639771331;
community_x('6') = 0.5225245593286709; community_y('6') = 0.5193361585446012;
community_x('7') = 0.9381692434139915; community_y('7') = 0.047462493644021775;
community_x('8') = 0.2856802432583526; community_y('8') = 0.022020839071522857;
community_x('9') = 0.8485933962250535; community_y('9') = 0.2461099020755243;
community_x('10') = 0.4221348841363247; community_y('10') = 0.7219223258673089;
community_x('11') = 0.6760241368900253; community_y('11') = 0.15512671043017756;
community_x('12') = 0.9686578353652595; community_y('12') = 0.5608143257064282;
community_x('13') = 0.8067576576344119; community_y('13') = 0.7514491146991988;
community_x('14') = 0.6047058137647956; community_y('14') = 0.567287104120358;
community_x('15') = 0.8055654699388263; community_y('15') = 0.7293602547424171;
community_x('16') = 0.024397734333927334; community_y('16') = 0.8006385468723078;
community_x('17') = 0.4286049602293035; community_y('17') = 0.7239194447140742;
community_x('18') = 0.8595765746187697; community_y('18') = 0.00658536680813826;
community_x('19') = 0.7530034060732528; community_y('19') = 0.6614588614905953;
community_x('20') = 0.45111721447323105; community_y('20') = 0.5745264918187679;
community_x('21') = 0.22933682165522018; community_y('21') = 0.820818390693959;
community_x('22') = 0.3471184014027603; community_y('22') = 0.25810022699904034;
community_x('23') = 0.42974445809000383; community_y('23') = 0.14307948356388367;
community_x('24') = 0.11545257509070295; community_y('24') = 0.05105603298214212;
community_x('25') = 0.9368983003193584; community_y('25') = 0.4502380008220618;
community_x('26') = 0.6479388730770667; community_y('26') = 0.1625027968644811;
community_x('27') = 0.5297463274634622; community_y('27') = 0.7717174178443564;
community_x('28') = 0.18206520864421072; community_y('28') = 0.5833034229114284;
community_x('29') = 0.32245164448178476; community_y('29') = 0.376045623494623;
community_x('30') = 0.41252458112075785; community_y('30') = 0.340106119055536;
community_x('31') = 0.1454719966867788; community_y('31') = 0.09013866136034365;
community_x('32') = 0.334434423303669; community_y('32') = 0.1317909230298535;
community_x('33') = 0.36614793816476676; community_y('33') = 0.890501281852092;
community_x('34') = 0.7365182683086348; community_y('34') = 0.1698893118071132;
community_x('35') = 0.9071633637796537; community_y('35') = 0.5360667087420242;
community_x('36') = 0.008858029249954047; community_y('36') = 0.572198077204874;
community_x('37') = 0.13668139924587464; community_y('37') = 0.7513712994357913;
community_x('38') = 0.855131751405444; community_y('38') = 0.1648072422725474;
community_x('39') = 0.009969753734948905; community_y('39') = 0.3942865463972097;
community_x('40') = 0.25817170312761606; community_y('40') = 0.13453726260023202;
community_x('41') = 0.5634583014794937; community_y('41') = 0.1153700495631601;
community_x('42') = 0.5325571160826795; community_y('42') = 0.3745310557583035;
community_x('43') = 0.21718290443339916; community_y('43') = 0.5304655898361919;
community_x('44') = 0.7534282788364425; community_y('44') = 0.322300649185017;
community_x('45') = 0.712505349416398; community_y('45') = 0.389710301791529;
community_x('46') = 0.005460174427961428; community_y('46') = 0.5578867067047808;
community_x('47') = 0.7119970912580647; community_y('47') = 0.0295129243848542;
community_x('48') = 0.37674428670284776; community_y('48') = 0.8527793132871281;
community_x('49') = 0.4925530622083889; community_y('49') = 0.018196218288336286;
community_x('50') = 0.5769360110855996; community_y('50') = 0.40281920577688113;
community_x('51') = 0.6510703498437823; community_y('51') = 0.714442369873475;
community_x('52') = 0.8022766188765862; community_y('52') = 0.007618511150429552;
community_x('53') = 0.18080353167335528; community_y('53') = 0.14794024630858904;
community_x('54') = 0.19070830632283975; community_y('54') = 0.021063009320949178;
community_x('55') = 0.2053323584301866; community_y('55') = 0.13771316072674722;
community_x('56') = 0.18217214210236854; community_y('56') = 0.5828716910278064;
community_x('57') = 0.7890818034543794; community_y('57') = 0.7441420952836616;
community_x('58') = 0.8594119009649615; community_y('58') = 0.9660954905900412;
community_x('59') = 0.3628453416795545; community_y('59') = 0.5313546303637194;
community_x('60') = 0.6874245211202936; community_y('60') = 0.8796755732612135;
community_x('61') = 0.7916974059380169; community_y('61') = 0.4164183190965094;
community_x('62') = 0.8616417224975258; community_y('62') = 0.527743666364437;
community_x('63') = 0.7701075204802909; community_y('63') = 0.9576566371540739;
community_x('64') = 0.5820048112610373; community_y('64') = 0.026504634957572604;
community_x('65') = 0.7988819955775621; community_y('65') = 0.9107586039498617;
community_x('66') = 0.3250322808141878; community_y('66') = 0.30093619659798154;
community_x('67') = 0.5943556121861809; community_y('67') = 0.43983277969578916;
community_x('68') = 0.2710311908734876; community_y('68') = 0.9365407348650081;
community_x('69') = 0.40466443418122156; community_y('69') = 0.4369304490699265;
community_x('70') = 0.3793962552230382; community_y('70') = 0.9208990550762585;
community_x('71') = 0.4973406327914409; community_y('71') = 0.671603357703508;
community_x('72') = 0.0016005960296165966; community_y('72') = 0.14745916005137327;
community_x('73') = 0.4372845644164479; community_y('73') = 0.9763899108290023;
community_x('74') = 0.49723815602852517; community_y('74') = 0.030287933166518344;
community_x('75') = 0.909318046193839; community_y('75') = 0.6896557333996514;
community_x('76') = 0.7092846370846623; community_y('76') = 0.32025067696505616;
community_x('77') = 0.15092320480611288; community_y('77') = 0.9633177324282809;
community_x('78') = 0.39271890660866615; community_y('78') = 0.24348823709239498;
community_x('79') = 0.7559920111216096; community_y('79') = 0.18330354242726632;
community_x('80') = 0.08347301656832273; community_y('80') = 0.25333725409231345;
community_x('81') = 0.8641213693272113; community_y('81') = 0.7121903008133306;
community_x('82') = 0.047028169596002645; community_y('82') = 0.39828825801520906;
community_x('83') = 0.673999380479337; community_y('83') = 0.608909242182616;
community_x('84') = 0.5652939364620869; community_y('84') = 0.9120585351451781;
community_x('85') = 0.9580279922152094; community_y('85') = 0.7142041302493441;
community_x('86') = 0.3695679863702881; community_y('86') = 0.8251991469413034;
community_x('87') = 0.30894796453686413; community_y('87') = 0.2737058694278458;
community_x('88') = 0.1796950672868699; community_y('88') = 0.08501995497005244;
community_x('89') = 0.27754256980871994; community_y('89') = 0.5101068771379699;
community_x('90') = 0.31710258287355986; community_y('90') = 0.17866897949786287;
community_x('91') = 0.5788647732279626; community_y('91') = 0.7592769202571492;
community_x('92') = 0.2785268740854415; community_y('92') = 0.5497107912996929;
community_x('93') = 0.17978196501088706; community_y('93') = 0.596732855121327;
community_x('94') = 0.8666927862823625; community_y('94') = 0.2128781264299484;
community_x('95') = 0.06863186561264689; community_y('95') = 0.3977540590299087;
community_x('96') = 0.9559247400220846; community_y('96') = 0.8286167426191837;
community_x('97') = 0.2584017620407789; community_y('97') = 0.637317256206705;
community_x('98') = 0.7650234453814877; community_y('98') = 0.3293478404052653;
community_x('99') = 0.7345655365331768; community_y('99') = 0.5509579700499317;
community_x('100') = 0.9549629861256692; community_y('100') = 0.5189933293996453;
demand('1') = 0.8495679023922281;
demand('2') = 0.6397988770769946;
demand('3') = 0.10313333435262972;
demand('4') = 0.08938594427050106;
demand('5') = 0.21995986138271617;
demand('6') = 0.8231561563557952;
demand('7') = 0.37785845260165263;
demand('8') = 0.0030650060148934566;
demand('9') = 0.6443314556322055;
demand('10') = 0.44500031200072265;
demand('11') = 0.22984662414410595;
demand('12') = 0.07191092784451447;
demand('13') = 0.7064065505425221;
demand('14') = 0.5287476064563212;
demand('15') = 0.929528520623972;
demand('16') = 0.20477404821554235;
demand('17') = 0.36355807863587253;
demand('18') = 0.8306565881160977;
demand('19') = 0.7265596291485856;
demand('20') = 0.22624092337611057;
demand('21') = 0.24946492287682165;
demand('22') = 0.7191707802142405;
demand('23') = 0.4172427267079881;
demand('24') = 3.0972764590853075e-06;
demand('25') = 0.4624936854004218;
demand('26') = 0.925053704686931;
demand('27') = 0.49788054734501774;
demand('28') = 0.3999831399476883;
demand('29') = 0.3758175935731638;
demand('30') = 0.08049512919863833;
demand('31') = 0.8706864600631812;
demand('32') = 0.13908630092379892;
demand('33') = 0.42212175507746674;
demand('34') = 0.46652766388146727;
demand('35') = 0.27249218615603843;
demand('36') = 0.047026952117379284;
demand('37') = 0.04794649819005137;
demand('38') = 0.8816332580211071;
demand('39') = 0.9389507370892777;
demand('40') = 0.5431357319964037;
demand('41') = 0.9829142689551423;
demand('42') = 0.8689572639350565;
demand('43') = 0.6840641195648584;
demand('44') = 0.19669861090826113;
demand('45') = 0.2241848713084903;
demand('46') = 0.03329465600518611;
demand('47') = 0.7332588074582327;
demand('48') = 0.018651389255692652;
demand('49') = 0.9225009724808994;
demand('50') = 0.6648926625630988;
demand('51') = 0.8543888337850368;
demand('52') = 0.45914575854920947;
demand('53') = 0.8540345889076604;
demand('54') = 0.44865783744420584;
demand('55') = 0.314484300535129;
demand('56') = 0.8845137275661826;
demand('57') = 0.03170969033674409;
demand('58') = 0.7877535196871579;
demand('59') = 0.5502980651432916;
demand('60') = 0.8807274663289418;
demand('61') = 0.8673087671045313;
demand('62') = 0.08246295331067632;
demand('63') = 0.38662975822016055;
demand('64') = 0.48024835713358105;
demand('65') = 0.601038980323929;
demand('66') = 0.09043430267039088;
demand('67') = 0.8667011461414444;
demand('68') = 0.06170681679138623;
demand('69') = 0.028580166434064802;
demand('70') = 0.9036400431860608;
demand('71') = 0.5265762099819211;
demand('72') = 0.8979535488130462;
demand('73') = 0.3450189955060572;
demand('74') = 0.9801693795960305;
demand('75') = 0.9366494496481842;
demand('76') = 0.12794007171201738;
demand('77') = 0.3296305591352111;
demand('78') = 0.07394715543171093;
demand('79') = 0.5546461723297785;
demand('80') = 0.09236747506961618;
demand('81') = 0.7473119815504486;
demand('82') = 0.2506143563428991;
demand('83') = 0.8989932126689544;
demand('84') = 0.41860448830429686;
demand('85') = 0.2657345682420633;
demand('86') = 0.21732800283542797;
demand('87') = 0.8713027092401736;
demand('88') = 0.4361800691910783;
demand('89') = 0.7416624565840363;
demand('90') = 0.41361291359282903;
demand('91') = 0.7616948028306952;
demand('92') = 0.15334571349899107;
demand('93') = 0.7225452065468013;
demand('94') = 0.12388234810205112;
demand('95') = 0.9923190186815523;
demand('96') = 0.10104790921530682;
demand('97') = 0.6438305837615527;
demand('98') = 0.054705782678680204;
demand('99') = 0.03863763509936313;
demand('100') = 0.8395196607226073;
capacity('1') = 5.358242217809862;
capacity('2') = 0.17210822961652747;
capacity('3') = 1.8779123582604176;
capacity('4') = 2.0222080229839374;
capacity('5') = 0.3031874329947234;
capacity('6') = 2.23927135861054;
capacity('7') = 2.0491813328721973;
capacity('8') = 2.234206177557269;
capacity('9') = 3.8757289148845007;
capacity('10') = 2.3582539766145088;
capacity('11') = 0.20244678174775863;
capacity('12') = 3.5835765884138633;
capacity('13') = 1.191194469370295;
capacity('14') = 2.6017592096149045;
capacity('15') = 3.80871592860636;
capacity('16') = 0.17376111843696576;
capacity('17') = 5.22435194170335;
capacity('18') = 5.313238916295178;
capacity('19') = 2.70033936622268;
capacity('20') = 0.6990730509858484;
capacity('21') = 2.508215155717718;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
