Sets
i facilities / 1*18 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.7109822677962845; community_y('1') = 0.49289042818416673;
community_x('2') = 0.18253855639823258; community_y('2') = 0.9771549309367948;
community_x('3') = 0.09901571052238178; community_y('3') = 0.5602370676820576;
community_x('4') = 0.36227312903052133; community_y('4') = 0.9748729374253071;
community_x('5') = 0.7680565716176476; community_y('5') = 0.3831560061271839;
community_x('6') = 0.3037592867908604; community_y('6') = 0.647515686899356;
community_x('7') = 0.8858031185441755; community_y('7') = 0.579942363398636;
community_x('8') = 0.6078111566163884; community_y('8') = 0.6076873918595418;
community_x('9') = 0.5078245324484781; community_y('9') = 0.865151610532955;
community_x('10') = 0.6081819336267571; community_y('10') = 0.36449083175839225;
community_x('11') = 0.5693014025703373; community_y('11') = 0.11106594904456257;
community_x('12') = 0.5168652172840257; community_y('12') = 0.5289972247108126;
community_x('13') = 0.8130975930644028; community_y('13') = 0.5207662729739243;
community_x('14') = 0.6853328326423754; community_y('14') = 0.3936891928705135;
community_x('15') = 0.5139728996377617; community_y('15') = 0.8921524805333757;
community_x('16') = 0.005703493308280461; community_y('16') = 0.020539575411790523;
community_x('17') = 0.20921439352908533; community_y('17') = 0.6817094202321546;
community_x('18') = 0.13206986940044574; community_y('18') = 0.6917233676430646;
community_x('19') = 0.8783779507873725; community_y('19') = 0.3894085108123021;
community_x('20') = 0.9588106041178585; community_y('20') = 0.6251228821736783;
community_x('21') = 0.37716457458717645; community_y('21') = 0.8650463792118004;
community_x('22') = 0.755021078814092; community_y('22') = 0.657273114626213;
community_x('23') = 0.06444462107982996; community_y('23') = 0.867742485082737;
community_x('24') = 0.8481367968176431; community_y('24') = 0.27459780323070915;
community_x('25') = 0.06197699573903903; community_y('25') = 0.14930741377261514;
community_x('26') = 0.8221229897118825; community_y('26') = 0.5907362717955715;
community_x('27') = 0.6426330682614294; community_y('27') = 0.025890048646270536;
community_x('28') = 0.8764069775608343; community_y('28') = 0.7430732481489305;
community_x('29') = 0.7645552052513668; community_y('29') = 0.2901538768948254;
community_x('30') = 0.4549868884246313; community_y('30') = 0.46262257772217386;
community_x('31') = 0.0861191708564415; community_y('31') = 0.6382449791835568;
community_x('32') = 0.1902749482925502; community_y('32') = 0.03148919072948164;
community_x('33') = 0.8569067406384313; community_y('33') = 0.10486061822776627;
community_x('34') = 0.6687735292901085; community_y('34') = 0.7436146844469362;
community_x('35') = 0.0010439528125011366; community_y('35') = 0.1269164975503887;
community_x('36') = 0.7708989491577553; community_y('36') = 0.6645029263465836;
community_x('37') = 0.07899944083184418; community_y('37') = 0.14689783618861907;
community_x('38') = 0.007215530173444673; community_y('38') = 0.9182209134694812;
community_x('39') = 0.9012157927515133; community_y('39') = 0.6101292183607558;
community_x('40') = 0.914696836825709; community_y('40') = 0.615678719765694;
community_x('41') = 0.3609618946613672; community_y('41') = 0.5318913268257585;
community_x('42') = 0.7958762560346743; community_y('42') = 0.5165950407608724;
community_x('43') = 0.21836431447769067; community_y('43') = 0.7733459059322835;
community_x('44') = 0.17940042052979732; community_y('44') = 0.11639564819088988;
community_x('45') = 0.7811769640044005; community_y('45') = 0.9669853730901352;
community_x('46') = 0.27677269381332803; community_y('46') = 0.9756195720350529;
community_x('47') = 0.08127637921730646; community_y('47') = 0.2826320442967062;
community_x('48') = 0.8679925221965212; community_y('48') = 0.00017989333001089403;
community_x('49') = 0.5150689347040818; community_y('49') = 0.6250163022764491;
community_x('50') = 0.7696729967031278; community_y('50') = 0.7893856072600672;
community_x('51') = 0.8643184841497998; community_y('51') = 0.6395750936306467;
community_x('52') = 0.6491162098569976; community_y('52') = 0.733016361709964;
community_x('53') = 0.12147026482952572; community_y('53') = 0.8847297896100877;
community_x('54') = 0.17813121228783757; community_y('54') = 0.9120714990541444;
community_x('55') = 0.8620108287055129; community_y('55') = 0.17386285629526288;
community_x('56') = 0.5172876634109932; community_y('56') = 0.7411864087584881;
community_x('57') = 0.19920082859247967; community_y('57') = 0.5403937931553006;
community_x('58') = 0.7537279318728017; community_y('58') = 0.745450628260393;
community_x('59') = 0.8707892915108566; community_y('59') = 0.6405132350628522;
community_x('60') = 0.15924662450493743; community_y('60') = 0.35314634801960976;
community_x('61') = 0.5761377983891364; community_y('61') = 0.6094762668180973;
community_x('62') = 0.956352453378253; community_y('62') = 0.2612127381784376;
community_x('63') = 0.12923194404836102; community_y('63') = 0.19817154006009652;
community_x('64') = 0.7575654146871478; community_y('64') = 0.6813904402424125;
community_x('65') = 0.4138241244437849; community_y('65') = 0.5547693261939369;
community_x('66') = 0.745965814727338; community_y('66') = 0.12006506193011235;
community_x('67') = 0.09872414759481318; community_y('67') = 0.010390669245171291;
community_x('68') = 0.5324156869434274; community_y('68') = 0.6328213182786854;
community_x('69') = 0.22058787299750093; community_y('69') = 0.07057271402578313;
community_x('70') = 0.12001075707816733; community_y('70') = 0.22951994676095322;
community_x('71') = 0.8277956528924969; community_y('71') = 0.5447825798944517;
community_x('72') = 0.059074005003284524; community_y('72') = 0.22879582938452148;
community_x('73') = 0.11125371428038988; community_y('73') = 0.5511420441784131;
community_x('74') = 0.8677623322497139; community_y('74') = 0.723306199799461;
community_x('75') = 0.16300500210734858; community_y('75') = 0.16980681781823048;
community_x('76') = 0.9672471563447496; community_y('76') = 0.26808065805198966;
community_x('77') = 0.4457652509291785; community_y('77') = 0.6039332363725853;
community_x('78') = 0.6568396125406374; community_y('78') = 0.4944320333597144;
community_x('79') = 0.6250388264980804; community_y('79') = 0.38344123173916067;
community_x('80') = 0.2986154981104723; community_y('80') = 0.5206330097376496;
community_x('81') = 0.35262120016642484; community_y('81') = 0.6946383641208286;
community_x('82') = 0.33321076469876987; community_y('82') = 0.4175580687120164;
community_x('83') = 0.1853677015168822; community_y('83') = 0.10393434722327222;
community_x('84') = 0.3878783892210298; community_y('84') = 0.06261708800771804;
community_x('85') = 0.6988784117703606; community_y('85') = 0.7484036679774931;
community_x('86') = 0.05212002419960848; community_y('86') = 0.7861383107740362;
community_x('87') = 0.007151384569037855; community_y('87') = 0.36959925398486926;
community_x('88') = 0.2874644450820244; community_y('88') = 0.45162847891266666;
community_x('89') = 0.4642498868341751; community_y('89') = 0.9087497926843593;
community_x('90') = 0.14951628808186013; community_y('90') = 0.731224200474662;
community_x('91') = 0.055719385331380766; community_y('91') = 0.37296085866879936;
community_x('92') = 0.00901528369168525; community_y('92') = 0.11958983751523788;
community_x('93') = 0.7713524692373611; community_y('93') = 0.7900109324644424;
community_x('94') = 0.6406605950124845; community_y('94') = 0.8607928548189998;
community_x('95') = 0.03276428903479034; community_y('95') = 0.502233084338725;
community_x('96') = 0.1254692195233751; community_y('96') = 0.366829105200166;
community_x('97') = 0.18688817116022804; community_y('97') = 0.9973450401781933;
community_x('98') = 0.716929762311508; community_y('98') = 0.8242394867852899;
community_x('99') = 0.421553256458026; community_y('99') = 0.2529162719439806;
community_x('100') = 0.06824589784701018; community_y('100') = 0.10309040802584102;
demand('1') = 0.93772373234892;
demand('2') = 0.3432332620771912;
demand('3') = 0.2545508665318922;
demand('4') = 0.9221990474727997;
demand('5') = 0.337345582556114;
demand('6') = 0.5585712090774047;
demand('7') = 0.9287036860817064;
demand('8') = 0.5527287125362922;
demand('9') = 0.32135339301102683;
demand('10') = 0.9518994528640208;
demand('11') = 0.7236271042088125;
demand('12') = 0.1997928101412867;
demand('13') = 0.9698871572770463;
demand('14') = 0.8060718186859956;
demand('15') = 0.24023370273243705;
demand('16') = 0.08876154862417096;
demand('17') = 0.9042377873537941;
demand('18') = 0.02301468200530099;
demand('19') = 0.7762223353840351;
demand('20') = 0.9536064150637584;
demand('21') = 0.3404243848425409;
demand('22') = 0.173130500633482;
demand('23') = 0.12034338852219173;
demand('24') = 0.4890839727511409;
demand('25') = 0.427138515189203;
demand('26') = 0.46828464649040225;
demand('27') = 0.08039637048260717;
demand('28') = 0.11371823148325677;
demand('29') = 0.4265490807456779;
demand('30') = 0.39151169267773045;
demand('31') = 0.35650291613417595;
demand('32') = 0.28559645925422883;
demand('33') = 0.28362380811348953;
demand('34') = 0.6232242592160189;
demand('35') = 0.9131457857164111;
demand('36') = 0.8097621999338815;
demand('37') = 0.6331483990694619;
demand('38') = 0.720278790486864;
demand('39') = 0.25936027297429354;
demand('40') = 0.17282888251000617;
demand('41') = 0.6547222275246883;
demand('42') = 0.45962593205708835;
demand('43') = 0.41701133433183646;
demand('44') = 0.9759330707817907;
demand('45') = 0.9761487405972094;
demand('46') = 0.3976920521299502;
demand('47') = 0.09248994125941079;
demand('48') = 0.9271053869446682;
demand('49') = 0.8327577047078059;
demand('50') = 0.8823750370907505;
demand('51') = 0.7575004706101663;
demand('52') = 0.2790266406984627;
demand('53') = 0.7806464382380734;
demand('54') = 0.8489731129733076;
demand('55') = 0.3611335814606983;
demand('56') = 0.9170736824986812;
demand('57') = 0.49403988969058243;
demand('58') = 0.5826154395114765;
demand('59') = 0.4928607384339372;
demand('60') = 0.863409581246811;
demand('61') = 0.18955639422904846;
demand('62') = 0.9791499188299922;
demand('63') = 0.648566188589258;
demand('64') = 0.8618923235739188;
demand('65') = 0.4137449373230231;
demand('66') = 0.8973527813144814;
demand('67') = 0.771882223772423;
demand('68') = 0.5792701420752661;
demand('69') = 0.8928690817131774;
demand('70') = 0.9257508652556422;
demand('71') = 0.8841717945949943;
demand('72') = 0.7636157034236641;
demand('73') = 0.9556264877637843;
demand('74') = 0.26883001876943136;
demand('75') = 0.00476385428046;
demand('76') = 0.04594664167048235;
demand('77') = 0.3397044178852412;
demand('78') = 0.4414893621469349;
demand('79') = 0.537980499795019;
demand('80') = 0.6257945845626811;
demand('81') = 0.10237821020106774;
demand('82') = 0.5420194509848982;
demand('83') = 0.3243245619931675;
demand('84') = 0.775305155034625;
demand('85') = 0.7573225409657239;
demand('86') = 0.6114617673768983;
demand('87') = 0.930927654463763;
demand('88') = 0.3866140596213169;
demand('89') = 0.6294331543512836;
demand('90') = 0.06048916665124815;
demand('91') = 0.17089467250062085;
demand('92') = 0.6896464538948102;
demand('93') = 0.9381707723157483;
demand('94') = 0.09472493663131576;
demand('95') = 0.4004752817267482;
demand('96') = 0.01958961040440299;
demand('97') = 0.4448954394909277;
demand('98') = 0.43539154938584146;
demand('99') = 0.9088153544750259;
demand('100') = 0.1682604998603907;
capacity('1') = 1.0488886522278562;
capacity('2') = 1.0117740489217406;
capacity('3') = 5.921171951337328;
capacity('4') = 1.6062090771560622;
capacity('5') = 4.320731508821978;
capacity('6') = 4.941153241679482;
capacity('7') = 5.290509582671484;
capacity('8') = 2.302852990915727;
capacity('9') = 0.2023188571246855;
capacity('10') = 1.6670605748939133;
capacity('11') = 2.3368103429171097;
capacity('12') = 0.6980365891146944;
capacity('13') = 2.3946859101256948;
capacity('14') = 5.590893808599639;
capacity('15') = 6.691843464110843;
capacity('16') = 6.112517155632251;
capacity('17') = 4.7886135029711205;
capacity('18') = 0.08268793972298638;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
