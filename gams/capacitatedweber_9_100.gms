Sets
i facilities / 1*9 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.27958303860586786; community_y('1') = 0.11405414860401952;
community_x('2') = 0.45927897430988984; community_y('2') = 0.9797364932049122;
community_x('3') = 0.547230743302136; community_y('3') = 0.1215548550338017;
community_x('4') = 0.10150058737142953; community_y('4') = 0.3903824811046772;
community_x('5') = 0.5022148303541587; community_y('5') = 0.6233048675141687;
community_x('6') = 0.9563701026049917; community_y('6') = 0.8122063899906976;
community_x('7') = 0.5626813390594325; community_y('7') = 0.8770429862264768;
community_x('8') = 0.518872753367901; community_y('8') = 0.02013072873267363;
community_x('9') = 0.7899304496901801; community_y('9') = 0.25264412335550523;
community_x('10') = 0.4509814940838903; community_y('10') = 0.138235859989283;
community_x('11') = 0.27518757006549666; community_y('11') = 0.07723564891137957;
community_x('12') = 0.8389667694667345; community_y('12') = 0.6704532731879105;
community_x('13') = 0.16708800131355328; community_y('13') = 0.14238729953040508;
community_x('14') = 0.8892519720508587; community_y('14') = 0.4196491480511245;
community_x('15') = 0.8835334832086824; community_y('15') = 0.6801096100223628;
community_x('16') = 0.5480938395793401; community_y('16') = 0.7774539509941402;
community_x('17') = 0.5163674154631379; community_y('17') = 0.5384617300573489;
community_x('18') = 0.06565634550194066; community_y('18') = 0.6909086608872744;
community_x('19') = 0.17328442356391305; community_y('19') = 0.6511683675400276;
community_x('20') = 0.7724591047225706; community_y('20') = 0.22989366409426693;
community_x('21') = 0.7287412832468282; community_y('21') = 0.22420937022362786;
community_x('22') = 0.6223504558412806; community_y('22') = 0.9600971334994166;
community_x('23') = 0.1373126551393853; community_y('23') = 0.2567046825852899;
community_x('24') = 0.724185348897561; community_y('24') = 0.906975252415467;
community_x('25') = 0.989277611711238; community_y('25') = 0.054637236126479416;
community_x('26') = 0.8719732661760855; community_y('26') = 0.3129915648409508;
community_x('27') = 0.6656677787181807; community_y('27') = 0.6738165558840619;
community_x('28') = 0.44558534878707057; community_y('28') = 0.22964650959183863;
community_x('29') = 0.42371074380771245; community_y('29') = 0.9969050027139713;
community_x('30') = 0.15333668279863955; community_y('30') = 0.6270960425646106;
community_x('31') = 0.040883836807888096; community_y('31') = 0.8791066919306352;
community_x('32') = 0.9678259866416955; community_y('32') = 0.6697459726388824;
community_x('33') = 0.3967529004992112; community_y('33') = 0.8552627195212215;
community_x('34') = 0.3890470835268287; community_y('34') = 0.1337504952354267;
community_x('35') = 0.48406105578915215; community_y('35') = 0.36243753619460384;
community_x('36') = 0.9832062783966675; community_y('36') = 0.24489002542843197;
community_x('37') = 0.9141672124433974; community_y('37') = 0.3811851490596203;
community_x('38') = 0.6898764537016306; community_y('38') = 0.12045324674200875;
community_x('39') = 0.7840065394044137; community_y('39') = 0.13736788258741028;
community_x('40') = 0.5261033145718765; community_y('40') = 0.5094710137379408;
community_x('41') = 0.6487063006931466; community_y('41') = 0.9496590249177032;
community_x('42') = 0.7958508142332026; community_y('42') = 0.6430441086333762;
community_x('43') = 0.6646404257517051; community_y('43') = 0.645419268913413;
community_x('44') = 0.04898887326358292; community_y('44') = 0.910084624418513;
community_x('45') = 0.46530981624169965; community_y('45') = 0.5800422335138204;
community_x('46') = 0.5860877243012846; community_y('46') = 0.5701262105342134;
community_x('47') = 0.67189175248797; community_y('47') = 0.598856453429411;
community_x('48') = 0.9315605091263683; community_y('48') = 0.5267786868939898;
community_x('49') = 0.7825936679562104; community_y('49') = 0.162583318457573;
community_x('50') = 0.4184575608054998; community_y('50') = 0.09532261146337229;
community_x('51') = 0.4789652400343135; community_y('51') = 0.8520871733358203;
community_x('52') = 0.7804654910965553; community_y('52') = 0.46933906542681303;
community_x('53') = 0.7567108585541629; community_y('53') = 0.797369053895486;
community_x('54') = 0.36091337959985503; community_y('54') = 0.051668698498372745;
community_x('55') = 0.3965994136592871; community_y('55') = 0.5003613802884045;
community_x('56') = 0.6116821635880605; community_y('56') = 0.9165498392166964;
community_x('57') = 0.49454236788797623; community_y('57') = 0.012963515809793491;
community_x('58') = 0.6683351732317696; community_y('58') = 0.9697098652150642;
community_x('59') = 0.8546809219836445; community_y('59') = 0.3504851590333564;
community_x('60') = 0.4176491075087335; community_y('60') = 0.5149586986116401;
community_x('61') = 0.5786874437294816; community_y('61') = 0.6269120411184562;
community_x('62') = 0.20021550015536882; community_y('62') = 0.5905801997037898;
community_x('63') = 0.8132740302259707; community_y('63') = 0.3195025547638154;
community_x('64') = 0.6985115830018618; community_y('64') = 0.9368240538526471;
community_x('65') = 0.6051144310326935; community_y('65') = 0.2971974731182211;
community_x('66') = 0.33838840656301783; community_y('66') = 0.0033664232180101727;
community_x('67') = 0.08922959550049103; community_y('67') = 0.016665363068347427;
community_x('68') = 0.24970527766663808; community_y('68') = 0.9739186968092158;
community_x('69') = 0.2624251460483622; community_y('69') = 0.23912970872139638;
community_x('70') = 0.7682312976216773; community_y('70') = 0.3428049819260246;
community_x('71') = 0.5764205019438976; community_y('71') = 0.5879621932866692;
community_x('72') = 0.8541233789567041; community_y('72') = 0.5159748026357411;
community_x('73') = 0.929880337167817; community_y('73') = 0.34676077285504625;
community_x('74') = 0.2685962662870559; community_y('74') = 0.7209641156420484;
community_x('75') = 0.15352823781949732; community_y('75') = 0.5772688444763616;
community_x('76') = 0.7245518558727099; community_y('76') = 0.10765528558923398;
community_x('77') = 0.42737593850579514; community_y('77') = 0.7032774462016205;
community_x('78') = 0.8317923584115005; community_y('78') = 0.7003154118157449;
community_x('79') = 0.446624461552394; community_y('79') = 0.7436323148122711;
community_x('80') = 0.22847879564717233; community_y('80') = 0.7042445991271237;
community_x('81') = 0.9439595721389427; community_y('81') = 0.023414003995255506;
community_x('82') = 0.7447484080125151; community_y('82') = 0.05932780254128511;
community_x('83') = 0.7978436641056774; community_y('83') = 0.879781104613417;
community_x('84') = 0.7051733039457108; community_y('84') = 0.24492692769039015;
community_x('85') = 0.9510519536875034; community_y('85') = 0.9916490578272339;
community_x('86') = 0.8767340382789585; community_y('86') = 0.9999328724997203;
community_x('87') = 0.06806779697017717; community_y('87') = 0.8591136324986975;
community_x('88') = 0.07732386755374154; community_y('88') = 0.7055019386730708;
community_x('89') = 0.04139124006526984; community_y('89') = 0.03788020719560936;
community_x('90') = 0.7436330626193938; community_y('90') = 0.8458035414822435;
community_x('91') = 0.49873771851275417; community_y('91') = 0.39721003173118474;
community_x('92') = 0.7098765902347779; community_y('92') = 0.8479029141645559;
community_x('93') = 0.09714135410319602; community_y('93') = 0.9305282237906696;
community_x('94') = 0.17605355114833698; community_y('94') = 0.058210293533888735;
community_x('95') = 0.8810923845319755; community_y('95') = 0.3832574839877949;
community_x('96') = 0.622302997090626; community_y('96') = 0.27442688775217694;
community_x('97') = 0.1541471240269079; community_y('97') = 0.16879507948411265;
community_x('98') = 0.11978781336322919; community_y('98') = 0.9486711858449922;
community_x('99') = 0.8004052627214974; community_y('99') = 0.684610904757477;
community_x('100') = 0.8393836704077465; community_y('100') = 0.5727706855540403;
demand('1') = 0.7632460241572014;
demand('2') = 0.5629780771692096;
demand('3') = 0.02489500429263425;
demand('4') = 0.5547127913256666;
demand('5') = 0.6784143272618731;
demand('6') = 0.7038005126511241;
demand('7') = 0.8136591412457604;
demand('8') = 0.286495727457877;
demand('9') = 0.6040187875158354;
demand('10') = 0.7507007987156485;
demand('11') = 0.43080229046547425;
demand('12') = 0.9577109437792498;
demand('13') = 0.3277934673210521;
demand('14') = 0.5191802106701539;
demand('15') = 0.41982440939756227;
demand('16') = 0.9073302944881769;
demand('17') = 0.8491783488953736;
demand('18') = 0.7342942544372565;
demand('19') = 0.6932027045377191;
demand('20') = 0.5883770004854526;
demand('21') = 0.7163504728585999;
demand('22') = 0.31519301793116006;
demand('23') = 0.07958968595545357;
demand('24') = 0.43311819303929444;
demand('25') = 0.9696602171647468;
demand('26') = 0.06827650096272253;
demand('27') = 0.5841717501767617;
demand('28') = 0.13583889510054303;
demand('29') = 0.027165785657439434;
demand('30') = 0.7067871388773319;
demand('31') = 0.6740352084659937;
demand('32') = 0.2548750016604193;
demand('33') = 0.583846200565474;
demand('34') = 0.5661590503473681;
demand('35') = 0.486107170420236;
demand('36') = 0.7150914431761033;
demand('37') = 0.7899622074009486;
demand('38') = 0.7846903374032709;
demand('39') = 0.5843462983468768;
demand('40') = 0.9356391449016072;
demand('41') = 0.9720554361063082;
demand('42') = 0.747100099425183;
demand('43') = 0.28319744291220983;
demand('44') = 0.17322676828891848;
demand('45') = 0.6884830024192617;
demand('46') = 0.7848766231310854;
demand('47') = 0.9853722237111454;
demand('48') = 0.9397015909871391;
demand('49') = 0.3940703392521039;
demand('50') = 0.08292142508475386;
demand('51') = 0.6351733571976944;
demand('52') = 0.5344259583210336;
demand('53') = 0.6598740538611081;
demand('54') = 0.19198177649408443;
demand('55') = 0.6053714693806473;
demand('56') = 0.6313780778573199;
demand('57') = 0.01177448761322375;
demand('58') = 0.08933526542382886;
demand('59') = 0.44489635555374596;
demand('60') = 0.6527386962159627;
demand('61') = 0.8046520723573332;
demand('62') = 0.17597545686666172;
demand('63') = 0.9581356428898743;
demand('64') = 0.21496741449755796;
demand('65') = 0.9739978427726356;
demand('66') = 0.2220416838342576;
demand('67') = 0.6539371018436524;
demand('68') = 0.87696051153194;
demand('69') = 0.19968708349886577;
demand('70') = 0.37861723046687235;
demand('71') = 0.9158456292368123;
demand('72') = 0.7613011815764559;
demand('73') = 0.7886780244167546;
demand('74') = 0.08745884977546903;
demand('75') = 0.9093304008175929;
demand('76') = 0.442915543531189;
demand('77') = 0.20129449474415395;
demand('78') = 0.8265209695737616;
demand('79') = 0.46747011956375084;
demand('80') = 0.8090452222343665;
demand('81') = 0.834060111152261;
demand('82') = 0.029833128681726828;
demand('83') = 0.24932116093582002;
demand('84') = 0.6484042965788349;
demand('85') = 0.11814541813093538;
demand('86') = 0.1656321014869161;
demand('87') = 0.6217314931058379;
demand('88') = 0.8493759208760407;
demand('89') = 0.1744704269255004;
demand('90') = 0.1535472250058323;
demand('91') = 0.7794675334566039;
demand('92') = 0.3944267124688471;
demand('93') = 0.3781722353354132;
demand('94') = 0.5580241215192825;
demand('95') = 0.9903257739763025;
demand('96') = 0.6488810182964196;
demand('97') = 0.4067568417495111;
demand('98') = 0.43715050756927176;
demand('99') = 0.9100641380417698;
demand('100') = 0.692357814901772;
capacity('1') = 11.354979395401633;
capacity('2') = 5.005531377839454;
capacity('3') = 15.826935835977055;
capacity('4') = 2.52480692753928;
capacity('5') = 8.227789254782552;
capacity('6') = 3.7652674776742354;
capacity('7') = 4.190584208852432;
capacity('8') = 2.6665826241371007;
capacity('9') = 3.9758993270477396;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
