Sets
i facilities / 1*16 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.8213575314395892; community_y('1') = 0.4264878745007562;
community_x('2') = 0.5998051803277704; community_y('2') = 0.5505308881954367;
community_x('3') = 0.7221340410273205; community_y('3') = 0.5549632744233599;
community_x('4') = 0.008729970103842355; community_y('4') = 0.17294653878346256;
community_x('5') = 0.6462661409410412; community_y('5') = 0.04009148266706086;
community_x('6') = 0.7376243407441782; community_y('6') = 0.37569702040567443;
community_x('7') = 0.480718254800948; community_y('7') = 0.36369423532251;
community_x('8') = 0.4838352721613707; community_y('8') = 0.4389249711567671;
community_x('9') = 0.2459494044937628; community_y('9') = 0.050844060530352064;
community_x('10') = 0.4078498175901054; community_y('10') = 0.8672628163043876;
community_x('11') = 0.5835454048490689; community_y('11') = 0.09462360918538648;
community_x('12') = 0.8653047154358824; community_y('12') = 0.12411127758227702;
community_x('13') = 0.5728835990517829; community_y('13') = 0.4464402411049726;
community_x('14') = 0.45195203322089283; community_y('14') = 0.5816891797614083;
community_x('15') = 0.3151716511930972; community_y('15') = 0.09598459165184825;
community_x('16') = 0.7593920716371323; community_y('16') = 0.8349140835512008;
community_x('17') = 0.3218928463475451; community_y('17') = 0.4830347569603002;
community_x('18') = 0.05706397417960696; community_y('18') = 0.6999580748572436;
community_x('19') = 0.5550267831182321; community_y('19') = 0.4367113368439318;
community_x('20') = 0.5181011043876788; community_y('20') = 0.4569407107346001;
community_x('21') = 0.8284643695037884; community_y('21') = 0.3999080345061933;
community_x('22') = 0.4391453353326219; community_y('22') = 0.38468931774023685;
community_x('23') = 0.683669921305441; community_y('23') = 0.4221422760363778;
community_x('24') = 0.3640128385154603; community_y('24') = 0.6456430712654257;
community_x('25') = 0.4913755622135647; community_y('25') = 0.7081298294053188;
community_x('26') = 0.07916059726939384; community_y('26') = 0.5689441705036018;
community_x('27') = 0.4623508872247719; community_y('27') = 0.13568947635020268;
community_x('28') = 0.20774951997627777; community_y('28') = 0.18481453914266233;
community_x('29') = 0.40521328556270797; community_y('29') = 0.5085189790947677;
community_x('30') = 0.26561715451798695; community_y('30') = 0.2305175379011004;
community_x('31') = 0.7088800729400455; community_y('31') = 0.3682939599368539;
community_x('32') = 0.3742632409377993; community_y('32') = 0.7540655828207197;
community_x('33') = 0.4042640107874562; community_y('33') = 0.9222059543195681;
community_x('34') = 0.42252906263339085; community_y('34') = 0.10165623286895964;
community_x('35') = 0.6312956810353498; community_y('35') = 0.26657914336535127;
community_x('36') = 0.39627770844207544; community_y('36') = 0.4600948341054949;
community_x('37') = 0.7601860812756345; community_y('37') = 0.13118331489879775;
community_x('38') = 0.6998689490037052; community_y('38') = 0.8136650614957966;
community_x('39') = 0.3384262229679469; community_y('39') = 0.9762600138686397;
community_x('40') = 0.5711778098439528; community_y('40') = 0.7629735220807691;
community_x('41') = 0.6339177720400367; community_y('41') = 0.8101065421476319;
community_x('42') = 0.020596203900655863; community_y('42') = 0.2818121088863559;
community_x('43') = 0.41120804335265126; community_y('43') = 0.225159183160349;
community_x('44') = 0.2865231650361292; community_y('44') = 0.07267452598862723;
community_x('45') = 0.35883950800911746; community_y('45') = 0.4564294353548548;
community_x('46') = 0.40675390645376297; community_y('46') = 0.3979390338731792;
community_x('47') = 0.9596390708830339; community_y('47') = 0.10111481601371408;
community_x('48') = 0.7495929957469741; community_y('48') = 0.6925780399201228;
community_x('49') = 0.30095691787046797; community_y('49') = 0.367981133799002;
community_x('50') = 0.038875011235992574; community_y('50') = 0.6628675897000416;
community_x('51') = 0.741756166393192; community_y('51') = 0.8864943159213535;
community_x('52') = 0.38316232790341465; community_y('52') = 0.10075493801019952;
community_x('53') = 0.037839538494302105; community_y('53') = 0.5025773665607998;
community_x('54') = 0.2921326611500117; community_y('54') = 0.7762000139013531;
community_x('55') = 0.161063673477034; community_y('55') = 0.7154011996271694;
community_x('56') = 0.9949242163943738; community_y('56') = 0.34506011051552987;
community_x('57') = 0.2500240060930198; community_y('57') = 0.4630982986133475;
community_x('58') = 0.4918155815987363; community_y('58') = 0.1848586140233055;
community_x('59') = 0.03793084728048457; community_y('59') = 0.21376954669140458;
community_x('60') = 0.8669668529804907; community_y('60') = 0.2501002379640459;
community_x('61') = 0.5048588175329309; community_y('61') = 0.04791963143304001;
community_x('62') = 0.01873061520125041; community_y('62') = 0.6200824846633912;
community_x('63') = 0.6004780302868074; community_y('63') = 0.018250620469673184;
community_x('64') = 0.8556107294364894; community_y('64') = 0.5636645315917928;
community_x('65') = 0.4745808931092146; community_y('65') = 0.6971579754034017;
community_x('66') = 0.5498963806854714; community_y('66') = 0.8514415973458477;
community_x('67') = 0.9340457878478117; community_y('67') = 0.7659015708557775;
community_x('68') = 0.4181558394585675; community_y('68') = 0.4720640405763691;
community_x('69') = 0.5605218407528312; community_y('69') = 0.46941692849180294;
community_x('70') = 0.8820379484022379; community_y('70') = 0.7139501843206691;
community_x('71') = 0.6664912729302674; community_y('71') = 0.46460064553435987;
community_x('72') = 0.5127383715685522; community_y('72') = 0.27119434473024207;
community_x('73') = 0.3370457171431869; community_y('73') = 0.07855180012823404;
community_x('74') = 0.616311393971794; community_y('74') = 0.15360300061274978;
community_x('75') = 0.7646610727775232; community_y('75') = 0.29952593796686255;
community_x('76') = 0.7351027958453986; community_y('76') = 0.6026914737851582;
community_x('77') = 0.20943018519078793; community_y('77') = 0.26895068512710774;
community_x('78') = 0.3013825890130264; community_y('78') = 0.21553149909550307;
community_x('79') = 0.5324864041419942; community_y('79') = 0.501257289597886;
community_x('80') = 0.11352071424203691; community_y('80') = 0.05364200837720634;
community_x('81') = 0.7719943034736293; community_y('81') = 0.3180166648435062;
community_x('82') = 0.2669200517886051; community_y('82') = 0.9539682690589658;
community_x('83') = 0.29072007228613106; community_y('83') = 0.2022274494230346;
community_x('84') = 0.27269350571475603; community_y('84') = 0.48785392265880856;
community_x('85') = 0.2177060036005709; community_y('85') = 0.3028208627496113;
community_x('86') = 0.8372627827750794; community_y('86') = 0.2641324938176478;
community_x('87') = 0.3730611375393117; community_y('87') = 0.058382408069504454;
community_x('88') = 0.0865493497516181; community_y('88') = 0.007026269431121945;
community_x('89') = 0.7989807945290649; community_y('89') = 0.023259979293763;
community_x('90') = 0.7857710612858904; community_y('90') = 0.4120984395046309;
community_x('91') = 0.060441658335993576; community_y('91') = 0.4435167429851866;
community_x('92') = 0.13666899768748164; community_y('92') = 0.5645142218996747;
community_x('93') = 0.04365259989115666; community_y('93') = 0.4033581140091873;
community_x('94') = 0.5069885169079041; community_y('94') = 0.5087202934226056;
community_x('95') = 0.6426571325687502; community_y('95') = 0.676136602881983;
community_x('96') = 0.2604117659462175; community_y('96') = 0.597493730194422;
community_x('97') = 0.8009967749048191; community_y('97') = 0.6405308029302662;
community_x('98') = 0.16168639620396252; community_y('98') = 0.09188706416198322;
community_x('99') = 0.33608694853978505; community_y('99') = 0.8494983586962189;
community_x('100') = 0.42146188230119486; community_y('100') = 0.531938751633534;
demand('1') = 0.8606734026277408;
demand('2') = 0.7587557937670955;
demand('3') = 0.13211544952737408;
demand('4') = 0.7868353803806786;
demand('5') = 0.030676245238897892;
demand('6') = 0.7763722918468491;
demand('7') = 0.8166152050702002;
demand('8') = 0.05395523499690502;
demand('9') = 0.6443416445527701;
demand('10') = 0.17354523249778087;
demand('11') = 0.7924928360646166;
demand('12') = 0.674542801608162;
demand('13') = 0.915891078326236;
demand('14') = 0.24557942258315246;
demand('15') = 0.33874003093383065;
demand('16') = 0.44594083777126947;
demand('17') = 0.013306029399085317;
demand('18') = 0.45842517009077344;
demand('19') = 0.35880386748293114;
demand('20') = 0.33942852363181664;
demand('21') = 0.16589267535717878;
demand('22') = 0.2929059253102425;
demand('23') = 0.8195157042824232;
demand('24') = 0.3757246672560257;
demand('25') = 0.3555392782985537;
demand('26') = 0.27316672727013747;
demand('27') = 0.8123126625865963;
demand('28') = 0.6442851595686672;
demand('29') = 0.09449248486987227;
demand('30') = 0.13936863007461775;
demand('31') = 0.05030855820608182;
demand('32') = 0.06790052377371447;
demand('33') = 0.9445918823680007;
demand('34') = 0.0995261966008757;
demand('35') = 0.47579511271067354;
demand('36') = 0.5241631393615113;
demand('37') = 0.3185081787612387;
demand('38') = 0.26353845404456344;
demand('39') = 0.20319095690860967;
demand('40') = 0.1859605577988963;
demand('41') = 0.2890096895742629;
demand('42') = 0.653635460221606;
demand('43') = 0.7110644733989764;
demand('44') = 0.2539154550686463;
demand('45') = 0.31328664534722406;
demand('46') = 0.160462389054441;
demand('47') = 0.20451558256670732;
demand('48') = 0.38840760029468524;
demand('49') = 0.6193584623488748;
demand('50') = 0.011056987065853008;
demand('51') = 0.07068194692894769;
demand('52') = 0.14845679105295584;
demand('53') = 0.7533948513098606;
demand('54') = 0.8256565459533091;
demand('55') = 0.3722408079581436;
demand('56') = 0.7396661255152263;
demand('57') = 0.03797381453183868;
demand('58') = 0.6956419260903592;
demand('59') = 0.09858656127615828;
demand('60') = 0.01884334064071591;
demand('61') = 0.1546892874223028;
demand('62') = 0.717014387707628;
demand('63') = 0.9317197830723121;
demand('64') = 0.0869767276355019;
demand('65') = 0.7260180138085488;
demand('66') = 0.06290233602988804;
demand('67') = 0.1374423244508043;
demand('68') = 0.27612069342974677;
demand('69') = 0.8865883182683675;
demand('70') = 0.6346337174537552;
demand('71') = 0.7806084145175253;
demand('72') = 0.37066439887989466;
demand('73') = 0.6366496190611441;
demand('74') = 0.10031841703367761;
demand('75') = 0.7891952287553038;
demand('76') = 0.017486686276945607;
demand('77') = 0.1744677429935737;
demand('78') = 0.2525906334179926;
demand('79') = 0.002679393300856092;
demand('80') = 0.18749949311993075;
demand('81') = 0.41220207882505;
demand('82') = 0.5067934901505676;
demand('83') = 0.8833724958388667;
demand('84') = 0.7935683461330805;
demand('85') = 0.29316597702216085;
demand('86') = 0.04888464294232231;
demand('87') = 0.9029895410116513;
demand('88') = 0.8049470828835793;
demand('89') = 0.4618202388461965;
demand('90') = 0.4719377570663553;
demand('91') = 0.44412895153431375;
demand('92') = 0.4093210588195787;
demand('93') = 0.0982272817575085;
demand('94') = 0.1433380369255136;
demand('95') = 0.2477220253668162;
demand('96') = 0.7848052979929897;
demand('97') = 0.21820245762215018;
demand('98') = 0.9320553425321493;
demand('99') = 0.3510376950887113;
demand('100') = 0.2729261917323067;
capacity('1') = 2.941740606960062;
capacity('2') = 1.1859666439356715;
capacity('3') = 2.1305269327914385;
capacity('4') = 2.7684436065326223;
capacity('5') = 3.6829590494628754;
capacity('6') = 1.0958218145779426;
capacity('7') = 3.3984106498071616;
capacity('8') = 4.254718806258831;
capacity('9') = 2.538859188814823;
capacity('10') = 4.324368052869365;
capacity('11') = 4.28183038686227;
capacity('12') = 1.8059448692424567;
capacity('13') = 4.120592366733354;
capacity('14') = 2.2987496657313526;
capacity('15') = 0.2918556989393914;
capacity('16') = 2.451367228050054;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
