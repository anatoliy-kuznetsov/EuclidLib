Sets
i facilities / 1*11 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.827170565342314; community_y('1') = 0.7813061968023242;
community_x('2') = 0.21276311517617263; community_y('2') = 0.12477403922224772;
community_x('3') = 0.9425194436011797; community_y('3') = 0.047215271982312346;
community_x('4') = 0.49391971673226975; community_y('4') = 0.36022338472684645;
community_x('5') = 0.3975871534419906; community_y('5') = 0.35050963555720216;
community_x('6') = 0.6171646774684565; community_y('6') = 0.2053645245529352;
community_x('7') = 0.16962941460111325; community_y('7') = 0.6405041132120848;
community_x('8') = 0.19361217094892524; community_y('8') = 0.577303430227254;
community_x('9') = 0.42164500474248356; community_y('9') = 0.5600267519745975;
community_x('10') = 0.22970448570930002; community_y('10') = 0.3156087784290764;
community_x('11') = 0.6704298068806634; community_y('11') = 0.41093906283805026;
community_x('12') = 0.41623153404520497; community_y('12') = 0.26857911511549115;
community_x('13') = 0.38353495832202344; community_y('13') = 0.5525790689732266;
community_x('14') = 0.2777463300387698; community_y('14') = 0.3884972223143366;
community_x('15') = 0.2207885817162396; community_y('15') = 0.6506161732042969;
community_x('16') = 0.716191356812786; community_y('16') = 0.963081141193836;
community_x('17') = 0.9025521335945361; community_y('17') = 0.3233120577317956;
community_x('18') = 0.3502399586135774; community_y('18') = 0.5924318389914484;
community_x('19') = 0.8040414306008918; community_y('19') = 0.09546854641286118;
community_x('20') = 0.31313469765916013; community_y('20') = 0.8294521402378342;
community_x('21') = 0.760409926484713; community_y('21') = 0.5320363282275041;
community_x('22') = 0.23877406038049276; community_y('22') = 0.5932880634034757;
community_x('23') = 0.5687112022313325; community_y('23') = 0.5613034539302926;
community_x('24') = 0.4074439634684711; community_y('24') = 0.11514227584227921;
community_x('25') = 0.8709178300582484; community_y('25') = 0.878023839064786;
community_x('26') = 0.7612946965408907; community_y('26') = 0.011387122469848077;
community_x('27') = 0.107791820862428; community_y('27') = 0.19306342694570222;
community_x('28') = 0.09929772718869623; community_y('28') = 0.4840176901645443;
community_x('29') = 0.4600412614040167; community_y('29') = 0.9231827863399598;
community_x('30') = 0.2152795518990661; community_y('30') = 0.6992822357175911;
community_x('31') = 0.23788244187374308; community_y('31') = 0.9021741119345681;
community_x('32') = 0.9511189423522798; community_y('32') = 0.3400184085134592;
community_x('33') = 0.9406546861214974; community_y('33') = 0.5510003463054011;
community_x('34') = 0.01749038473908382; community_y('34') = 0.6000302134656529;
community_x('35') = 0.02223905489293687; community_y('35') = 0.23426847789882133;
community_x('36') = 0.6269637160239108; community_y('36') = 0.09354401193897299;
community_x('37') = 0.9476101746191393; community_y('37') = 0.34016722360871965;
community_x('38') = 0.8884754177262699; community_y('38') = 0.087125434204256;
community_x('39') = 0.6929726548558099; community_y('39') = 0.007381784214984255;
community_x('40') = 0.739502359144883; community_y('40') = 0.17715291435806835;
community_x('41') = 0.48283619329998717; community_y('41') = 0.8606502508694707;
community_x('42') = 0.4897713358561925; community_y('42') = 0.6136863120672856;
community_x('43') = 0.856873479059011; community_y('43') = 0.7499905534955708;
community_x('44') = 0.10751830563282039; community_y('44') = 0.5744714333121184;
community_x('45') = 0.6823539046102447; community_y('45') = 0.48213174966634176;
community_x('46') = 0.7194897206013613; community_y('46') = 0.888721037409584;
community_x('47') = 0.1557559815681564; community_y('47') = 0.34409184329652487;
community_x('48') = 0.7704183385687686; community_y('48') = 0.26097841801496346;
community_x('49') = 0.16854169583844936; community_y('49') = 0.2894558128418945;
community_x('50') = 0.9680445094065919; community_y('50') = 0.07407661284453138;
community_x('51') = 0.7639902522890137; community_y('51') = 0.017956293999846773;
community_x('52') = 0.45593309800479653; community_y('52') = 0.2716425248931803;
community_x('53') = 0.5839666421669215; community_y('53') = 0.6339510456681865;
community_x('54') = 0.9739037529851846; community_y('54') = 0.1960839527558953;
community_x('55') = 0.3670263267501719; community_y('55') = 0.47685103514735494;
community_x('56') = 0.20410640123089052; community_y('56') = 0.28925094739420154;
community_x('57') = 0.6895211126444661; community_y('57') = 0.7518684686346478;
community_x('58') = 0.9031524355919069; community_y('58') = 0.2389768531105939;
community_x('59') = 0.15600248113928306; community_y('59') = 0.4508199319741002;
community_x('60') = 0.7641644294168104; community_y('60') = 0.7476643557004357;
community_x('61') = 0.38881244205239873; community_y('61') = 0.7196789272183249;
community_x('62') = 0.687328558900196; community_y('62') = 0.8966619864578984;
community_x('63') = 0.47723670304742616; community_y('63') = 0.01528663486528059;
community_x('64') = 0.9504926490987846; community_y('64') = 0.4672523454178864;
community_x('65') = 0.5760415539182907; community_y('65') = 0.19126344245397275;
community_x('66') = 0.9666222459857021; community_y('66') = 0.8909889106348173;
community_x('67') = 0.9627991409191683; community_y('67') = 0.24905348891624324;
community_x('68') = 0.12867574959744832; community_y('68') = 0.8045930976080782;
community_x('69') = 0.9381044340810596; community_y('69') = 0.5169757876652274;
community_x('70') = 0.7584058927755046; community_y('70') = 0.7681250045498327;
community_x('71') = 0.14353270482243208; community_y('71') = 0.7964686737876788;
community_x('72') = 0.5777975670406795; community_y('72') = 0.861687650487321;
community_x('73') = 0.27167209512194546; community_y('73') = 0.8878147402366602;
community_x('74') = 0.04735230246529398; community_y('74') = 0.4042252083158768;
community_x('75') = 0.05749081722927729; community_y('75') = 0.6742260123428706;
community_x('76') = 0.3629681375060201; community_y('76') = 0.9178149606979924;
community_x('77') = 0.8741799938168596; community_y('77') = 0.7982274176523649;
community_x('78') = 0.07263291526386229; community_y('78') = 0.4422167028211561;
community_x('79') = 0.5857399189406292; community_y('79') = 0.8286752440191721;
community_x('80') = 0.8731330962161717; community_y('80') = 0.7818437097729009;
community_x('81') = 0.36306185441950334; community_y('81') = 0.44307422236777083;
community_x('82') = 0.7185593038516515; community_y('82') = 0.44212215998479376;
community_x('83') = 0.5935038074533013; community_y('83') = 0.4373605302504996;
community_x('84') = 0.7614202185280468; community_y('84') = 0.9373803376448369;
community_x('85') = 0.4815685309663853; community_y('85') = 0.22971500254370691;
community_x('86') = 0.9814354592594957; community_y('86') = 0.9553471244562174;
community_x('87') = 0.3991452038036677; community_y('87') = 0.136617440284881;
community_x('88') = 0.21241235467577424; community_y('88') = 0.2548386788978989;
community_x('89') = 0.12149749920800668; community_y('89') = 0.738063011660911;
community_x('90') = 0.25701542194686; community_y('90') = 0.7079255373223563;
community_x('91') = 0.11798689833280529; community_y('91') = 0.3057140920490229;
community_x('92') = 0.9409614575768116; community_y('92') = 0.29916718075044024;
community_x('93') = 0.1331318630972126; community_y('93') = 0.5660569538082806;
community_x('94') = 0.8404654718125811; community_y('94') = 0.7584784006974997;
community_x('95') = 0.770228642811792; community_y('95') = 0.38458742671626944;
community_x('96') = 0.4695555662739317; community_y('96') = 0.4694715951611488;
community_x('97') = 0.050873771377501265; community_y('97') = 0.43027455182163943;
community_x('98') = 0.20240967633858653; community_y('98') = 0.8299849448447698;
community_x('99') = 0.9357472153847064; community_y('99') = 0.9037495419080781;
community_x('100') = 0.41400877199743347; community_y('100') = 0.6292056976712086;
demand('1') = 0.25267862640465455;
demand('2') = 0.4235534831714681;
demand('3') = 0.41726895592320423;
demand('4') = 0.6250183642882209;
demand('5') = 0.3153711529927794;
demand('6') = 0.6085735358522264;
demand('7') = 0.5243476979383561;
demand('8') = 0.5424978416193527;
demand('9') = 0.9672518447388475;
demand('10') = 0.4156288262871385;
demand('11') = 0.25315660400639306;
demand('12') = 0.006451157965056131;
demand('13') = 0.009538776771941593;
demand('14') = 0.6878770595000564;
demand('15') = 0.892489052481121;
demand('16') = 0.6645338990772427;
demand('17') = 0.208598663697661;
demand('18') = 0.031769389094527645;
demand('19') = 0.44946320967546516;
demand('20') = 0.06888408559701764;
demand('21') = 0.07475580047334551;
demand('22') = 0.6326945546592255;
demand('23') = 0.15398121988794145;
demand('24') = 0.4834827149157206;
demand('25') = 0.8460705995615332;
demand('26') = 0.4875094178792213;
demand('27') = 0.38420540864894703;
demand('28') = 0.5088455147629056;
demand('29') = 0.9176701448314858;
demand('30') = 0.1812499596858883;
demand('31') = 0.7119551770454955;
demand('32') = 0.23475108130107136;
demand('33') = 0.6142365662842377;
demand('34') = 0.035711403953006204;
demand('35') = 0.04853063048251194;
demand('36') = 0.20734023360628495;
demand('37') = 0.7118653240392355;
demand('38') = 0.23570292815891358;
demand('39') = 0.7260256235656692;
demand('40') = 0.30806738202903905;
demand('41') = 0.8505764099335732;
demand('42') = 0.8958348672754187;
demand('43') = 0.7483852047309558;
demand('44') = 0.2056129476970514;
demand('45') = 0.06321159796725961;
demand('46') = 0.4567132788548325;
demand('47') = 0.26798357227083514;
demand('48') = 0.02252698719633528;
demand('49') = 0.7275412754643541;
demand('50') = 0.8287129363812715;
demand('51') = 0.8483503398980347;
demand('52') = 0.909978918630618;
demand('53') = 0.574976678242567;
demand('54') = 0.5111609057306368;
demand('55') = 0.9914525855825315;
demand('56') = 0.38202543687913815;
demand('57') = 0.7637773547860223;
demand('58') = 0.2877675818268304;
demand('59') = 0.9407371105509068;
demand('60') = 0.6178984834614627;
demand('61') = 0.9972705416530511;
demand('62') = 0.8509689321746039;
demand('63') = 0.6183109797756601;
demand('64') = 0.5099920652917218;
demand('65') = 0.16492498107368092;
demand('66') = 0.20052864094606349;
demand('67') = 0.07601619116786118;
demand('68') = 0.6097143727571158;
demand('69') = 0.21307701083331043;
demand('70') = 0.017448657969137638;
demand('71') = 0.5921755720292835;
demand('72') = 0.6663945837533406;
demand('73') = 0.08450879452559656;
demand('74') = 0.24347855696609977;
demand('75') = 0.8895913459895713;
demand('76') = 0.696388488156311;
demand('77') = 0.7866990186679343;
demand('78') = 0.25397535707042673;
demand('79') = 0.04766005931659545;
demand('80') = 0.6591968185641486;
demand('81') = 0.5732434723892458;
demand('82') = 0.586435936480199;
demand('83') = 0.05959020862432263;
demand('84') = 0.6218179669901462;
demand('85') = 0.8409058587345292;
demand('86') = 0.4851252568262;
demand('87') = 0.5159475733563267;
demand('88') = 0.1636082739204372;
demand('89') = 0.37839338634222663;
demand('90') = 0.21369105647858366;
demand('91') = 0.07079399752333759;
demand('92') = 0.9667266398840577;
demand('93') = 0.2784875568680949;
demand('94') = 0.12168603872598382;
demand('95') = 0.5813028893135005;
demand('96') = 0.1943313300132813;
demand('97') = 0.8157426593697427;
demand('98') = 0.20902292328757466;
demand('99') = 0.33771173274950983;
demand('100') = 0.29339630991785937;
capacity('1') = 0.31126950335063763;
capacity('2') = 6.038855928558704;
capacity('3') = 4.461961699478064;
capacity('4') = 4.599442088348826;
capacity('5') = 7.149517328108998;
capacity('6') = 0.8920382007388118;
capacity('7') = 5.981445540794453;
capacity('8') = 2.2627123718770226;
capacity('9') = 6.609440371634947;
capacity('10') = 7.236904874825244;
capacity('11') = 3.0200780361106085;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
