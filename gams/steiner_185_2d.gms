Sets
i Steiner points / 1*183 /
j terminals / 1*185 /
k dimensions / 1*2 /;
Alias(i,ii);
Parameters terminals(j,k);
terminals('1', '1') = 0.12426190545000482; terminals('1', '2') = 0.8304282121996412; 
terminals('2', '1') = 0.7700790709834597; terminals('2', '2') = 0.5916164929016265; 
terminals('3', '1') = 0.2793684725837311; terminals('3', '2') = 0.9164480573353709; 
terminals('4', '1') = 0.28452489236363887; terminals('4', '2') = 0.6082697893932544; 
terminals('5', '1') = 0.5781605075522398; terminals('5', '2') = 0.9453014789182925; 
terminals('6', '1') = 0.010581176582658669; terminals('6', '2') = 0.9822282273310933; 
terminals('7', '1') = 0.6733659976913264; terminals('7', '2') = 0.5977911023470306; 
terminals('8', '1') = 0.29540630919882804; terminals('8', '2') = 0.548699790507833; 
terminals('9', '1') = 0.32273922377226594; terminals('9', '2') = 0.7280259268371042; 
terminals('10', '1') = 0.06688931949692845; terminals('10', '2') = 0.381011577786305; 
terminals('11', '1') = 0.5614314887975791; terminals('11', '2') = 0.8841161789474186; 
terminals('12', '1') = 0.6872529137665381; terminals('12', '2') = 0.9053375514315531; 
terminals('13', '1') = 0.9214569860945322; terminals('13', '2') = 0.26200937198229257; 
terminals('14', '1') = 0.8100486856128364; terminals('14', '2') = 0.3609363701231292; 
terminals('15', '1') = 0.3731842649023951; terminals('15', '2') = 0.5327362540673327; 
terminals('16', '1') = 0.7665744142851082; terminals('16', '2') = 0.6591260774262279; 
terminals('17', '1') = 0.8565286518348313; terminals('17', '2') = 0.9139673248558353; 
terminals('18', '1') = 0.8298538636359393; terminals('18', '2') = 0.9601999971605427; 
terminals('19', '1') = 0.36137654422039545; terminals('19', '2') = 0.49948186365184055; 
terminals('20', '1') = 0.9693697276567501; terminals('20', '2') = 0.1147152034488006; 
terminals('21', '1') = 0.09342979850379174; terminals('21', '2') = 0.8769074700487284; 
terminals('22', '1') = 0.9590740385110708; terminals('22', '2') = 0.5268288834018812; 
terminals('23', '1') = 0.5393563073680234; terminals('23', '2') = 0.013328362030892493; 
terminals('24', '1') = 0.9058569743526645; terminals('24', '2') = 0.8867507241824003; 
terminals('25', '1') = 0.9155984425419693; terminals('25', '2') = 0.3769115251333599; 
terminals('26', '1') = 0.2690971906093689; terminals('26', '2') = 0.884356169019468; 
terminals('27', '1') = 0.8477551648276818; terminals('27', '2') = 0.9187852957019681; 
terminals('28', '1') = 0.4973490800072501; terminals('28', '2') = 0.8463069600835912; 
terminals('29', '1') = 0.5771568137928589; terminals('29', '2') = 0.01710669189263303; 
terminals('30', '1') = 0.010617490334593027; terminals('30', '2') = 0.6707233806233082; 
terminals('31', '1') = 0.5137472830043918; terminals('31', '2') = 0.0672057328282486; 
terminals('32', '1') = 0.17783168958391948; terminals('32', '2') = 0.8519197559987906; 
terminals('33', '1') = 0.3497379225835435; terminals('33', '2') = 0.18764674151501426; 
terminals('34', '1') = 0.11745123264333635; terminals('34', '2') = 0.8541397628103146; 
terminals('35', '1') = 0.20173502875904015; terminals('35', '2') = 0.7621621105159193; 
terminals('36', '1') = 0.771530225692812; terminals('36', '2') = 0.10411177523297799; 
terminals('37', '1') = 0.47446687721061165; terminals('37', '2') = 0.16297794528225218; 
terminals('38', '1') = 0.4976228012298992; terminals('38', '2') = 0.12208813511714744; 
terminals('39', '1') = 0.001754820110652422; terminals('39', '2') = 0.8400661054848858; 
terminals('40', '1') = 0.20980058053180117; terminals('40', '2') = 0.9239728688572342; 
terminals('41', '1') = 0.6449522954587865; terminals('41', '2') = 0.4906781898540963; 
terminals('42', '1') = 0.8068752764926128; terminals('42', '2') = 0.6300999984736059; 
terminals('43', '1') = 0.35044104278441246; terminals('43', '2') = 0.44059721456635337; 
terminals('44', '1') = 0.48994291652072786; terminals('44', '2') = 0.950936445306353; 
terminals('45', '1') = 0.8988851547675679; terminals('45', '2') = 0.7068832217367086; 
terminals('46', '1') = 0.7141420086901235; terminals('46', '2') = 0.83727001135265; 
terminals('47', '1') = 0.6674312342795862; terminals('47', '2') = 0.3400693019479415; 
terminals('48', '1') = 0.07680926398415544; terminals('48', '2') = 0.21060824364714525; 
terminals('49', '1') = 0.053516895097291406; terminals('49', '2') = 0.7149860574064703; 
terminals('50', '1') = 0.7125796681417402; terminals('50', '2') = 0.9905295999871125; 
terminals('51', '1') = 0.028295885621790084; terminals('51', '2') = 0.9014991849132136; 
terminals('52', '1') = 0.231912323994525; terminals('52', '2') = 0.4169343630870088; 
terminals('53', '1') = 0.17993476085783067; terminals('53', '2') = 0.775799621108635; 
terminals('54', '1') = 0.14554279258168323; terminals('54', '2') = 0.18494720533620124; 
terminals('55', '1') = 0.9379087003195844; terminals('55', '2') = 0.5172043396360766; 
terminals('56', '1') = 0.5973878367464213; terminals('56', '2') = 0.6244655437022194; 
terminals('57', '1') = 0.6965237333186991; terminals('57', '2') = 0.6490391866139555; 
terminals('58', '1') = 0.277888041846174; terminals('58', '2') = 0.2873325862153826; 
terminals('59', '1') = 0.5261486811984603; terminals('59', '2') = 0.7607465384079782; 
terminals('60', '1') = 0.11420965877290545; terminals('60', '2') = 0.42803396849294006; 
terminals('61', '1') = 0.03341562282412058; terminals('61', '2') = 0.8321906870099177; 
terminals('62', '1') = 0.494845988747738; terminals('62', '2') = 0.02143931811474009; 
terminals('63', '1') = 0.6396766165795035; terminals('63', '2') = 0.9646891394292452; 
terminals('64', '1') = 0.6482650480801183; terminals('64', '2') = 0.45955187364183325; 
terminals('65', '1') = 0.9055158309495258; terminals('65', '2') = 0.9900792564338821; 
terminals('66', '1') = 0.7038493637017059; terminals('66', '2') = 0.16784727013526912; 
terminals('67', '1') = 0.9950158908167857; terminals('67', '2') = 0.17775455332312196; 
terminals('68', '1') = 0.6238008104135682; terminals('68', '2') = 0.9005800291400381; 
terminals('69', '1') = 0.7500682447435197; terminals('69', '2') = 0.45575735946093265; 
terminals('70', '1') = 0.132034286690611; terminals('70', '2') = 0.6667814700048184; 
terminals('71', '1') = 0.1301132450622704; terminals('71', '2') = 0.004828473837913516; 
terminals('72', '1') = 0.6718337052145359; terminals('72', '2') = 0.9772049382716823; 
terminals('73', '1') = 0.35069899039806973; terminals('73', '2') = 0.26855716209889546; 
terminals('74', '1') = 0.34606830206843286; terminals('74', '2') = 0.0015634795829740922; 
terminals('75', '1') = 0.4932597166868836; terminals('75', '2') = 0.5792424602415602; 
terminals('76', '1') = 0.08648511497237377; terminals('76', '2') = 0.33755055023964176; 
terminals('77', '1') = 0.5694207276258874; terminals('77', '2') = 0.6106675361242131; 
terminals('78', '1') = 0.07540930617263375; terminals('78', '2') = 0.4031069266678772; 
terminals('79', '1') = 0.6141702545893527; terminals('79', '2') = 0.5219933710309129; 
terminals('80', '1') = 0.004285815581130281; terminals('80', '2') = 0.6201867069288173; 
terminals('81', '1') = 0.5749434770582803; terminals('81', '2') = 0.9579941262986081; 
terminals('82', '1') = 0.06615061030746261; terminals('82', '2') = 0.20973198867680087; 
terminals('83', '1') = 0.7792324148509022; terminals('83', '2') = 0.5117083554485226; 
terminals('84', '1') = 0.6738660248043312; terminals('84', '2') = 0.4048846698064503; 
terminals('85', '1') = 0.5033491641934641; terminals('85', '2') = 0.7599890313022301; 
terminals('86', '1') = 0.31864496269687226; terminals('86', '2') = 0.19774895724685215; 
terminals('87', '1') = 0.0456794390911468; terminals('87', '2') = 0.8765076541823869; 
terminals('88', '1') = 0.1469373627820676; terminals('88', '2') = 0.27512278993163386; 
terminals('89', '1') = 0.6724712164782587; terminals('89', '2') = 0.8638773816112694; 
terminals('90', '1') = 0.31643468025570365; terminals('90', '2') = 0.5333850660275652; 
terminals('91', '1') = 0.2302871907736711; terminals('91', '2') = 0.5645292739988588; 
terminals('92', '1') = 0.9505948669455258; terminals('92', '2') = 0.1394428054172806; 
terminals('93', '1') = 0.4550541925431091; terminals('93', '2') = 0.5373597913061761; 
terminals('94', '1') = 0.9881627036639066; terminals('94', '2') = 0.9673608351388946; 
terminals('95', '1') = 0.6090132474983191; terminals('95', '2') = 0.3178736694095574; 
terminals('96', '1') = 0.5722602499634856; terminals('96', '2') = 0.5308392834194082; 
terminals('97', '1') = 0.2511242202692471; terminals('97', '2') = 0.41120480789247993; 
terminals('98', '1') = 0.5289970356205654; terminals('98', '2') = 0.6961584472668264; 
terminals('99', '1') = 0.2707763277384635; terminals('99', '2') = 0.43974907309723055; 
terminals('100', '1') = 0.9092262348865009; terminals('100', '2') = 0.49849626822799364; 
terminals('101', '1') = 0.8850113608796578; terminals('101', '2') = 0.3085896413791813; 
terminals('102', '1') = 0.942950068755977; terminals('102', '2') = 0.20241225517740236; 
terminals('103', '1') = 0.04996500126516745; terminals('103', '2') = 0.31445898178889453; 
terminals('104', '1') = 0.08064393854686269; terminals('104', '2') = 0.3090425334102923; 
terminals('105', '1') = 0.49053014534690564; terminals('105', '2') = 0.4920045646129009; 
terminals('106', '1') = 0.38549578663413875; terminals('106', '2') = 0.7541373778664872; 
terminals('107', '1') = 0.08068742737723911; terminals('107', '2') = 0.42791079235397145; 
terminals('108', '1') = 0.384885809455904; terminals('108', '2') = 0.10085915884595786; 
terminals('109', '1') = 0.5844740067935665; terminals('109', '2') = 0.06844496546271339; 
terminals('110', '1') = 0.4077883341627183; terminals('110', '2') = 0.2838638238246056; 
terminals('111', '1') = 0.9759007636167402; terminals('111', '2') = 0.7840425366867358; 
terminals('112', '1') = 0.48085201285489576; terminals('112', '2') = 0.848561535229967; 
terminals('113', '1') = 0.02249556375756856; terminals('113', '2') = 0.3699888292833077; 
terminals('114', '1') = 0.3092048359522668; terminals('114', '2') = 0.04227965257806632; 
terminals('115', '1') = 0.4415187496813684; terminals('115', '2') = 0.7577923941328092; 
terminals('116', '1') = 0.45917413765177784; terminals('116', '2') = 0.737888418118537; 
terminals('117', '1') = 0.7274177241243164; terminals('117', '2') = 0.19966017528157853; 
terminals('118', '1') = 0.36799040606538624; terminals('118', '2') = 0.18535570236285048; 
terminals('119', '1') = 0.21386278902307998; terminals('119', '2') = 0.18756278228680345; 
terminals('120', '1') = 0.8630521064813561; terminals('120', '2') = 0.6259727621839821; 
terminals('121', '1') = 0.6229000605246022; terminals('121', '2') = 0.9527082072916251; 
terminals('122', '1') = 0.015502400988696818; terminals('122', '2') = 0.11890846811265554; 
terminals('123', '1') = 0.9321175005887545; terminals('123', '2') = 0.5528284704749925; 
terminals('124', '1') = 0.019630850049958015; terminals('124', '2') = 0.06807690983057879; 
terminals('125', '1') = 0.07161392310288395; terminals('125', '2') = 0.39826432858797645; 
terminals('126', '1') = 0.6040912686731967; terminals('126', '2') = 0.5867873948167385; 
terminals('127', '1') = 0.5791899826433052; terminals('127', '2') = 0.6700045548883392; 
terminals('128', '1') = 0.14610693927306695; terminals('128', '2') = 0.9126474577302988; 
terminals('129', '1') = 0.89335065282588; terminals('129', '2') = 0.33020077989945074; 
terminals('130', '1') = 0.0443237512319945; terminals('130', '2') = 0.5014120519247057; 
terminals('131', '1') = 0.839000017466434; terminals('131', '2') = 0.5346871128934073; 
terminals('132', '1') = 0.2528785165015933; terminals('132', '2') = 0.6815263654765129; 
terminals('133', '1') = 0.49478791248194787; terminals('133', '2') = 0.2198830725143015; 
terminals('134', '1') = 0.47299604009708063; terminals('134', '2') = 0.35319750506599346; 
terminals('135', '1') = 0.7172555393913556; terminals('135', '2') = 0.33770174123279617; 
terminals('136', '1') = 0.507032945344173; terminals('136', '2') = 0.7576074152598479; 
terminals('137', '1') = 0.5503809038693204; terminals('137', '2') = 0.8991520377225787; 
terminals('138', '1') = 0.13436412694157962; terminals('138', '2') = 0.4749501322697196; 
terminals('139', '1') = 0.7471289521876354; terminals('139', '2') = 0.4102431078849208; 
terminals('140', '1') = 0.8663947219224141; terminals('140', '2') = 0.3003980762688412; 
terminals('141', '1') = 0.19411812468366219; terminals('141', '2') = 0.36338052315387337; 
terminals('142', '1') = 0.6154260952942943; terminals('142', '2') = 0.8668596585508521; 
terminals('143', '1') = 0.5170778246794054; terminals('143', '2') = 0.23160683246343894; 
terminals('144', '1') = 0.7610910445832143; terminals('144', '2') = 0.5656083461891477; 
terminals('145', '1') = 0.9532316455480789; terminals('145', '2') = 0.7701445427509318; 
terminals('146', '1') = 0.8693395357305148; terminals('146', '2') = 0.026852952105404837; 
terminals('147', '1') = 0.13141330452337086; terminals('147', '2') = 0.6735174885013824; 
terminals('148', '1') = 0.8207037053927183; terminals('148', '2') = 0.7704458883373921; 
terminals('149', '1') = 0.559255612385799; terminals('149', '2') = 0.2386661639165656; 
terminals('150', '1') = 0.29058347448904076; terminals('150', '2') = 0.022699625453366346; 
terminals('151', '1') = 0.8109220381444023; terminals('151', '2') = 0.5592368892426671; 
terminals('152', '1') = 0.9067656491106193; terminals('152', '2') = 0.025765722334159413; 
terminals('153', '1') = 0.07463125876009036; terminals('153', '2') = 0.8116424779615395; 
terminals('154', '1') = 0.5363957084997885; terminals('154', '2') = 0.47714185796137554; 
terminals('155', '1') = 0.2458970596320702; terminals('155', '2') = 0.15625788451628253; 
terminals('156', '1') = 0.9523106860994965; terminals('156', '2') = 0.05209597094264262; 
terminals('157', '1') = 0.4164159618492307; terminals('157', '2') = 0.1695037213242363; 
terminals('158', '1') = 0.2615523534342864; terminals('158', '2') = 0.740094410485569; 
terminals('159', '1') = 0.8890189012599788; terminals('159', '2') = 0.7662924579895315; 
terminals('160', '1') = 0.2312499863166111; terminals('160', '2') = 0.8344303512594604; 
terminals('161', '1') = 0.30096584999282017; terminals('161', '2') = 0.9955849174750626; 
terminals('162', '1') = 0.8375915658799497; terminals('162', '2') = 0.1151031655272512; 
terminals('163', '1') = 0.7839734391881543; terminals('163', '2') = 0.11728046436311323; 
terminals('164', '1') = 0.13194879307079566; terminals('164', '2') = 0.7370447094610819; 
terminals('165', '1') = 0.3311577202541801; terminals('165', '2') = 0.14373673527652742; 
terminals('166', '1') = 0.5409722944415477; terminals('166', '2') = 0.8067609270799644; 
terminals('167', '1') = 0.032204418049926575; terminals('167', '2') = 0.9282904121081486; 
terminals('168', '1') = 0.6337429742078685; terminals('168', '2') = 0.9421779015931855; 
terminals('169', '1') = 0.02269159153874334; terminals('169', '2') = 0.8301248687044115; 
terminals('170', '1') = 0.9405421500642327; terminals('170', '2') = 0.7770675922740395; 
terminals('171', '1') = 0.5633825776286348; terminals('171', '2') = 0.024342472436018503; 
terminals('172', '1') = 0.07473262468837683; terminals('172', '2') = 0.8768583682986135; 
terminals('173', '1') = 0.16406507741851217; terminals('173', '2') = 0.3714515534068983; 
terminals('174', '1') = 0.6837666263361024; terminals('174', '2') = 0.03764821270707441; 
terminals('175', '1') = 0.9611248177949778; terminals('175', '2') = 0.6866411870870831; 
terminals('176', '1') = 0.634081256836096; terminals('176', '2') = 0.70957438661815; 
terminals('177', '1') = 0.9817279358110741; terminals('177', '2') = 0.9345364391297017; 
terminals('178', '1') = 0.7662110910606899; terminals('178', '2') = 0.025354675113611114; 
terminals('179', '1') = 0.07705459880759757; terminals('179', '2') = 0.033861411294442756; 
terminals('180', '1') = 0.2368166530698218; terminals('180', '2') = 0.5034921194827696; 
terminals('181', '1') = 0.2851205587152209; terminals('181', '2') = 0.9543794434395451; 
terminals('182', '1') = 0.4148045806135897; terminals('182', '2') = 0.7848419669328542; 
terminals('183', '1') = 0.46058249362137216; terminals('183', '2') = 0.7717319219947794; 
terminals('184', '1') = 0.6592924531016063; terminals('184', '2') = 0.6426126268679324; 
terminals('185', '1') = 0.4036788713564715; terminals('185', '2') = 0.6016471955763323; 
Parameter bigM / 1.4142135623730951 /;
Positive Variables distance_Steiner_Steiner(i,ii), distance_Steiner_terminal(i,j), Steiner_points(i,k);
Steiner_points.up(i,k) = 1; distance_Steiner_Steiner.up(i,ii) = bigM; distance_Steiner_terminal.up(i,j) = bigM;
Binary Variables is_connected_Steiner_Steiner(i,ii), is_connected_Steiner_terminal(i,j);
Variable objective;
Equations objective_definition, distance_Steiner_Steiner_def(i,ii), distance_Steiner_terminal_def(i,j), assignment(j), cardinality(i), Steiner_connectivity(i);
objective_definition.. objective =e= sum(i, sum(ii$(ord(i)<ord(ii)), distance_Steiner_Steiner(i,ii)) + sum(j, distance_Steiner_terminal(i,j)));
distance_Steiner_Steiner_def(i,ii)$(ord(i)<ord(ii)).. distance_Steiner_Steiner(i,ii) =g= sqrt(sum(k, power(Steiner_points(i,k) - Steiner_points(ii,k), 2))) - bigM * (1 - is_connected_Steiner_Steiner(i,ii));
distance_Steiner_terminal_def(i,j).. distance_Steiner_terminal(i,j) =g= sqrt(sum(k, power(Steiner_points(i,k) - terminals(j,k), 2))) - bigM * (1 - is_connected_Steiner_terminal(i,j));
assignment(j).. sum(i, is_connected_Steiner_terminal(i,j)) =e= 1;
cardinality(i).. sum(j, is_connected_Steiner_terminal(i,j)) + sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) + sum(ii$(ord(i)<ord(ii)), is_connected_Steiner_Steiner(i,ii)) =e= 3;
Steiner_connectivity(i)$(ord(i)>1).. sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) =e= 1;
Model m / all /;
Solve m using minlp minimizing objective;
