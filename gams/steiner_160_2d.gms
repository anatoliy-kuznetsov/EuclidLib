Sets
i Steiner points / 1*158 /
j terminals / 1*160 /
k dimensions / 1*2 /;
Alias(i,ii);
Parameters terminals(j,k);
terminals('1', '1') = 0.4455298893939469; terminals('1', '2') = 0.6293702057674703; 
terminals('2', '1') = 0.43815078248669503; terminals('2', '2') = 0.32221017854005174; 
terminals('3', '1') = 0.41872339898159605; terminals('3', '2') = 0.09041527467199384; 
terminals('4', '1') = 0.512261202246994; terminals('4', '2') = 0.7868139353465692; 
terminals('5', '1') = 0.3565780045208714; terminals('5', '2') = 0.6236893924772794; 
terminals('6', '1') = 0.5585584547820461; terminals('6', '2') = 0.4797692291790605; 
terminals('7', '1') = 0.17164343220437317; terminals('7', '2') = 0.48057279913884166; 
terminals('8', '1') = 0.4972712339025608; terminals('8', '2') = 0.023648310258253646; 
terminals('9', '1') = 0.8574710096650844; terminals('9', '2') = 0.7372662066233695; 
terminals('10', '1') = 0.6277447208958677; terminals('10', '2') = 0.25411699378537855; 
terminals('11', '1') = 0.6319240691189618; terminals('11', '2') = 0.856033625937846; 
terminals('12', '1') = 0.4521982441807805; terminals('12', '2') = 0.8944157128101614; 
terminals('13', '1') = 0.83288418532921; terminals('13', '2') = 0.1683073276682988; 
terminals('14', '1') = 0.4101994929621736; terminals('14', '2') = 0.08466558897948806; 
terminals('15', '1') = 0.5627450752387648; terminals('15', '2') = 0.625088793268923; 
terminals('16', '1') = 0.4799221004067452; terminals('16', '2') = 0.38018462451376667; 
terminals('17', '1') = 0.454174978119365; terminals('17', '2') = 0.19481893511381554; 
terminals('18', '1') = 0.9589621478017274; terminals('18', '2') = 0.6230210615025001; 
terminals('19', '1') = 0.8997751485394359; terminals('19', '2') = 0.3776606322412739; 
terminals('20', '1') = 0.3937461592178103; terminals('20', '2') = 0.17223508237154328; 
terminals('21', '1') = 0.3227459535859748; terminals('21', '2') = 0.1102741909193995; 
terminals('22', '1') = 0.2462956543400706; terminals('22', '2') = 0.4217599781240188; 
terminals('23', '1') = 0.7611086792378045; terminals('23', '2') = 0.4276899134775589; 
terminals('24', '1') = 0.5185413710504576; terminals('24', '2') = 0.4428875894224702; 
terminals('25', '1') = 0.9592933282499748; terminals('25', '2') = 0.7731328251277534; 
terminals('26', '1') = 0.6746659626914765; terminals('26', '2') = 0.8661569922756054; 
terminals('27', '1') = 0.250372093763063; terminals('27', '2') = 0.8773231535037482; 
terminals('28', '1') = 0.3406709337217775; terminals('28', '2') = 0.11697800780526368; 
terminals('29', '1') = 0.5872309345488673; terminals('29', '2') = 0.21831756976657335; 
terminals('30', '1') = 0.8378760935271274; terminals('30', '2') = 0.6776493957328074; 
terminals('31', '1') = 0.8702590363502473; terminals('31', '2') = 0.205129232520061; 
terminals('32', '1') = 0.14615031279839907; terminals('32', '2') = 0.107491311500574; 
terminals('33', '1') = 0.7895198725756678; terminals('33', '2') = 0.394933275352092; 
terminals('34', '1') = 0.7442826370776762; terminals('34', '2') = 0.3036512636688945; 
terminals('35', '1') = 0.6606902064536205; terminals('35', '2') = 0.6372155130843187; 
terminals('36', '1') = 0.38391620444917773; terminals('36', '2') = 0.17286055863024807; 
terminals('37', '1') = 0.9416517137884097; terminals('37', '2') = 0.42901995941096094; 
terminals('38', '1') = 0.6391553939055744; terminals('38', '2') = 0.6168353034453201; 
terminals('39', '1') = 0.03179250495099528; terminals('39', '2') = 0.5914469682267048; 
terminals('40', '1') = 0.6913739121148023; terminals('40', '2') = 0.5670283797441411; 
terminals('41', '1') = 0.2169520096346732; terminals('41', '2') = 0.8584544171514705; 
terminals('42', '1') = 0.030380541436583752; terminals('42', '2') = 0.06545604954675255; 
terminals('43', '1') = 0.08389321210987111; terminals('43', '2') = 0.38747064607519643; 
terminals('44', '1') = 0.589879532667547; terminals('44', '2') = 0.8979382762464111; 
terminals('45', '1') = 0.03951348868766014; terminals('45', '2') = 0.8414171698644511; 
terminals('46', '1') = 0.5993060839274001; terminals('46', '2') = 0.19829168163940192; 
terminals('47', '1') = 0.3624651022128176; terminals('47', '2') = 0.6035567239515969; 
terminals('48', '1') = 0.3303732606476688; terminals('48', '2') = 0.6365074476789606; 
terminals('49', '1') = 0.03113596058754131; terminals('49', '2') = 0.6456374926601384; 
terminals('50', '1') = 0.45014891034711846; terminals('50', '2') = 0.07107508812405483; 
terminals('51', '1') = 0.015458751768947843; terminals('51', '2') = 0.014522483218780469; 
terminals('52', '1') = 0.4465592424039688; terminals('52', '2') = 0.5166152632312095; 
terminals('53', '1') = 0.8039295937498655; terminals('53', '2') = 0.9850536812765522; 
terminals('54', '1') = 0.645040071914947; terminals('54', '2') = 0.2116264299608387; 
terminals('55', '1') = 0.04570370201793705; terminals('55', '2') = 0.3416902093174212; 
terminals('56', '1') = 0.29449314942150506; terminals('56', '2') = 0.4381760785367178; 
terminals('57', '1') = 0.35612327436055136; terminals('57', '2') = 0.040090014507067506; 
terminals('58', '1') = 0.8992513251477188; terminals('58', '2') = 0.4237374481943451; 
terminals('59', '1') = 0.7827206042613836; terminals('59', '2') = 0.3878293789074767; 
terminals('60', '1') = 0.8363365298797815; terminals('60', '2') = 0.3783076597774694; 
terminals('61', '1') = 0.9672425539431136; terminals('61', '2') = 0.381898891885597; 
terminals('62', '1') = 0.0015580766477453212; terminals('62', '2') = 0.2013904135711947; 
terminals('63', '1') = 0.7807053191960718; terminals('63', '2') = 0.35440343707609645; 
terminals('64', '1') = 0.04829930622788192; terminals('64', '2') = 0.7292950156036617; 
terminals('65', '1') = 0.12235414657743127; terminals('65', '2') = 0.6294069386136322; 
terminals('66', '1') = 0.8017639035334784; terminals('66', '2') = 0.7804327368595637; 
terminals('67', '1') = 0.5842028836939287; terminals('67', '2') = 0.04420280558764078; 
terminals('68', '1') = 0.39759638495707805; terminals('68', '2') = 0.5590427311859697; 
terminals('69', '1') = 0.7581820669832062; terminals('69', '2') = 0.05494380294806123; 
terminals('70', '1') = 0.8095137502239066; terminals('70', '2') = 0.4408489573829091; 
terminals('71', '1') = 0.9686875460315043; terminals('71', '2') = 0.6680596944858201; 
terminals('72', '1') = 0.8335742090050073; terminals('72', '2') = 0.5336444415966143; 
terminals('73', '1') = 0.15770650440270173; terminals('73', '2') = 0.5565178209469913; 
terminals('74', '1') = 0.962666313507055; terminals('74', '2') = 0.8420014650980541; 
terminals('75', '1') = 0.27259228209979436; terminals('75', '2') = 0.2785921411961164; 
terminals('76', '1') = 0.968433230021599; terminals('76', '2') = 0.19549582595843296; 
terminals('77', '1') = 0.6045859938279272; terminals('77', '2') = 0.9676440109158194; 
terminals('78', '1') = 0.34869646685759703; terminals('78', '2') = 0.12039645735911919; 
terminals('79', '1') = 0.6736426756779942; terminals('79', '2') = 0.19466681117014417; 
terminals('80', '1') = 0.3412417991178224; terminals('80', '2') = 0.9265774618022464; 
terminals('81', '1') = 0.45000665820979147; terminals('81', '2') = 0.31380317297550675; 
terminals('82', '1') = 0.5451896008638016; terminals('82', '2') = 0.2097921459740011; 
terminals('83', '1') = 0.5277985487614228; terminals('83', '2') = 0.36537516307814943; 
terminals('84', '1') = 0.8864481283746772; terminals('84', '2') = 0.4531084906418522; 
terminals('85', '1') = 0.27516501896934775; terminals('85', '2') = 0.9783114405525773; 
terminals('86', '1') = 0.5730731458149129; terminals('86', '2') = 0.8009467967361926; 
terminals('87', '1') = 0.8830526253043408; terminals('87', '2') = 0.24708606291079405; 
terminals('88', '1') = 0.9411183959665772; terminals('88', '2') = 0.6496238401791858; 
terminals('89', '1') = 0.4803965460043952; terminals('89', '2') = 0.24041452113801753; 
terminals('90', '1') = 0.1832467511448188; terminals('90', '2') = 0.7547624417701762; 
terminals('91', '1') = 0.7871174180231629; terminals('91', '2') = 0.8284551646041691; 
terminals('92', '1') = 0.9660813352997589; terminals('92', '2') = 0.952272771411663; 
terminals('93', '1') = 0.6991037389353322; terminals('93', '2') = 0.6035495643444244; 
terminals('94', '1') = 0.45463288757897347; terminals('94', '2') = 0.8896392036385404; 
terminals('95', '1') = 0.25074967904805956; terminals('95', '2') = 0.24457998888752364; 
terminals('96', '1') = 0.44235163463559213; terminals('96', '2') = 0.844164399977756; 
terminals('97', '1') = 0.9165814699503152; terminals('97', '2') = 0.5020563635369024; 
terminals('98', '1') = 0.668128850622424; terminals('98', '2') = 0.9457898080684891; 
terminals('99', '1') = 0.40364584731196695; terminals('99', '2') = 0.8298309543690146; 
terminals('100', '1') = 0.16642929618930002; terminals('100', '2') = 0.21903919600243404; 
terminals('101', '1') = 0.9461802192018578; terminals('101', '2') = 0.10816659305930576; 
terminals('102', '1') = 0.2437952596683418; terminals('102', '2') = 0.5991163654755294; 
terminals('103', '1') = 0.7732920127294252; terminals('103', '2') = 0.3490600117283611; 
terminals('104', '1') = 0.5913203323060244; terminals('104', '2') = 0.38642490544520125; 
terminals('105', '1') = 0.8854227774469536; terminals('105', '2') = 0.8419800610926954; 
terminals('106', '1') = 0.7788823433771762; terminals('106', '2') = 0.49161893538434265; 
terminals('107', '1') = 0.00802274017859339; terminals('107', '2') = 0.11161796054910478; 
terminals('108', '1') = 0.6319317742303264; terminals('108', '2') = 0.32824123298719077; 
terminals('109', '1') = 0.8483290578776839; terminals('109', '2') = 0.6695745340710115; 
terminals('110', '1') = 0.4231047585385096; terminals('110', '2') = 0.29110769952570525; 
terminals('111', '1') = 0.5043096060157163; terminals('111', '2') = 0.6088064258767943; 
terminals('112', '1') = 0.07044668313657687; terminals('112', '2') = 0.04990988138610286; 
terminals('113', '1') = 0.65888489674685; terminals('113', '2') = 0.3170036503302588; 
terminals('114', '1') = 0.04476566447674202; terminals('114', '2') = 0.5893926470034497; 
terminals('115', '1') = 0.07909798794537404; terminals('115', '2') = 0.16023283077358874; 
terminals('116', '1') = 0.37980190819556303; terminals('116', '2') = 0.3432299034902053; 
terminals('117', '1') = 0.3797298720696307; terminals('117', '2') = 0.6034810433473115; 
terminals('118', '1') = 0.1516263773037797; terminals('118', '2') = 0.587175925937779; 
terminals('119', '1') = 0.6741464759849484; terminals('119', '2') = 0.30562207421102805; 
terminals('120', '1') = 0.057025728267064535; terminals('120', '2') = 0.46140882719019904; 
terminals('121', '1') = 0.2796310703365631; terminals('121', '2') = 0.06994153016325733; 
terminals('122', '1') = 0.5014840930880187; terminals('122', '2') = 0.3650967577997687; 
terminals('123', '1') = 0.128917585614454; terminals('123', '2') = 0.18228638462050606; 
terminals('124', '1') = 0.3313129766843891; terminals('124', '2') = 0.8883380333240976; 
terminals('125', '1') = 0.6088491460515337; terminals('125', '2') = 0.25840314990954627; 
terminals('126', '1') = 0.560617938980244; terminals('126', '2') = 0.6907404609870454; 
terminals('127', '1') = 0.09265115984287653; terminals('127', '2') = 0.7198250455731111; 
terminals('128', '1') = 0.6817623134510699; terminals('128', '2') = 0.37983458327537345; 
terminals('129', '1') = 0.24016829664289518; terminals('129', '2') = 0.39031411738954624; 
terminals('130', '1') = 0.11358866920642807; terminals('130', '2') = 0.09353680315710344; 
terminals('131', '1') = 0.8963096485003641; terminals('131', '2') = 0.7348120530468292; 
terminals('132', '1') = 0.7016820699002506; terminals('132', '2') = 0.23047977620065374; 
terminals('133', '1') = 0.044413495458424435; terminals('133', '2') = 0.3699562452760633; 
terminals('134', '1') = 0.9131410484783282; terminals('134', '2') = 0.405334406460244; 
terminals('135', '1') = 0.7854071064008382; terminals('135', '2') = 0.21206867883263114; 
terminals('136', '1') = 0.5239054649360507; terminals('136', '2') = 0.6628439139797319; 
terminals('137', '1') = 0.83697688659056; terminals('137', '2') = 0.13000461282923892; 
terminals('138', '1') = 0.8959407040969449; terminals('138', '2') = 0.6250214727346992; 
terminals('139', '1') = 0.7075449593978352; terminals('139', '2') = 0.1367836811687706; 
terminals('140', '1') = 0.8861426367263125; terminals('140', '2') = 0.6929217515237983; 
terminals('141', '1') = 0.12310964108121625; terminals('141', '2') = 0.5393901262385409; 
terminals('142', '1') = 0.26746679844170573; terminals('142', '2') = 0.436891818528791; 
terminals('143', '1') = 0.9596866162296039; terminals('143', '2') = 0.48946026729631664; 
terminals('144', '1') = 0.6959575744809926; terminals('144', '2') = 0.23280043696130426; 
terminals('145', '1') = 0.3095913751194398; terminals('145', '2') = 0.21078925090146916; 
terminals('146', '1') = 0.4000749431645444; terminals('146', '2') = 0.17774696627152853; 
terminals('147', '1') = 0.7242097862333337; terminals('147', '2') = 0.10963139188923277; 
terminals('148', '1') = 0.458889237308181; terminals('148', '2') = 0.7441668483139576; 
terminals('149', '1') = 0.007864684969059232; terminals('149', '2') = 0.5254136969572878; 
terminals('150', '1') = 0.6091534634078397; terminals('150', '2') = 0.45805499853083265; 
terminals('151', '1') = 0.943070774224704; terminals('151', '2') = 0.4804693135912794; 
terminals('152', '1') = 0.30878573857238667; terminals('152', '2') = 0.15320092008085173; 
terminals('153', '1') = 0.40371323017921934; terminals('153', '2') = 0.6769351612292416; 
terminals('154', '1') = 0.11331403052260036; terminals('154', '2') = 0.03267030236120516; 
terminals('155', '1') = 0.35274152265369174; terminals('155', '2') = 0.8101254636690483; 
terminals('156', '1') = 0.22474352604503578; terminals('156', '2') = 0.47203849506271145; 
terminals('157', '1') = 0.9473860341895137; terminals('157', '2') = 0.2339701880077366; 
terminals('158', '1') = 0.9595472951933244; terminals('158', '2') = 0.606187256597862; 
terminals('159', '1') = 0.12355634676685756; terminals('159', '2') = 0.8938421174565612; 
terminals('160', '1') = 0.4371842719294927; terminals('160', '2') = 0.9210517444974321; 
Parameter bigM / 1.4142135623730951 /;
Positive Variables distance_Steiner_Steiner(i,ii), distance_Steiner_terminal(i,j), Steiner_points(i,k);
Steiner_points.up(i,k) = 1; distance_Steiner_Steiner.up(i,ii) = bigM; distance_Steiner_terminal.up(i,j) = bigM;
Binary Variables is_connected_Steiner_Steiner(i,ii), is_connected_Steiner_terminal(i,j);
Variable objective;
Equations objective_definition, distance_Steiner_Steiner_def(i,ii), distance_Steiner_terminal_def(i,j), assignment(j), cardinality(i), Steiner_connectivity(i);
objective_definition.. objective =e= sum(i, sum(ii$(ord(i)<ord(ii)), distance_Steiner_Steiner(i,ii)) + sum(j, distance_Steiner_terminal(i,j)));
distance_Steiner_Steiner_def(i,ii)$(ord(i)<ord(ii)).. distance_Steiner_Steiner(i,ii) =g= sqrt(sum(k, power(Steiner_points(i,k) - Steiner_points(ii,k), 2))) - bigM * (1 - is_connected_Steiner_Steiner(i,ii));
distance_Steiner_terminal_def(i,j).. distance_Steiner_terminal(i,j) =g= sqrt(sum(k, power(Steiner_points(i,k) - terminals(j,k), 2))) - bigM * (1 - is_connected_Steiner_terminal(i,j));
assignment(j).. sum(i, is_connected_Steiner_terminal(i,j)) =e= 1;
cardinality(i).. sum(j, is_connected_Steiner_terminal(i,j)) + sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) + sum(ii$(ord(i)<ord(ii)), is_connected_Steiner_Steiner(i,ii)) =e= 3;
Steiner_connectivity(i)$(ord(i)>1).. sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) =e= 1;
Model m / all /;
Solve m using minlp minimizing objective;
