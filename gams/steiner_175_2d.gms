Sets
i Steiner points / 1*173 /
j terminals / 1*175 /
k dimensions / 1*2 /;
Alias(i,ii);
Parameters terminals(j,k);
terminals('1', '1') = 0.8899424699165775; terminals('1', '2') = 0.8024948625247633; 
terminals('2', '1') = 0.4015425655691761; terminals('2', '2') = 0.6706891008699155; 
terminals('3', '1') = 0.6514092337708058; terminals('3', '2') = 0.9762954805597137; 
terminals('4', '1') = 0.7538950725754537; terminals('4', '2') = 0.17552372003027827; 
terminals('5', '1') = 0.5898674911914461; terminals('5', '2') = 0.7093027881487299; 
terminals('6', '1') = 0.9659343522178693; terminals('6', '2') = 0.48608889777788544; 
terminals('7', '1') = 0.2359912765811757; terminals('7', '2') = 0.7579239024937295; 
terminals('8', '1') = 0.2908596870616722; terminals('8', '2') = 0.3842014747342245; 
terminals('9', '1') = 0.8874670170192578; terminals('9', '2') = 0.922720028484063; 
terminals('10', '1') = 0.48176254791708595; terminals('10', '2') = 0.5256113893621408; 
terminals('11', '1') = 0.46524497232422024; terminals('11', '2') = 0.6803551802632319; 
terminals('12', '1') = 0.42901245307222735; terminals('12', '2') = 0.7208010006633142; 
terminals('13', '1') = 0.5432588411888611; terminals('13', '2') = 0.2852980614281929; 
terminals('14', '1') = 0.17264154661317077; terminals('14', '2') = 0.8986800212390001; 
terminals('15', '1') = 0.3024274066269538; terminals('15', '2') = 0.796151275411003; 
terminals('16', '1') = 0.3706346084565296; terminals('16', '2') = 0.6882584608515814; 
terminals('17', '1') = 0.8381691901647633; terminals('17', '2') = 0.9360705387283084; 
terminals('18', '1') = 0.18893271486628482; terminals('18', '2') = 0.18450715321821054; 
terminals('19', '1') = 0.7142956640169276; terminals('19', '2') = 0.9834127593167301; 
terminals('20', '1') = 0.05527679921735695; terminals('20', '2') = 0.6591636106133928; 
terminals('21', '1') = 0.9665421172362353; terminals('21', '2') = 0.5223862214192795; 
terminals('22', '1') = 0.3693467694495324; terminals('22', '2') = 0.012888527481043965; 
terminals('23', '1') = 0.4230514470319754; terminals('23', '2') = 0.7491606803406762; 
terminals('24', '1') = 0.38492839642373433; terminals('24', '2') = 0.26024402712770234; 
terminals('25', '1') = 0.720037425281249; terminals('25', '2') = 0.5151175704498797; 
terminals('26', '1') = 0.5964073285440824; terminals('26', '2') = 0.48215351030383125; 
terminals('27', '1') = 0.09310738506650285; terminals('27', '2') = 0.9656454620714846; 
terminals('28', '1') = 0.36372325249525794; terminals('28', '2') = 0.08457094494563644; 
terminals('29', '1') = 0.5025593818060426; terminals('29', '2') = 0.26216158488533226; 
terminals('30', '1') = 0.7948373516842757; terminals('30', '2') = 0.4113705719720049; 
terminals('31', '1') = 0.48330454548157475; terminals('31', '2') = 0.6976480957825876; 
terminals('32', '1') = 0.9896793825938606; terminals('32', '2') = 0.06646183773500247; 
terminals('33', '1') = 0.12598378227062734; terminals('33', '2') = 0.7926073065194407; 
terminals('34', '1') = 0.40521107142278956; terminals('34', '2') = 0.4920022375430123; 
terminals('35', '1') = 0.8472441041866435; terminals('35', '2') = 0.581150899188435; 
terminals('36', '1') = 0.6490710683657614; terminals('36', '2') = 0.5558570572689565; 
terminals('37', '1') = 0.1717608141721496; terminals('37', '2') = 0.7730635109007864; 
terminals('38', '1') = 0.991717208961756; terminals('38', '2') = 0.057732268173770085; 
terminals('39', '1') = 0.8778617756844155; terminals('39', '2') = 0.8738737373983008; 
terminals('40', '1') = 0.8869470039441969; terminals('40', '2') = 0.8243457406778237; 
terminals('41', '1') = 0.8719179773095026; terminals('41', '2') = 0.21839048217407409; 
terminals('42', '1') = 0.8311319733233742; terminals('42', '2') = 0.0067526260201815624; 
terminals('43', '1') = 0.5890763191305627; terminals('43', '2') = 0.052768888645847056; 
terminals('44', '1') = 0.18426598267148764; terminals('44', '2') = 0.8767714671228114; 
terminals('45', '1') = 0.25135538347180675; terminals('45', '2') = 0.8022489702761021; 
terminals('46', '1') = 0.1288849192061856; terminals('46', '2') = 0.8975538672505938; 
terminals('47', '1') = 0.2846196143115155; terminals('47', '2') = 0.03169721117868596; 
terminals('48', '1') = 0.07264070525108746; terminals('48', '2') = 0.26514197804765394; 
terminals('49', '1') = 0.07227401951226897; terminals('49', '2') = 0.2498790262306283; 
terminals('50', '1') = 0.4934430393697161; terminals('50', '2') = 0.49218202398861466; 
terminals('51', '1') = 0.7362699247237533; terminals('51', '2') = 0.6856084899508389; 
terminals('52', '1') = 0.2625502191594473; terminals('52', '2') = 0.8798262029292185; 
terminals('53', '1') = 0.02162183730933609; terminals('53', '2') = 0.554196498441462; 
terminals('54', '1') = 0.15282275548163216; terminals('54', '2') = 0.6021077532476834; 
terminals('55', '1') = 0.5255445371623053; terminals('55', '2') = 0.8658956757119876; 
terminals('56', '1') = 0.26319306927272756; terminals('56', '2') = 0.06251098582053072; 
terminals('57', '1') = 0.9673767134682351; terminals('57', '2') = 0.13279591366567733; 
terminals('58', '1') = 0.7806165035208742; terminals('58', '2') = 0.18212280201850461; 
terminals('59', '1') = 0.3427589886876774; terminals('59', '2') = 0.5839979347341597; 
terminals('60', '1') = 0.4435265441276742; terminals('60', '2') = 0.81544990398606; 
terminals('61', '1') = 0.288021009249538; terminals('61', '2') = 0.27156058414695394; 
terminals('62', '1') = 0.9034958489566685; terminals('62', '2') = 0.6217334826523773; 
terminals('63', '1') = 0.12003728426155569; terminals('63', '2') = 0.7577970636726369; 
terminals('64', '1') = 0.10189021003295184; terminals('64', '2') = 0.9730496640989714; 
terminals('65', '1') = 0.3201197655333129; terminals('65', '2') = 0.10495128421228472; 
terminals('66', '1') = 0.6810567639193075; terminals('66', '2') = 0.9265823499461581; 
terminals('67', '1') = 0.29076739309752164; terminals('67', '2') = 0.990961582441968; 
terminals('68', '1') = 0.6312238599050094; terminals('68', '2') = 0.9903657966225227; 
terminals('69', '1') = 0.33909906043493054; terminals('69', '2') = 0.7267641343556216; 
terminals('70', '1') = 0.036591875459322076; terminals('70', '2') = 0.45019280871647105; 
terminals('71', '1') = 0.7966494231669468; terminals('71', '2') = 0.12423119376447744; 
terminals('72', '1') = 0.9425212663080649; terminals('72', '2') = 0.7518149730668512; 
terminals('73', '1') = 0.6827756999063871; terminals('73', '2') = 0.5162982296735119; 
terminals('74', '1') = 0.7862525356064829; terminals('74', '2') = 0.6050744768295466; 
terminals('75', '1') = 0.1934824286154343; terminals('75', '2') = 0.11134042544741996; 
terminals('76', '1') = 0.29650121516826355; terminals('76', '2') = 0.8537072412895181; 
terminals('77', '1') = 0.23791536386038392; terminals('77', '2') = 0.20761147409223957; 
terminals('78', '1') = 0.6641640287363177; terminals('78', '2') = 0.8338910849381005; 
terminals('79', '1') = 0.2854678486470552; terminals('79', '2') = 0.5490315071380585; 
terminals('80', '1') = 0.20625109987025503; terminals('80', '2') = 0.32148859299167687; 
terminals('81', '1') = 0.6743811843186339; terminals('81', '2') = 0.7917388184764926; 
terminals('82', '1') = 0.8047357434268081; terminals('82', '2') = 0.9495731547151116; 
terminals('83', '1') = 0.043515313168336456; terminals('83', '2') = 0.43900644088751983; 
terminals('84', '1') = 0.7970559583969098; terminals('84', '2') = 0.4157737784193456; 
terminals('85', '1') = 0.9331269758467807; terminals('85', '2') = 0.4473059527411015; 
terminals('86', '1') = 0.8080058941799764; terminals('86', '2') = 0.7237656898008613; 
terminals('87', '1') = 0.823176262164356; terminals('87', '2') = 0.8157776561888471; 
terminals('88', '1') = 0.20204868348442506; terminals('88', '2') = 0.4258959008187936; 
terminals('89', '1') = 0.612136393589405; terminals('89', '2') = 0.6619539176522541; 
terminals('90', '1') = 0.7631930918319179; terminals('90', '2') = 0.8547776985492705; 
terminals('91', '1') = 0.9592960174272102; terminals('91', '2') = 0.46923939317107133; 
terminals('92', '1') = 0.2693914800327053; terminals('92', '2') = 0.38218092720366514; 
terminals('93', '1') = 0.5567026834086021; terminals('93', '2') = 0.1656631607805622; 
terminals('94', '1') = 0.6781409332118884; terminals('94', '2') = 0.5107523531683388; 
terminals('95', '1') = 0.7573671102956292; terminals('95', '2') = 0.5734370173534247; 
terminals('96', '1') = 0.44013712163644714; terminals('96', '2') = 0.8139679555463265; 
terminals('97', '1') = 0.27626996166716955; terminals('97', '2') = 0.05810674619526235; 
terminals('98', '1') = 0.42732296042216344; terminals('98', '2') = 0.8990023134092843; 
terminals('99', '1') = 0.398597442394649; terminals('99', '2') = 0.550164054781657; 
terminals('100', '1') = 0.41544034824634446; terminals('100', '2') = 0.561799892232595; 
terminals('101', '1') = 0.7503487699014928; terminals('101', '2') = 0.629181600789182; 
terminals('102', '1') = 0.16764017384899066; terminals('102', '2') = 0.8443378974258149; 
terminals('103', '1') = 0.7875571335923508; terminals('103', '2') = 0.21708230098357328; 
terminals('104', '1') = 0.8951296957346222; terminals('104', '2') = 0.6362732966540755; 
terminals('105', '1') = 0.13301488535606865; terminals('105', '2') = 0.46647628322570533; 
terminals('106', '1') = 0.6110699918166449; terminals('106', '2') = 0.2638489284373443; 
terminals('107', '1') = 0.3763010286585996; terminals('107', '2') = 0.34432448408752936; 
terminals('108', '1') = 0.41834544553380415; terminals('108', '2') = 0.27885052038822866; 
terminals('109', '1') = 0.4419289890887046; terminals('109', '2') = 0.08392723866940865; 
terminals('110', '1') = 0.3954414156902586; terminals('110', '2') = 0.9088012646668499; 
terminals('111', '1') = 0.8951101932040059; terminals('111', '2') = 0.024053073611582154; 
terminals('112', '1') = 0.12763790139979359; terminals('112', '2') = 0.04016747438716528; 
terminals('113', '1') = 0.2994409203075764; terminals('113', '2') = 0.5757241293879632; 
terminals('114', '1') = 0.8804823828573926; terminals('114', '2') = 0.7504004504865146; 
terminals('115', '1') = 0.32519215869951745; terminals('115', '2') = 0.23571215322090366; 
terminals('116', '1') = 0.8952304323083112; terminals('116', '2') = 0.31372889602718423; 
terminals('117', '1') = 0.35103543226953293; terminals('117', '2') = 0.5259235505361163; 
terminals('118', '1') = 0.31652796255412974; terminals('118', '2') = 0.9889251241794285; 
terminals('119', '1') = 0.9791431114686872; terminals('119', '2') = 0.33281069173484257; 
terminals('120', '1') = 0.19634165193847386; terminals('120', '2') = 0.9554107634281606; 
terminals('121', '1') = 0.5730809360547399; terminals('121', '2') = 0.8798126506858157; 
terminals('122', '1') = 0.801345652542891; terminals('122', '2') = 0.06975652143387812; 
terminals('123', '1') = 0.094124325492981; terminals('123', '2') = 0.7481271291334395; 
terminals('124', '1') = 0.36211445576334633; terminals('124', '2') = 0.14100358730333573; 
terminals('125', '1') = 0.7814872311408089; terminals('125', '2') = 0.15478848331194717; 
terminals('126', '1') = 0.22757649593976137; terminals('126', '2') = 0.2579340521936785; 
terminals('127', '1') = 0.2658706008500644; terminals('127', '2') = 0.29797815933192073; 
terminals('128', '1') = 0.6276415099358674; terminals('128', '2') = 0.2566405018712845; 
terminals('129', '1') = 0.8895124293544517; terminals('129', '2') = 0.1432541386264784; 
terminals('130', '1') = 0.06345739955026242; terminals('130', '2') = 0.3452879788973612; 
terminals('131', '1') = 0.20564543081344921; terminals('131', '2') = 0.9455105062210926; 
terminals('132', '1') = 0.9543444974953487; terminals('132', '2') = 0.8877809614144574; 
terminals('133', '1') = 0.5044038813936877; terminals('133', '2') = 0.8391856585708632; 
terminals('134', '1') = 0.4624524968231404; terminals('134', '2') = 0.38229512720772674; 
terminals('135', '1') = 0.8041217951267935; terminals('135', '2') = 0.4028294663793561; 
terminals('136', '1') = 0.36948305339240417; terminals('136', '2') = 0.6166285620355523; 
terminals('137', '1') = 0.08828060205540289; terminals('137', '2') = 0.49085870439184887; 
terminals('138', '1') = 0.6958469549004939; terminals('138', '2') = 0.9722490272201342; 
terminals('139', '1') = 0.22913541938415483; terminals('139', '2') = 0.26524229260348775; 
terminals('140', '1') = 0.17895859087855104; terminals('140', '2') = 0.6856765984083211; 
terminals('141', '1') = 0.4905908003658386; terminals('141', '2') = 0.10667296026304873; 
terminals('142', '1') = 0.8636520351887943; terminals('142', '2') = 0.4666405671640834; 
terminals('143', '1') = 0.22848291081468963; terminals('143', '2') = 0.9966076903396617; 
terminals('144', '1') = 0.5555823015176535; terminals('144', '2') = 0.4893133395467487; 
terminals('145', '1') = 0.3362768500514084; terminals('145', '2') = 0.06551594972279473; 
terminals('146', '1') = 0.061697810270079034; terminals('146', '2') = 0.10603326505339905; 
terminals('147', '1') = 0.8015281133801913; terminals('147', '2') = 0.9004282973144945; 
terminals('148', '1') = 0.7454673084658648; terminals('148', '2') = 0.3078754567486671; 
terminals('149', '1') = 0.06664231873103577; terminals('149', '2') = 0.5329033687638958; 
terminals('150', '1') = 0.78122952745787; terminals('150', '2') = 0.6242645399961481; 
terminals('151', '1') = 0.9574316567758687; terminals('151', '2') = 0.5551761726460039; 
terminals('152', '1') = 0.3001527812534651; terminals('152', '2') = 0.7752199327884844; 
terminals('153', '1') = 0.9988011207599947; terminals('153', '2') = 0.17586288879704992; 
terminals('154', '1') = 0.5730540601949865; terminals('154', '2') = 0.03154246614437095; 
terminals('155', '1') = 0.9699871684767091; terminals('155', '2') = 0.18407274965474063; 
terminals('156', '1') = 0.5345629472399411; terminals('156', '2') = 0.11204779767370432; 
terminals('157', '1') = 0.2586829753154324; terminals('157', '2') = 0.965469734665687; 
terminals('158', '1') = 0.5759545790871773; terminals('158', '2') = 0.5136421408989323; 
terminals('159', '1') = 0.7687460291843881; terminals('159', '2') = 0.3894689541898422; 
terminals('160', '1') = 0.9297378193137031; terminals('160', '2') = 0.6789812328483271; 
terminals('161', '1') = 0.41447875997609873; terminals('161', '2') = 0.08922499259085515; 
terminals('162', '1') = 0.09936994205081007; terminals('162', '2') = 0.7922480703801201; 
terminals('163', '1') = 0.21593836357834173; terminals('163', '2') = 0.7936697310507486; 
terminals('164', '1') = 0.8298975772021748; terminals('164', '2') = 0.8501373961638231; 
terminals('165', '1') = 0.8840433310607292; terminals('165', '2') = 0.5241708803809841; 
terminals('166', '1') = 0.7810572997964936; terminals('166', '2') = 0.6014621433282128; 
terminals('167', '1') = 0.16757137013679646; terminals('167', '2') = 0.7209301007194951; 
terminals('168', '1') = 0.5051294952128843; terminals('168', '2') = 0.37815575348616925; 
terminals('169', '1') = 0.9132320278733289; terminals('169', '2') = 0.20162709688368696; 
terminals('170', '1') = 0.796421383414577; terminals('170', '2') = 0.4558841575380447; 
terminals('171', '1') = 0.31056554518170887; terminals('171', '2') = 0.7661677644205545; 
terminals('172', '1') = 0.6259327901080282; terminals('172', '2') = 0.024454068915698568; 
terminals('173', '1') = 0.5976698133467321; terminals('173', '2') = 0.34641122020983106; 
terminals('174', '1') = 0.4676637690909835; terminals('174', '2') = 0.0305298235513648; 
terminals('175', '1') = 0.701735675824851; terminals('175', '2') = 0.9084428729482783; 
Parameter bigM / 1.4142135623730951 /;
Positive Variables distance_Steiner_Steiner(i,ii), distance_Steiner_terminal(i,j), Steiner_points(i,k);
Steiner_points.up(i,k) = 1; distance_Steiner_Steiner.up(i,ii) = bigM; distance_Steiner_terminal.up(i,j) = bigM;
Binary Variables is_connected_Steiner_Steiner(i,ii), is_connected_Steiner_terminal(i,j);
Variable objective;
Equations objective_definition, distance_Steiner_Steiner_def(i,ii), distance_Steiner_terminal_def(i,j), assignment(j), cardinality(i), Steiner_connectivity(i);
objective_definition.. objective =e= sum(i, sum(ii$(ord(i)<ord(ii)), distance_Steiner_Steiner(i,ii)) + sum(j, distance_Steiner_terminal(i,j)));
distance_Steiner_Steiner_def(i,ii)$(ord(i)<ord(ii)).. distance_Steiner_Steiner(i,ii) =g= sqrt(sum(k, power(Steiner_points(i,k) - Steiner_points(ii,k), 2))) - bigM * (1 - is_connected_Steiner_Steiner(i,ii));
distance_Steiner_terminal_def(i,j).. distance_Steiner_terminal(i,j) =g= sqrt(sum(k, power(Steiner_points(i,k) - terminals(j,k), 2))) - bigM * (1 - is_connected_Steiner_terminal(i,j));
assignment(j).. sum(i, is_connected_Steiner_terminal(i,j)) =e= 1;
cardinality(i).. sum(j, is_connected_Steiner_terminal(i,j)) + sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) + sum(ii$(ord(i)<ord(ii)), is_connected_Steiner_Steiner(i,ii)) =e= 3;
Steiner_connectivity(i)$(ord(i)>1).. sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) =e= 1;
Model m / all /;
Solve m using minlp minimizing objective;
