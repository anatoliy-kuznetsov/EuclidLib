Sets
i facilities / 1*24 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.9607807567552326; community_y('1') = 0.41906815154743504;
community_x('2') = 0.5482553095052894; community_y('2') = 0.36078053131271737;
community_x('3') = 0.17707949092525577; community_y('3') = 0.2555874031727068;
community_x('4') = 0.9654901181108362; community_y('4') = 0.43667729800114286;
community_x('5') = 0.41618902444437444; community_y('5') = 0.7617885636717663;
community_x('6') = 0.7875355434727895; community_y('6') = 0.9549399349005474;
community_x('7') = 0.03158954021912319; community_y('7') = 0.9794214129633503;
community_x('8') = 0.16547511069066134; community_y('8') = 0.016903947524989804;
community_x('9') = 0.9680462502768548; community_y('9') = 0.6290922501896383;
community_x('10') = 0.8155274273540414; community_y('10') = 0.7390461316587329;
community_x('11') = 0.02175499903451894; community_y('11') = 0.9278705606114873;
community_x('12') = 0.473827962702124; community_y('12') = 0.5486468401229141;
community_x('13') = 0.42557409418987824; community_y('13') = 0.23743423329543922;
community_x('14') = 0.22920695855066076; community_y('14') = 0.441455181761379;
community_x('15') = 0.10131386967866551; community_y('15') = 0.9479766329917683;
community_x('16') = 0.31605101532284796; community_y('16') = 0.13520087236030398;
community_x('17') = 0.1417970239204115; community_y('17') = 0.5092054056642167;
community_x('18') = 0.19122654027377528; community_y('18') = 0.36924289034541413;
community_x('19') = 0.8639783013539063; community_y('19') = 0.3259981328771522;
community_x('20') = 0.3564340065245981; community_y('20') = 0.07909718248904407;
community_x('21') = 0.2953415047734389; community_y('21') = 0.45246535604030635;
community_x('22') = 0.3986581502122829; community_y('22') = 0.584826237223117;
community_x('23') = 0.1060531396739236; community_y('23') = 0.8013348185833663;
community_x('24') = 0.9001174174716535; community_y('24') = 0.9585701943844037;
community_x('25') = 0.513059322574428; community_y('25') = 0.31466882914516703;
community_x('26') = 0.6621574680011121; community_y('26') = 0.2874686084305478;
community_x('27') = 0.9885054581913431; community_y('27') = 0.14301525849288255;
community_x('28') = 0.11207469839535855; community_y('28') = 0.5214957069891122;
community_x('29') = 0.5684504772346568; community_y('29') = 0.7836310864463922;
community_x('30') = 0.4792096684275311; community_y('30') = 0.6563786100465838;
community_x('31') = 0.7686623492095379; community_y('31') = 0.4481636090127499;
community_x('32') = 0.6067981934695322; community_y('32') = 0.9558917627180236;
community_x('33') = 0.4452888227245868; community_y('33') = 0.9530951467647714;
community_x('34') = 0.13196552358045877; community_y('34') = 0.9025969363082459;
community_x('35') = 0.533202509467852; community_y('35') = 0.33352144127906846;
community_x('36') = 0.7914519626550243; community_y('36') = 0.6994921225609102;
community_x('37') = 0.9480822100052629; community_y('37') = 0.04464577085490351;
community_x('38') = 0.455194381801139; community_y('38') = 0.6291630025479467;
community_x('39') = 0.5125225859746039; community_y('39') = 0.26309948917025183;
community_x('40') = 0.8009522232919093; community_y('40') = 0.5153520243972218;
community_x('41') = 0.4476105245723039; community_y('41') = 0.9966627421711791;
community_x('42') = 0.4044973525286948; community_y('42') = 0.29375412301059445;
community_x('43') = 0.7362310912579106; community_y('43') = 0.26657163889083557;
community_x('44') = 0.8824269070568438; community_y('44') = 0.6722144891132987;
community_x('45') = 0.7700022567966586; community_y('45') = 0.12758026359757324;
community_x('46') = 0.930603691040877; community_y('46') = 0.272619098887774;
community_x('47') = 0.1728945900691693; community_y('47') = 0.8151825922907496;
community_x('48') = 0.5312392555576736; community_y('48') = 0.11880486335886886;
community_x('49') = 0.0616317152619964; community_y('49') = 0.7726104351306182;
community_x('50') = 0.938028119936519; community_y('50') = 0.4200914107770125;
community_x('51') = 0.2350978518485558; community_y('51') = 0.42111618884694024;
community_x('52') = 0.5246399872055986; community_y('52') = 0.9058794726007823;
community_x('53') = 0.6931240157461946; community_y('53') = 0.4215909093073523;
community_x('54') = 0.4698838129020295; community_y('54') = 0.0660142554922587;
community_x('55') = 0.4721319050027126; community_y('55') = 0.5817950552771861;
community_x('56') = 0.47242944002930853; community_y('56') = 0.4255385963409887;
community_x('57') = 0.5794267839296835; community_y('57') = 0.7974653388931152;
community_x('58') = 0.6406480643558792; community_y('58') = 0.5272587050532821;
community_x('59') = 0.7273572983472097; community_y('59') = 0.7758637718795052;
community_x('60') = 0.46976095615412694; community_y('60') = 0.7306802466313483;
community_x('61') = 0.4016740969097031; community_y('61') = 0.6525024189762768;
community_x('62') = 0.15868851705530007; community_y('62') = 0.8308351087588643;
community_x('63') = 0.021175107331822485; community_y('63') = 0.6679390814735912;
community_x('64') = 0.3127001785803949; community_y('64') = 0.0963995595741709;
community_x('65') = 0.9537910547651376; community_y('65') = 0.1559855937818555;
community_x('66') = 0.4721306371499151; community_y('66') = 0.08950731699712355;
community_x('67') = 0.1548053235850425; community_y('67') = 0.5057229003272664;
community_x('68') = 0.47429027972716686; community_y('68') = 0.9495015886705165;
community_x('69') = 0.7341655604644434; community_y('69') = 0.23537337289217974;
community_x('70') = 0.8288736143573893; community_y('70') = 0.09333236858502147;
community_x('71') = 0.36749434525584135; community_y('71') = 0.18537731300434657;
community_x('72') = 0.6081536696477442; community_y('72') = 0.6121201832017301;
community_x('73') = 0.055271430609126204; community_y('73') = 0.8678046964500646;
community_x('74') = 0.8376797232854072; community_y('74') = 0.8678771424955787;
community_x('75') = 0.3910187787448921; community_y('75') = 0.07696352602435952;
community_x('76') = 0.11325683736030534; community_y('76') = 0.15364838470817221;
community_x('77') = 0.20528775083250828; community_y('77') = 0.46704429763114175;
community_x('78') = 0.8147921682516326; community_y('78') = 0.4324318972900879;
community_x('79') = 0.8891093283527068; community_y('79') = 0.8930929387397362;
community_x('80') = 0.20137353557763227; community_y('80') = 0.38724493920775693;
community_x('81') = 0.9669761034815557; community_y('81') = 0.8465536935649115;
community_x('82') = 0.22460730198775103; community_y('82') = 0.8913229795624309;
community_x('83') = 0.07063239874023686; community_y('83') = 0.8854770056048251;
community_x('84') = 0.031475685797231256; community_y('84') = 0.012086661973749968;
community_x('85') = 0.1627892087006565; community_y('85') = 0.6611911732756778;
community_x('86') = 0.7179411881387363; community_y('86') = 0.372774751373916;
community_x('87') = 0.5691594270686734; community_y('87') = 0.9288213292900668;
community_x('88') = 0.9151718623383726; community_y('88') = 0.9173947298158912;
community_x('89') = 0.2076292053025347; community_y('89') = 0.08407566901210983;
community_x('90') = 0.16894687739468794; community_y('90') = 0.11514302470391247;
community_x('91') = 0.8560438931761984; community_y('91') = 0.47880773308876834;
community_x('92') = 0.4795103653455701; community_y('92') = 0.5307871946126785;
community_x('93') = 0.4716072821712016; community_y('93') = 0.1486125627784154;
community_x('94') = 0.7605022991459097; community_y('94') = 0.031275967582767406;
community_x('95') = 0.0011687997790897908; community_y('95') = 0.13628112037626205;
community_x('96') = 0.05290765946500908; community_y('96') = 0.30454278791722156;
community_x('97') = 0.08811052489512594; community_y('97') = 0.08453352286042815;
community_x('98') = 0.3560835104967083; community_y('98') = 0.42276125263918374;
community_x('99') = 0.09224396253846312; community_y('99') = 0.36603131483899787;
community_x('100') = 0.5327547149955567; community_y('100') = 0.37971242503251323;
demand('1') = 0.6211497477837163;
demand('2') = 0.3645241847166003;
demand('3') = 0.07485994290168474;
demand('4') = 0.47182533039813723;
demand('5') = 0.8199315603467747;
demand('6') = 0.7782654804511235;
demand('7') = 0.6237015519650738;
demand('8') = 0.788222786664155;
demand('9') = 0.9802805714427201;
demand('10') = 0.21829216571573695;
demand('11') = 0.5783796006593702;
demand('12') = 0.48187538418810794;
demand('13') = 0.7083766844041663;
demand('14') = 0.9590006472344683;
demand('15') = 0.10326779041232692;
demand('16') = 0.9700919742599932;
demand('17') = 0.43602084117945294;
demand('18') = 0.011309916854693847;
demand('19') = 0.38430389706008095;
demand('20') = 0.6296596531815899;
demand('21') = 0.677313989050916;
demand('22') = 0.9908206991494077;
demand('23') = 0.6329284386333455;
demand('24') = 0.7631384155389891;
demand('25') = 0.18081231115146745;
demand('26') = 0.10810254976066469;
demand('27') = 0.43740069060568443;
demand('28') = 0.2711533128396938;
demand('29') = 0.589817866865707;
demand('30') = 0.5862451106560416;
demand('31') = 0.4341367195217768;
demand('32') = 0.6915897005151149;
demand('33') = 0.7575872759245075;
demand('34') = 0.6348053126705729;
demand('35') = 0.15311278558447217;
demand('36') = 0.3032691922076972;
demand('37') = 0.5004849702204854;
demand('38') = 0.7401011069635236;
demand('39') = 0.2634446176316658;
demand('40') = 0.597138423313917;
demand('41') = 0.1474992219952963;
demand('42') = 0.6751561609433984;
demand('43') = 0.8160748746864729;
demand('44') = 0.5045808279567264;
demand('45') = 0.054707382807739124;
demand('46') = 0.27103228562329396;
demand('47') = 0.9752325818473032;
demand('48') = 0.6138403754480144;
demand('49') = 0.6203571103164232;
demand('50') = 0.9460898189587124;
demand('51') = 0.5706288902060122;
demand('52') = 0.6684473613869446;
demand('53') = 0.8684414640213279;
demand('54') = 0.5784516857580553;
demand('55') = 0.7271959271272723;
demand('56') = 0.11258331256553689;
demand('57') = 0.8692696930786074;
demand('58') = 0.9569266364584585;
demand('59') = 0.14010506704749448;
demand('60') = 0.02437020838541648;
demand('61') = 0.6236980063908846;
demand('62') = 0.28821566866597204;
demand('63') = 0.4940180240624644;
demand('64') = 0.4673811967731224;
demand('65') = 0.005354493828071849;
demand('66') = 0.2609354942288096;
demand('67') = 0.8997825886085039;
demand('68') = 0.4574179927000602;
demand('69') = 0.5345707689832845;
demand('70') = 0.9332851065967093;
demand('71') = 0.15459267279073818;
demand('72') = 0.40902580159768076;
demand('73') = 0.41127222114230544;
demand('74') = 0.7540848233627423;
demand('75') = 0.4597211686624313;
demand('76') = 0.914387751892759;
demand('77') = 0.8486420602967614;
demand('78') = 0.8803700627380528;
demand('79') = 0.26634017005617827;
demand('80') = 0.4520794220467157;
demand('81') = 0.008622602342725494;
demand('82') = 0.6264627014229502;
demand('83') = 0.11346673723296519;
demand('84') = 0.4450144461556578;
demand('85') = 0.5821468817468608;
demand('86') = 0.9036891125742009;
demand('87') = 0.16037166633628452;
demand('88') = 0.10044015083019064;
demand('89') = 0.6337977983611699;
demand('90') = 0.03054817383089814;
demand('91') = 0.10091893873629976;
demand('92') = 0.04657472676585184;
demand('93') = 0.9428818808411205;
demand('94') = 0.5939874261437494;
demand('95') = 0.46792913563329885;
demand('96') = 0.25650045322989623;
demand('97') = 0.25321928137464467;
demand('98') = 0.6054647192299044;
demand('99') = 0.5755388173642917;
demand('100') = 0.3765540073006851;
capacity('1') = 0.7516313699743236;
capacity('2') = 2.0274924873223283;
capacity('3') = 1.8498836417772697;
capacity('4') = 2.177999961829364;
capacity('5') = 2.0221779907628483;
capacity('6') = 0.7801743685168416;
capacity('7') = 3.2881345125746355;
capacity('8') = 2.531548947925109;
capacity('9') = 0.3127890299777098;
capacity('10') = 2.2034803222522656;
capacity('11') = 1.5486056677399942;
capacity('12') = 3.918280697326768;
capacity('13') = 1.117009942695667;
capacity('14') = 4.142700768458775;
capacity('15') = 4.078704362291037;
capacity('16') = 1.0527878131287656;
capacity('17') = 4.305489796740085;
capacity('18') = 2.140562934072683;
capacity('19') = 4.59905066279629;
capacity('20') = 0.6260983613798956;
capacity('21') = 0.6812983241561715;
capacity('22') = 0.5949438449202169;
capacity('23') = 3.114605762568867;
capacity('24') = 3.4714396309402127;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
