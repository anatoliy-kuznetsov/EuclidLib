Sets
i facilities / 1*19 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.9263128585070141; community_y('1') = 0.5848148555652322;
community_x('2') = 0.17981894864531622; community_y('2') = 0.10014336752802655;
community_x('3') = 0.7840890879298472; community_y('3') = 0.8738668475578714;
community_x('4') = 0.5386455257634712; community_y('4') = 0.7031627670163871;
community_x('5') = 0.9781985488110166; community_y('5') = 0.02043557532700213;
community_x('6') = 0.5532372501169462; community_y('6') = 0.6718173774651235;
community_x('7') = 0.432704538915471; community_y('7') = 0.03564695115808758;
community_x('8') = 0.07929752695522041; community_y('8') = 0.4716857582568439;
community_x('9') = 0.4280815096994405; community_y('9') = 0.9162971496203083;
community_x('10') = 0.9638987946757774; community_y('10') = 0.6311614460493682;
community_x('11') = 0.9905601753181634; community_y('11') = 0.15823691558927377;
community_x('12') = 0.2531075994720866; community_y('12') = 0.11079692782504824;
community_x('13') = 0.8111427894119915; community_y('13') = 0.9383042333253966;
community_x('14') = 0.21091062181532394; community_y('14') = 0.0003388861594811887;
community_x('15') = 0.5830951781521969; community_y('15') = 0.2590283622923154;
community_x('16') = 0.40544497002459345; community_y('16') = 0.15267179071857706;
community_x('17') = 0.25586262999516585; community_y('17') = 0.28776278062345617;
community_x('18') = 0.4304607864469172; community_y('18') = 0.35638922870040124;
community_x('19') = 0.7324142311595895; community_y('19') = 0.8214033250563344;
community_x('20') = 0.6777981345248907; community_y('20') = 0.375578744714141;
community_x('21') = 0.3395800531546077; community_y('21') = 0.4816489818489623;
community_x('22') = 0.13060287730073927; community_y('22') = 0.7946716188476676;
community_x('23') = 0.012704236869855778; community_y('23') = 0.4858039905279279;
community_x('24') = 0.921289544703677; community_y('24') = 0.13707619523642323;
community_x('25') = 0.5189214700913363; community_y('25') = 0.8641465128960734;
community_x('26') = 0.49296657699727264; community_y('26') = 0.7189999735498929;
community_x('27') = 0.4164711751141065; community_y('27') = 0.11682408262469068;
community_x('28') = 0.10783187334354694; community_y('28') = 0.5269002918600562;
community_x('29') = 0.2362061158739993; community_y('29') = 0.9748815447804401;
community_x('30') = 0.971890468024771; community_y('30') = 0.07756777648855084;
community_x('31') = 0.3818595966175914; community_y('31') = 0.8006067010219831;
community_x('32') = 0.5355704198975793; community_y('32') = 0.8726475188248407;
community_x('33') = 0.9394511923412416; community_y('33') = 0.44888887805243594;
community_x('34') = 0.5985201936187114; community_y('34') = 0.866455749521556;
community_x('35') = 0.1845278275805754; community_y('35') = 0.8467324630569842;
community_x('36') = 0.06266396497473103; community_y('36') = 0.5470607675672811;
community_x('37') = 0.16956592887259414; community_y('37') = 0.90168729416208;
community_x('38') = 0.11062788949678914; community_y('38') = 0.3494668307580784;
community_x('39') = 0.17818325462100348; community_y('39') = 0.480594334578306;
community_x('40') = 0.1586332607194686; community_y('40') = 0.021510886429227827;
community_x('41') = 0.3275972437303507; community_y('41') = 0.6068497528050922;
community_x('42') = 0.46878851462250226; community_y('42') = 0.4086641133550343;
community_x('43') = 0.38280561274536096; community_y('43') = 0.18149289238087274;
community_x('44') = 0.3696798622967107; community_y('44') = 0.5475953636305573;
community_x('45') = 0.5192717056794317; community_y('45') = 0.2535327339026687;
community_x('46') = 0.22930168166223075; community_y('46') = 0.43103657012510066;
community_x('47') = 0.962300397415063; community_y('47') = 0.041054975359417045;
community_x('48') = 0.2366616980653814; community_y('48') = 0.4024965118236512;
community_x('49') = 0.6331530522560626; community_y('49') = 0.06798476774135576;
community_x('50') = 0.39029868175224625; community_y('50') = 0.44855555958547466;
community_x('51') = 0.5390237319426873; community_y('51') = 0.5546902233343028;
community_x('52') = 0.003552869110614587; community_y('52') = 0.45054109380702345;
community_x('53') = 0.991890463607305; community_y('53') = 0.5718530989564006;
community_x('54') = 0.8725717992464491; community_y('54') = 0.8885708814202273;
community_x('55') = 0.027785010898564; community_y('55') = 0.36762380461327737;
community_x('56') = 0.2685991348092628; community_y('56') = 0.8574322732378956;
community_x('57') = 0.9228679228547545; community_y('57') = 0.8755768594232244;
community_x('58') = 0.7656622949188209; community_y('58') = 0.36464212383390293;
community_x('59') = 0.5665493676838815; community_y('59') = 0.1348531133495504;
community_x('60') = 0.8238827567698586; community_y('60') = 0.8157481579277741;
community_x('61') = 0.11573742522073671; community_y('61') = 0.9676497440687784;
community_x('62') = 0.7422162407712217; community_y('62') = 0.6922044949593902;
community_x('63') = 0.1684259424175446; community_y('63') = 0.12163697320965394;
community_x('64') = 0.2819956644138554; community_y('64') = 0.6423551779494671;
community_x('65') = 0.9431714577100763; community_y('65') = 0.5063448789049507;
community_x('66') = 0.3488291863494569; community_y('66') = 0.39650500346364703;
community_x('67') = 0.5531604152461392; community_y('67') = 0.39545392311055816;
community_x('68') = 0.6503768333529155; community_y('68') = 0.44313643762068866;
community_x('69') = 0.4374052035780497; community_y('69') = 0.7170109768944769;
community_x('70') = 0.8072303763957104; community_y('70') = 0.813800930060903;
community_x('71') = 0.9546301215486954; community_y('71') = 0.07671555233087157;
community_x('72') = 0.5723192312744277; community_y('72') = 0.431448346176282;
community_x('73') = 0.35921974581139027; community_y('73') = 0.5877193635773182;
community_x('74') = 0.8200589246263904; community_y('74') = 0.7338613122419211;
community_x('75') = 0.26484996962529395; community_y('75') = 0.8772474001057852;
community_x('76') = 0.04176096487887426; community_y('76') = 0.5041102671425104;
community_x('77') = 0.8792163398693827; community_y('77') = 0.7608828249316297;
community_x('78') = 0.24347910005084383; community_y('78') = 0.0023193524111839725;
community_x('79') = 0.06417273615972885; community_y('79') = 0.9645842480008343;
community_x('80') = 0.679190186295141; community_y('80') = 0.892693111975178;
community_x('81') = 0.026718269359851887; community_y('81') = 0.4528292317756081;
community_x('82') = 0.7108578843148816; community_y('82') = 0.7274111666175714;
community_x('83') = 0.8282343235236223; community_y('83') = 0.20738787523832625;
community_x('84') = 0.2122681212073233; community_y('84') = 0.3682657943667552;
community_x('85') = 0.8237338437648011; community_y('85') = 0.5725167492806458;
community_x('86') = 0.5980554635085541; community_y('86') = 0.7811105592478031;
community_x('87') = 0.20821924556769722; community_y('87') = 0.8778969645904918;
community_x('88') = 0.14727785533206017; community_y('88') = 0.6601512397945589;
community_x('89') = 0.11715865317846652; community_y('89') = 0.5098671876776035;
community_x('90') = 0.4958649091477533; community_y('90') = 0.7907669617974371;
community_x('91') = 0.9084562753715324; community_y('91') = 0.9358473238885731;
community_x('92') = 0.45563679942652713; community_y('92') = 0.8041689014242557;
community_x('93') = 0.4593388641308752; community_y('93') = 0.27568962379721407;
community_x('94') = 0.344360371858104; community_y('94') = 0.9381209286279392;
community_x('95') = 0.5917491308444897; community_y('95') = 0.8802734120252039;
community_x('96') = 0.6207559991669777; community_y('96') = 0.3117765358446156;
community_x('97') = 0.2442696670031267; community_y('97') = 0.9423511198510827;
community_x('98') = 0.18737307519706203; community_y('98') = 0.0919355272421124;
community_x('99') = 0.03936804257554527; community_y('99') = 0.96359230605069;
community_x('100') = 0.7081466068992607; community_y('100') = 0.07307109489854813;
demand('1') = 0.3233204169886583;
demand('2') = 0.7690558205378887;
demand('3') = 0.21186098173184242;
demand('4') = 0.023602654141352986;
demand('5') = 0.11969488966457498;
demand('6') = 0.9709074700764225;
demand('7') = 0.15629416764636117;
demand('8') = 0.9242025311974293;
demand('9') = 0.5104685211228219;
demand('10') = 0.7238614368558633;
demand('11') = 0.4941618596650118;
demand('12') = 0.2412127777291534;
demand('13') = 0.26789600241731315;
demand('14') = 0.11081545449175634;
demand('15') = 0.3787313535491703;
demand('16') = 0.925438035123857;
demand('17') = 0.6140288760434838;
demand('18') = 0.24679392682362;
demand('19') = 0.2907519711469526;
demand('20') = 0.3550263607844272;
demand('21') = 0.7137641431177895;
demand('22') = 0.8654153142873263;
demand('23') = 0.9882196738240906;
demand('24') = 0.09015845122912203;
demand('25') = 0.13570139684604055;
demand('26') = 0.388755008231901;
demand('27') = 0.44528764716861735;
demand('28') = 0.23320537499913285;
demand('29') = 0.7763066180270964;
demand('30') = 0.27838723439951274;
demand('31') = 0.8189015262107275;
demand('32') = 0.4244652405856819;
demand('33') = 0.20855369306742;
demand('34') = 0.005865887432274897;
demand('35') = 0.40536368282332647;
demand('36') = 0.3113376414561215;
demand('37') = 0.729698386201003;
demand('38') = 0.7121089767488729;
demand('39') = 0.4901390355195757;
demand('40') = 0.530637735706736;
demand('41') = 0.948239001152247;
demand('42') = 0.05740628798039371;
demand('43') = 0.03392827627939521;
demand('44') = 0.7731763933960917;
demand('45') = 0.2517821499649635;
demand('46') = 0.6588025344653397;
demand('47') = 0.8244304456954287;
demand('48') = 0.02768856743557968;
demand('49') = 0.8968947492110004;
demand('50') = 0.7800273260540244;
demand('51') = 0.6472547487425903;
demand('52') = 0.9543390119608021;
demand('53') = 0.222347685089891;
demand('54') = 0.3251220558261064;
demand('55') = 0.6099509821878475;
demand('56') = 0.8989591025888307;
demand('57') = 0.6396252494324788;
demand('58') = 0.8227258031086665;
demand('59') = 0.8545856475058059;
demand('60') = 0.6492247567105763;
demand('61') = 0.5042930742243419;
demand('62') = 0.4477824404795804;
demand('63') = 0.17619862573817824;
demand('64') = 0.942915598224328;
demand('65') = 0.29869354491602196;
demand('66') = 0.5514521723791541;
demand('67') = 0.40662296273588683;
demand('68') = 0.9798617275466885;
demand('69') = 0.31256364613400944;
demand('70') = 0.8631693833731708;
demand('71') = 0.13826077993684516;
demand('72') = 0.5436955096924045;
demand('73') = 0.1925035139573269;
demand('74') = 0.9688054208063129;
demand('75') = 0.43984612447123084;
demand('76') = 0.28338058675599387;
demand('77') = 0.3701712056877837;
demand('78') = 0.32402242880464727;
demand('79') = 0.1576505194615948;
demand('80') = 0.9105220654800649;
demand('81') = 0.5543310341275273;
demand('82') = 0.8858457638866662;
demand('83') = 0.4163192318327017;
demand('84') = 0.6599961356673124;
demand('85') = 0.03434976118368305;
demand('86') = 0.39675754302112776;
demand('87') = 0.8335000653968383;
demand('88') = 0.348293169894326;
demand('89') = 0.2746597567544061;
demand('90') = 0.3951398879133382;
demand('91') = 0.17134662902206843;
demand('92') = 0.4033111571745587;
demand('93') = 0.5798923082951584;
demand('94') = 0.47538572193969364;
demand('95') = 0.19269567215657646;
demand('96') = 0.3544900450435452;
demand('97') = 0.9839427564142975;
demand('98') = 0.15850270622515428;
demand('99') = 0.9852810035324894;
demand('100') = 0.53798741702094;
capacity('1') = 4.10132268441729;
capacity('2') = 0.7596751365640552;
capacity('3') = 6.403349530672951;
capacity('4') = 2.5799046950161526;
capacity('5') = 0.27436483938676964;
capacity('6') = 4.720712185112902;
capacity('7') = 0.4280329882960267;
capacity('8') = 0.04907736677543984;
capacity('9') = 4.109828502846494;
capacity('10') = 5.251865332219713;
capacity('11') = 2.5381483936511926;
capacity('12') = 0.2220063912864286;
capacity('13') = 0.7458746079266981;
capacity('14') = 0.356530071027189;
capacity('15') = 3.994476303212377;
capacity('16') = 1.7428800523034365;
capacity('17') = 5.447284233043182;
capacity('18') = 5.244366545283321;
capacity('19') = 3.048715591060598;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
