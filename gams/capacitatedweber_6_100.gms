Sets
i facilities / 1*6 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.7106837330624928; community_y('1') = 0.5278186897642008;
community_x('2') = 0.9011075606885323; community_y('2') = 0.707619271243631;
community_x('3') = 0.016763676370652125; community_y('3') = 0.8479028858114936;
community_x('4') = 0.942063231221443; community_y('4') = 0.32437140585302926;
community_x('5') = 0.821003477842379; community_y('5') = 0.7630989177061906;
community_x('6') = 0.05668495560658604; community_y('6') = 0.8052167075405283;
community_x('7') = 0.806327560985109; community_y('7') = 0.8268635441912437;
community_x('8') = 0.8044961993684296; community_y('8') = 0.5353682485111976;
community_x('9') = 0.1877080113419508; community_y('9') = 0.7635087812570703;
community_x('10') = 0.971331197724468; community_y('10') = 0.03406427143581958;
community_x('11') = 0.36393490759109903; community_y('11') = 0.1913263113594782;
community_x('12') = 0.450888587090041; community_y('12') = 0.5766791249366131;
community_x('13') = 0.6537597125982924; community_y('13') = 0.5549110872546161;
community_x('14') = 0.6902030275970223; community_y('14') = 0.6107896009546306;
community_x('15') = 0.746536951274616; community_y('15') = 0.41497555948607057;
community_x('16') = 0.2781270348471253; community_y('16') = 0.04976440478597999;
community_x('17') = 0.48400272912072373; community_y('17') = 0.3201689940956578;
community_x('18') = 0.13742099092399818; community_y('18') = 0.19976568807156003;
community_x('19') = 0.2748103690503889; community_y('19') = 0.6663507704575192;
community_x('20') = 0.490731174882598; community_y('20') = 0.23612960129447047;
community_x('21') = 0.07451187288761307; community_y('21') = 0.7598834880873573;
community_x('22') = 0.3488344202254502; community_y('22') = 0.5360959571393591;
community_x('23') = 0.8150690262392655; community_y('23') = 0.38955706280708624;
community_x('24') = 0.17880717769245158; community_y('24') = 0.6141209155891088;
community_x('25') = 0.43344181839643037; community_y('25') = 0.8890839846094806;
community_x('26') = 0.037416600383905596; community_y('26') = 0.33217333555082595;
community_x('27') = 0.7375079864328817; community_y('27') = 0.05694957010519519;
community_x('28') = 0.10017465595368424; community_y('28') = 0.8603771888433718;
community_x('29') = 0.18177732668488744; community_y('29') = 0.28972146025915346;
community_x('30') = 0.745326670806561; community_y('30') = 0.8918904179862053;
community_x('31') = 0.44226984447117745; community_y('31') = 0.4765053460569194;
community_x('32') = 0.553110333610666; community_y('32') = 0.4074036498021776;
community_x('33') = 0.6092013884455652; community_y('33') = 0.8423443785729784;
community_x('34') = 0.49665581768067824; community_y('34') = 0.11404385255811222;
community_x('35') = 0.4246827754364264; community_y('35') = 0.8649486672467296;
community_x('36') = 0.15345422097565942; community_y('36') = 0.27748736562826526;
community_x('37') = 0.14218585559008; community_y('37') = 0.7758114685392905;
community_x('38') = 0.2038335960779949; community_y('38') = 0.9562435964234195;
community_x('39') = 0.24468748412426145; community_y('39') = 0.8375778213205877;
community_x('40') = 0.321370054520717; community_y('40') = 0.33722237295865987;
community_x('41') = 0.8918139752286346; community_y('41') = 0.967879722008432;
community_x('42') = 0.2135234250453545; community_y('42') = 0.5278607609818455;
community_x('43') = 0.13111772623919715; community_y('43') = 0.29758199424160015;
community_x('44') = 0.26883912788492126; community_y('44') = 0.36530062670997243;
community_x('45') = 0.13189097934081961; community_y('45') = 0.08491930761440858;
community_x('46') = 0.829098320965683; community_y('46') = 0.6303962279698004;
community_x('47') = 0.9533264250928875; community_y('47') = 0.4446217674253222;
community_x('48') = 0.7657583104619198; community_y('48') = 0.5625408827546865;
community_x('49') = 0.953510450998949; community_y('49') = 0.8853288750810664;
community_x('50') = 0.5498162060497553; community_y('50') = 0.4498571688042662;
community_x('51') = 0.45295506370070926; community_y('51') = 0.027709488799203874;
community_x('52') = 0.384667211870677; community_y('52') = 0.5993783154199411;
community_x('53') = 0.6525787444502823; community_y('53') = 0.08699141134357025;
community_x('54') = 0.2394300299087121; community_y('54') = 0.5976599973105216;
community_x('55') = 0.5235430327634166; community_y('55') = 0.5426534235426729;
community_x('56') = 0.38954997623233223; community_y('56') = 0.4478896518630957;
community_x('57') = 0.6683804943155713; community_y('57') = 0.6604616350607819;
community_x('58') = 0.871471494207036; community_y('58') = 0.08833756739824605;
community_x('59') = 0.6581539564857708; community_y('59') = 0.35879125744014606;
community_x('60') = 0.1390937504309584; community_y('60') = 0.20659153022275656;
community_x('61') = 0.5934739189916924; community_y('61') = 0.21530572994799357;
community_x('62') = 0.7313111897307435; community_y('62') = 0.1192502371604196;
community_x('63') = 0.5377394074704941; community_y('63') = 0.22115219400751396;
community_x('64') = 0.06593621306846298; community_y('64') = 0.8545932370779838;
community_x('65') = 0.09410928016804787; community_y('65') = 0.9777502958139559;
community_x('66') = 0.5388644837775161; community_y('66') = 0.6160029664059864;
community_x('67') = 0.7174803650286246; community_y('67') = 0.7758899436688536;
community_x('68') = 0.4948805087577427; community_y('68') = 0.01466711650588437;
community_x('69') = 0.7286176548918195; community_y('69') = 0.3391116431356893;
community_x('70') = 0.5495173700914846; community_y('70') = 0.7209324650150737;
community_x('71') = 0.8233987540925857; community_y('71') = 0.9076264354314928;
community_x('72') = 0.21588893150592248; community_y('72') = 0.05334660207921482;
community_x('73') = 0.831529394495314; community_y('73') = 0.9911965658405295;
community_x('74') = 0.7484187738457438; community_y('74') = 0.9713108529747004;
community_x('75') = 0.11423822769718128; community_y('75') = 0.08963506665621135;
community_x('76') = 0.225650875354656; community_y('76') = 0.4033750017537877;
community_x('77') = 0.2935693875890144; community_y('77') = 0.9131287227209394;
community_x('78') = 0.7860284978637796; community_y('78') = 0.34415710313272296;
community_x('79') = 0.6383258105955985; community_y('79') = 0.16486189109151606;
community_x('80') = 0.06793479281620374; community_y('80') = 0.5830475000082932;
community_x('81') = 0.7353195167300948; community_y('81') = 0.6244504324648684;
community_x('82') = 0.30714975052825155; community_y('82') = 0.7710951709434825;
community_x('83') = 0.8635860077798508; community_y('83') = 0.2218849270191514;
community_x('84') = 0.27771621875669994; community_y('84') = 0.5038921147920677;
community_x('85') = 0.10187692190187381; community_y('85') = 0.19424693664787585;
community_x('86') = 0.3313292921577188; community_y('86') = 0.937940341601642;
community_x('87') = 0.46160401405762985; community_y('87') = 0.9082040679831543;
community_x('88') = 0.4292643779179499; community_y('88') = 0.9522492960573772;
community_x('89') = 0.5370836496509421; community_y('89') = 0.13617211311097988;
community_x('90') = 0.10775912033101942; community_y('90') = 0.17855660292001718;
community_x('91') = 0.2734037327633003; community_y('91') = 0.8158783119598055;
community_x('92') = 0.0416220001180595; community_y('92') = 0.4707598651629653;
community_x('93') = 0.9869496300948997; community_y('93') = 0.8491779926581619;
community_x('94') = 0.4873082132188077; community_y('94') = 0.6447699595467953;
community_x('95') = 0.2865470325096733; community_y('95') = 0.034364977691233256;
community_x('96') = 0.16788163061186312; community_y('96') = 0.11488917901266238;
community_x('97') = 0.6046002382475942; community_y('97') = 0.7270062292420947;
community_x('98') = 0.004930455456671812; community_y('98') = 0.2735519208700935;
community_x('99') = 0.15793007358377453; community_y('99') = 0.4016157978921665;
community_x('100') = 0.6680165440007568; community_y('100') = 0.6186308638959004;
demand('1') = 0.053559310882258404;
demand('2') = 0.09948821260979324;
demand('3') = 0.48911293304563785;
demand('4') = 0.01885878542505226;
demand('5') = 0.3448738743687042;
demand('6') = 0.3883067040489683;
demand('7') = 0.09863810700168785;
demand('8') = 0.08392023291345585;
demand('9') = 0.7629964769507599;
demand('10') = 0.685330768906114;
demand('11') = 0.49091165837715345;
demand('12') = 0.45258355640069226;
demand('13') = 0.9147434991572678;
demand('14') = 0.46874062077614886;
demand('15') = 0.17676866370449396;
demand('16') = 0.5065457802765859;
demand('17') = 0.4898336556448569;
demand('18') = 0.5534550087242134;
demand('19') = 0.3475762514981682;
demand('20') = 0.5029741860302142;
demand('21') = 0.04044624283528364;
demand('22') = 0.6722295889267179;
demand('23') = 0.8881649382558517;
demand('24') = 0.7349579532225363;
demand('25') = 0.8398952949334885;
demand('26') = 0.9788234422360684;
demand('27') = 0.49292273948008636;
demand('28') = 0.42295962428174627;
demand('29') = 0.7426439289813972;
demand('30') = 0.2207395277910429;
demand('31') = 0.30530951280741025;
demand('32') = 0.5966353635723676;
demand('33') = 0.03469117627013574;
demand('34') = 0.977990319431476;
demand('35') = 0.9311985454393591;
demand('36') = 0.5120475113662653;
demand('37') = 0.6211060316269795;
demand('38') = 0.344731671270209;
demand('39') = 0.45911913512729896;
demand('40') = 0.09505779963396177;
demand('41') = 0.3497922310828445;
demand('42') = 0.18995715112615064;
demand('43') = 0.403638713143745;
demand('44') = 0.6589967344417939;
demand('45') = 0.8589267443773654;
demand('46') = 0.08092303163288928;
demand('47') = 0.134442909085846;
demand('48') = 0.621516944770291;
demand('49') = 0.9376390495656176;
demand('50') = 0.5604547372816615;
demand('51') = 0.5193054438220798;
demand('52') = 0.8618449889670291;
demand('53') = 0.205609909450571;
demand('54') = 0.002123166766361262;
demand('55') = 0.5049265030443371;
demand('56') = 0.5882037930001467;
demand('57') = 0.12252210793852192;
demand('58') = 0.6873607093044016;
demand('59') = 0.6142378386169357;
demand('60') = 0.8325663018552955;
demand('61') = 0.3320507531936273;
demand('62') = 0.06700753446274565;
demand('63') = 0.22654484919776097;
demand('64') = 0.23398684839321615;
demand('65') = 0.3292207889609592;
demand('66') = 0.6489933768155411;
demand('67') = 0.27162425650271593;
demand('68') = 0.9839974257566914;
demand('69') = 0.16793666632531834;
demand('70') = 0.8742126531689541;
demand('71') = 0.24249556256433036;
demand('72') = 0.9240695988171712;
demand('73') = 0.22757184884218973;
demand('74') = 0.5528208714537428;
demand('75') = 0.24623067083261108;
demand('76') = 0.7174857241047612;
demand('77') = 0.6124590836676517;
demand('78') = 0.730461583699296;
demand('79') = 0.4036907065710855;
demand('80') = 0.16171674927975577;
demand('81') = 0.3209137118982328;
demand('82') = 0.8552878593358465;
demand('83') = 0.5016280932184507;
demand('84') = 0.17510670687138274;
demand('85') = 0.07824603752935166;
demand('86') = 0.5212205466698424;
demand('87') = 0.8321207516624194;
demand('88') = 0.6770746102128804;
demand('89') = 0.7830578796729997;
demand('90') = 0.06340469750981781;
demand('91') = 0.4409218191140447;
demand('92') = 0.3001732158261079;
demand('93') = 0.23223826994407026;
demand('94') = 0.9431887409479338;
demand('95') = 0.8549027046601972;
demand('96') = 0.351114139435702;
demand('97') = 0.9891021009195096;
demand('98') = 0.20911726635201922;
demand('99') = 0.8315453251240961;
demand('100') = 0.45966055689174345;
capacity('1') = 5.156644557383483;
capacity('2') = 11.80733627791579;
capacity('3') = 9.483936061709015;
capacity('4') = 8.312887381786274;
capacity('5') = 7.872097887686644;
capacity('6') = 7.715102074926975;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
