Sets
i facilities / 1*13 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.030555320187374058; community_y('1') = 0.9066938538264553;
community_x('2') = 0.8676180378489101; community_y('2') = 0.35621131163486863;
community_x('3') = 0.7220760082799892; community_y('3') = 0.8563222408979458;
community_x('4') = 0.017873901712747386; community_y('4') = 0.6196671560000776;
community_x('5') = 0.5499363493014162; community_y('5') = 0.9532706410966592;
community_x('6') = 0.23867663321247412; community_y('6') = 0.5827041781390035;
community_x('7') = 0.8817603143390492; community_y('7') = 0.8878621445870589;
community_x('8') = 0.8535490264590322; community_y('8') = 0.48782425931814544;
community_x('9') = 0.3016501898039614; community_y('9') = 0.22406492347947138;
community_x('10') = 0.5985209368022214; community_y('10') = 0.3461078845028226;
community_x('11') = 0.4949271526344775; community_y('11') = 0.49062824448651376;
community_x('12') = 0.28147260325197365; community_y('12') = 0.6146484170418941;
community_x('13') = 0.4330868075697071; community_y('13') = 0.4579545548807;
community_x('14') = 0.3947429671418281; community_y('14') = 0.36335641966811294;
community_x('15') = 0.4674456371682023; community_y('15') = 0.2665818482553308;
community_x('16') = 0.952062691095785; community_y('16') = 0.5084866130232644;
community_x('17') = 0.730752481910337; community_y('17') = 0.6895943592746595;
community_x('18') = 0.03829232245982317; community_y('18') = 0.6365531326140851;
community_x('19') = 0.35238152871625694; community_y('19') = 0.03519854334962036;
community_x('20') = 0.9679759414309627; community_y('20') = 0.25655299532447406;
community_x('21') = 0.7608662636562034; community_y('21') = 0.6758257944479761;
community_x('22') = 0.606364222375544; community_y('22') = 0.48665108171114335;
community_x('23') = 0.6465160063948006; community_y('23') = 0.2915367984287195;
community_x('24') = 0.6842781861329239; community_y('24') = 0.5866985758598586;
community_x('25') = 0.16435422209225037; community_y('25') = 0.042987386537547634;
community_x('26') = 0.40666048726837833; community_y('26') = 0.5077891039305853;
community_x('27') = 0.2777108898900482; community_y('27') = 0.9375335267775656;
community_x('28') = 0.19194809491422105; community_y('28') = 0.35430265426615637;
community_x('29') = 0.6892750040891696; community_y('29') = 0.15537561463891902;
community_x('30') = 0.03557283763082453; community_y('30') = 0.686473609880234;
community_x('31') = 0.17893218274567524; community_y('31') = 0.6053808751335381;
community_x('32') = 0.7099861545117523; community_y('32') = 0.3313075102672235;
community_x('33') = 0.8940237071251176; community_y('33') = 0.24676043367238565;
community_x('34') = 0.30295263625631497; community_y('34') = 0.002848428365106459;
community_x('35') = 0.8528316290380775; community_y('35') = 0.0983822809343825;
community_x('36') = 0.832619191183488; community_y('36') = 0.794913151818489;
community_x('37') = 0.1535990612860869; community_y('37') = 0.4146191285372943;
community_x('38') = 0.914856902070197; community_y('38') = 0.8525427417338317;
community_x('39') = 0.1677501556040939; community_y('39') = 0.9683987516922078;
community_x('40') = 0.47168995286878523; community_y('40') = 0.7373963934191593;
community_x('41') = 0.0835620501372012; community_y('41') = 0.3555612414596002;
community_x('42') = 0.09499442217780596; community_y('42') = 0.1140898749687117;
community_x('43') = 0.6638509974001864; community_y('43') = 0.9095089823154691;
community_x('44') = 0.8399276270269104; community_y('44') = 0.1700130657210327;
community_x('45') = 0.11223165850822314; community_y('45') = 0.14078748589433643;
community_x('46') = 0.3272882591391785; community_y('46') = 0.4206027795674038;
community_x('47') = 0.6110402261624264; community_y('47') = 0.2711027140604855;
community_x('48') = 0.5940070249714624; community_y('48') = 0.2784949020624028;
community_x('49') = 0.13938006051557372; community_y('49') = 0.17444346989850923;
community_x('50') = 0.694087829194878; community_y('50') = 0.05213216011869437;
community_x('51') = 0.10530994601250587; community_y('51') = 0.02730687453814995;
community_x('52') = 0.9331442858030702; community_y('52') = 0.9272227808204748;
community_x('53') = 0.6668930619455254; community_y('53') = 0.096901963462529;
community_x('54') = 0.6627672257755501; community_y('54') = 0.42700460899348613;
community_x('55') = 0.9231765242023097; community_y('55') = 0.6411113980925859;
community_x('56') = 0.23560499752551445; community_y('56') = 0.5680566058244019;
community_x('57') = 0.20078080971981638; community_y('57') = 0.8729756353189955;
community_x('58') = 0.6263498053816048; community_y('58') = 0.9609635238075624;
community_x('59') = 0.8942918386334855; community_y('59') = 0.6052101243978734;
community_x('60') = 0.9312651019881293; community_y('60') = 0.42984317623078294;
community_x('61') = 0.7949810197784254; community_y('61') = 0.6370930535883933;
community_x('62') = 0.6021630489052019; community_y('62') = 0.3557218574603399;
community_x('63') = 0.3593769985318641; community_y('63') = 0.17618615018257588;
community_x('64') = 0.7878501196634976; community_y('64') = 0.4818899206813587;
community_x('65') = 0.6357892091448323; community_y('65') = 0.5069432673483172;
community_x('66') = 0.8781753046230071; community_y('66') = 0.24314008954111743;
community_x('67') = 0.7556085902429927; community_y('67') = 0.45379504227492673;
community_x('68') = 0.4907807794012585; community_y('68') = 0.3717787391171531;
community_x('69') = 0.6469398259959529; community_y('69') = 0.0781789673168567;
community_x('70') = 0.2033910476470836; community_y('70') = 0.9620617300982139;
community_x('71') = 0.28358635578433167; community_y('71') = 0.5310416372099891;
community_x('72') = 0.7647113371624765; community_y('72') = 0.5668086517799888;
community_x('73') = 0.7050326542215195; community_y('73') = 0.0848149295450975;
community_x('74') = 0.02772042460527191; community_y('74') = 0.30791591208329394;
community_x('75') = 0.20505051753036263; community_y('75') = 0.04471793791004719;
community_x('76') = 0.4195179299060565; community_y('76') = 0.8782625108604573;
community_x('77') = 0.571419188257736; community_y('77') = 0.6442550842643204;
community_x('78') = 0.3514186979283511; community_y('78') = 0.5019233296177045;
community_x('79') = 0.37459300484832814; community_y('79') = 0.6954570509563686;
community_x('80') = 0.945515996631426; community_y('80') = 0.4380858441583002;
community_x('81') = 0.38606936821480853; community_y('81') = 0.5194230541628836;
community_x('82') = 0.4443333118985735; community_y('82') = 0.9959129518200203;
community_x('83') = 0.9386778764298722; community_y('83') = 0.1098135097005074;
community_x('84') = 0.3263565269742065; community_y('84') = 0.6724377735657658;
community_x('85') = 0.5280155870294749; community_y('85') = 0.41305477496607323;
community_x('86') = 0.16779831985063076; community_y('86') = 0.1938128063384139;
community_x('87') = 0.8493427221725092; community_y('87') = 0.16926766393070314;
community_x('88') = 0.8233133314405795; community_y('88') = 0.5789529371893748;
community_x('89') = 0.23743426919773036; community_y('89') = 0.0834820694106776;
community_x('90') = 0.6245193496569292; community_y('90') = 0.8135463598588393;
community_x('91') = 0.24117004485319193; community_y('91') = 0.41817662310203574;
community_x('92') = 0.8377025962012637; community_y('92') = 0.3036617070076847;
community_x('93') = 0.4952914430164105; community_y('93') = 0.43428539534560784;
community_x('94') = 0.28565800554015774; community_y('94') = 0.41063924667108653;
community_x('95') = 0.9710060630184252; community_y('95') = 0.4437462332546478;
community_x('96') = 0.48384870245781375; community_y('96') = 0.30489851224484854;
community_x('97') = 0.5635780218365595; community_y('97') = 0.4049569798155117;
community_x('98') = 0.9654917066912274; community_y('98') = 0.2599839960368653;
community_x('99') = 0.2916595932190773; community_y('99') = 0.7521695934339915;
community_x('100') = 0.4535066141407593; community_y('100') = 0.5868102593140007;
demand('1') = 0.35577776853077037;
demand('2') = 0.3346641875953763;
demand('3') = 0.3398341207420229;
demand('4') = 0.9700273947164818;
demand('5') = 0.6675247919120829;
demand('6') = 0.9372629241474304;
demand('7') = 0.8909369855414094;
demand('8') = 0.7238808530900225;
demand('9') = 0.6147899152374228;
demand('10') = 0.3281138745169442;
demand('11') = 0.6051169567931872;
demand('12') = 0.11240882707551891;
demand('13') = 0.47224336930851285;
demand('14') = 0.700704378939965;
demand('15') = 0.5058586233222518;
demand('16') = 0.4986978280738098;
demand('17') = 0.6555804621967788;
demand('18') = 0.5855248448304399;
demand('19') = 0.5620573388562436;
demand('20') = 0.5655272687225975;
demand('21') = 0.3901741189496889;
demand('22') = 0.5488518343312756;
demand('23') = 0.000437045997889407;
demand('24') = 0.6107088344088989;
demand('25') = 0.22382508764004905;
demand('26') = 0.664843322888759;
demand('27') = 0.07038055195669712;
demand('28') = 0.5449336672023555;
demand('29') = 0.2989042306148054;
demand('30') = 0.470851961512344;
demand('31') = 0.8447945959917355;
demand('32') = 0.7274203252874616;
demand('33') = 0.8361669339178702;
demand('34') = 0.5717965902624305;
demand('35') = 0.8793400024589408;
demand('36') = 0.9872336666122148;
demand('37') = 0.8737973562721825;
demand('38') = 0.21950864902160971;
demand('39') = 0.12314139139388725;
demand('40') = 0.32963805265525514;
demand('41') = 0.5529950964587751;
demand('42') = 0.2274701623497748;
demand('43') = 0.9931669794670626;
demand('44') = 0.5168834113384846;
demand('45') = 0.9664480987257569;
demand('46') = 0.12878623562291702;
demand('47') = 0.015280875900381852;
demand('48') = 0.512770856457122;
demand('49') = 0.8136928068970087;
demand('50') = 0.2861102853989931;
demand('51') = 0.9671047298489378;
demand('52') = 0.11849925727735533;
demand('53') = 0.9318026516979477;
demand('54') = 0.996251224115074;
demand('55') = 0.7237048955179006;
demand('56') = 0.6599126961778253;
demand('57') = 0.6620081074624313;
demand('58') = 0.26383553569089857;
demand('59') = 0.010019060334829688;
demand('60') = 0.6713158865634233;
demand('61') = 0.7353479866852578;
demand('62') = 0.3647410402755743;
demand('63') = 0.36558809787903723;
demand('64') = 0.08570984775531343;
demand('65') = 0.06769911261625017;
demand('66') = 0.7720838970125147;
demand('67') = 0.4021523685078049;
demand('68') = 0.7206189937626063;
demand('69') = 0.8845329015347363;
demand('70') = 0.0288442391151853;
demand('71') = 0.019268377317091745;
demand('72') = 0.922941235699974;
demand('73') = 0.21669346175831616;
demand('74') = 0.20102400229004336;
demand('75') = 0.5028311119784415;
demand('76') = 0.7399878307950284;
demand('77') = 0.5724245375267392;
demand('78') = 0.848107643256172;
demand('79') = 0.9758165710318052;
demand('80') = 0.07338152989970104;
demand('81') = 0.6673145314840525;
demand('82') = 0.2735102027595786;
demand('83') = 0.7622551006708297;
demand('84') = 0.7411157267370074;
demand('85') = 0.9318873123648819;
demand('86') = 0.5113588816239562;
demand('87') = 0.2537693488359192;
demand('88') = 0.8044509788642532;
demand('89') = 0.990894087952972;
demand('90') = 0.7193003591366965;
demand('91') = 0.6374111571405623;
demand('92') = 0.5458005876365478;
demand('93') = 0.6754110662457999;
demand('94') = 0.7250639477643166;
demand('95') = 0.654384136872873;
demand('96') = 0.2550235568163923;
demand('97') = 0.4821505886649331;
demand('98') = 0.482870773308653;
demand('99') = 0.2495130068777569;
demand('100') = 0.6488618318374981;
capacity('1') = 5.29604731068281;
capacity('2') = 7.576672042434071;
capacity('3') = 3.959158995621996;
capacity('4') = 5.744681811134838;
capacity('5') = 7.623839447703582;
capacity('6') = 6.350284732209233;
capacity('7') = 5.9642404136945295;
capacity('8') = 4.659631824032983;
capacity('9') = 0.6662542224817811;
capacity('10') = 0.8411599671242374;
capacity('11') = 3.73675287948247;
capacity('12') = 4.13867929592872;
capacity('13') = 0.32475290244641764;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
