Sets
i facilities / 1*7 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.24648195966935815; community_y('1') = 0.5390384041386547;
community_x('2') = 0.5812899303907797; community_y('2') = 0.3377434107664421;
community_x('3') = 0.9722810069256511; community_y('3') = 0.3969081260234111;
community_x('4') = 0.6577925639247865; community_y('4') = 0.28216310094118524;
community_x('5') = 0.4825202358007319; community_y('5') = 0.10200769553397182;
community_x('6') = 0.30898383972761845; community_y('6') = 0.9765814554234864;
community_x('7') = 0.13781659621412856; community_y('7') = 0.8673964995332398;
community_x('8') = 0.9987396936415255; community_y('8') = 0.8629122120669985;
community_x('9') = 0.7543297791773647; community_y('9') = 0.14807908544535042;
community_x('10') = 0.2501153818936084; community_y('10') = 0.6369049042862511;
community_x('11') = 0.5943977164830949; community_y('11') = 0.06069432129017727;
community_x('12') = 0.7087717403437935; community_y('12') = 0.7151475185380806;
community_x('13') = 0.906778871458151; community_y('13') = 0.06991927547412857;
community_x('14') = 0.2803483221329327; community_y('14') = 0.6090189566204065;
community_x('15') = 0.3134605228181535; community_y('15') = 0.15904874095676325;
community_x('16') = 0.18728638371054096; community_y('16') = 0.9787827838539689;
community_x('17') = 0.589769707572602; community_y('17') = 0.9125326105713437;
community_x('18') = 0.9219820659854219; community_y('18') = 0.42543712794998356;
community_x('19') = 0.7345277483359028; community_y('19') = 0.9196666107507147;
community_x('20') = 0.1395818981838497; community_y('20') = 0.7819613266131307;
community_x('21') = 0.372090288351006; community_y('21') = 0.17770331493950564;
community_x('22') = 0.07650981065624218; community_y('22') = 0.8595863799964617;
community_x('23') = 0.16092040436959965; community_y('23') = 0.8779142227497041;
community_x('24') = 0.49299539765476785; community_y('24') = 0.25429442766476784;
community_x('25') = 0.15336218072494912; community_y('25') = 0.6694322068654986;
community_x('26') = 0.2705732218055592; community_y('26') = 0.3050185293884099;
community_x('27') = 0.24311850423337134; community_y('27') = 0.02654064391120059;
community_x('28') = 0.4224480273894524; community_y('28') = 0.45890551756994313;
community_x('29') = 0.8557201983215221; community_y('29') = 0.13551297164446885;
community_x('30') = 0.23547690414892664; community_y('30') = 0.8161805506758578;
community_x('31') = 0.6130228140124786; community_y('31') = 0.7004930912195546;
community_x('32') = 0.40004858314316627; community_y('32') = 0.2402870543800626;
community_x('33') = 0.2915107295363466; community_y('33') = 0.4034756245805341;
community_x('34') = 0.29846856685148093; community_y('34') = 0.06536643678914555;
community_x('35') = 0.7788777503836308; community_y('35') = 0.35721192602446294;
community_x('36') = 0.8427016764242926; community_y('36') = 0.6014091278536801;
community_x('37') = 0.7324117569833956; community_y('37') = 0.8303573433992057;
community_x('38') = 0.8888721316002401; community_y('38') = 0.9705381506256456;
community_x('39') = 0.7283727373176196; community_y('39') = 0.6218340446666469;
community_x('40') = 0.2986137581255889; community_y('40') = 0.4441381742274316;
community_x('41') = 0.23385993554704632; community_y('41') = 0.8759609643116274;
community_x('42') = 0.5667201809156873; community_y('42') = 0.5830307552730395;
community_x('43') = 0.6091346591700197; community_y('43') = 0.8114429218075361;
community_x('44') = 0.7848025145988767; community_y('44') = 0.3554780494624341;
community_x('45') = 0.9062178448542928; community_y('45') = 0.8892034755155427;
community_x('46') = 0.797802199609972; community_y('46') = 0.19454153032080224;
community_x('47') = 0.9760233522900439; community_y('47') = 0.39525395917587236;
community_x('48') = 0.6742092312713868; community_y('48') = 0.2284465958050037;
community_x('49') = 0.6825041643779697; community_y('49') = 0.3760815444104051;
community_x('50') = 0.7992770484122713; community_y('50') = 0.6168934635752643;
community_x('51') = 0.49694600540770395; community_y('51') = 0.9349608425692654;
community_x('52') = 0.7980281304342486; community_y('52') = 0.03935259667034996;
community_x('53') = 0.8752898863971744; community_y('53') = 0.58231786244365;
community_x('54') = 0.5122953611705595; community_y('54') = 0.21837292347467196;
community_x('55') = 0.3429238871276048; community_y('55') = 0.8205276637439411;
community_x('56') = 0.381034321354362; community_y('56') = 0.7425359507962008;
community_x('57') = 0.6124671543179774; community_y('57') = 0.96861975607272;
community_x('58') = 0.5660703631974847; community_y('58') = 0.9649288148628752;
community_x('59') = 0.4950638405657113; community_y('59') = 0.6481081627382234;
community_x('60') = 0.38930248330242145; community_y('60') = 0.25953315986521575;
community_x('61') = 0.7382252075852488; community_y('61') = 0.7185323144208033;
community_x('62') = 0.6847427971862473; community_y('62') = 0.4558086266961896;
community_x('63') = 0.9365427072282757; community_y('63') = 0.2657642495838457;
community_x('64') = 0.962097780789108; community_y('64') = 0.10810687193347879;
community_x('65') = 0.013522872560056798; community_y('65') = 0.8939826896182317;
community_x('66') = 0.4004444476038336; community_y('66') = 0.43601677978700737;
community_x('67') = 0.7429926150046116; community_y('67') = 0.14028835441642407;
community_x('68') = 0.5360439858526141; community_y('68') = 0.2206677226491175;
community_x('69') = 0.6178974977449189; community_y('69') = 0.13572215539240506;
community_x('70') = 0.25700439050781343; community_y('70') = 0.05584263086679242;
community_x('71') = 0.38538695598084993; community_y('71') = 0.7476857406855338;
community_x('72') = 0.8608908947633966; community_y('72') = 0.4684250664307158;
community_x('73') = 0.670280660459034; community_y('73') = 0.3010436915945992;
community_x('74') = 0.878514972912491; community_y('74') = 0.3267797932678206;
community_x('75') = 0.9180238065756784; community_y('75') = 0.2741032077837441;
community_x('76') = 0.9208182134591227; community_y('76') = 0.5104698715930988;
community_x('77') = 0.8650666716746475; community_y('77') = 0.5672563272084044;
community_x('78') = 0.9157290383443484; community_y('78') = 0.07079368977272404;
community_x('79') = 0.8974843055474808; community_y('79') = 0.4166021828629599;
community_x('80') = 0.9297930630832572; community_y('80') = 0.8790345674721535;
community_x('81') = 0.41379292411420576; community_y('81') = 0.7133966118654356;
community_x('82') = 0.40779238719032407; community_y('82') = 0.5131459966748539;
community_x('83') = 0.4459826483868512; community_y('83') = 0.3992199875416953;
community_x('84') = 0.7666885287375877; community_y('84') = 0.3228845939395363;
community_x('85') = 0.9779853639579287; community_y('85') = 0.14778478609285883;
community_x('86') = 0.6717169645811067; community_y('86') = 0.30310490949197444;
community_x('87') = 0.42899841624531143; community_y('87') = 0.11791440716701329;
community_x('88') = 0.08176121332614095; community_y('88') = 0.03488081747442273;
community_x('89') = 0.13179428988216502; community_y('89') = 0.12024130327376259;
community_x('90') = 0.06663418295090007; community_y('90') = 0.9900893793057157;
community_x('91') = 0.14955300083187695; community_y('91') = 0.9575225103903584;
community_x('92') = 0.00040752352613038223; community_y('92') = 0.04356731424441085;
community_x('93') = 0.39871429090371757; community_y('93') = 0.35312164370555443;
community_x('94') = 0.3047085354167699; community_y('94') = 0.11453125233120176;
community_x('95') = 0.9493781620588828; community_y('95') = 0.34994800911090784;
community_x('96') = 0.15391649675888464; community_y('96') = 0.6077173055382615;
community_x('97') = 0.09263035675804365; community_y('97') = 0.24045236707279494;
community_x('98') = 0.8985888190018059; community_y('98') = 0.4454172347795369;
community_x('99') = 0.9217802354439429; community_y('99') = 0.17629877042573128;
community_x('100') = 0.5121986461791493; community_y('100') = 0.5142692479753621;
demand('1') = 0.14956825522159378;
demand('2') = 0.3198023022445109;
demand('3') = 0.4134588372078164;
demand('4') = 0.2750777311754067;
demand('5') = 0.4900078144661987;
demand('6') = 0.7794217172448736;
demand('7') = 0.4341918038572574;
demand('8') = 0.848382715218344;
demand('9') = 0.1687332928870624;
demand('10') = 0.7108376055756609;
demand('11') = 0.8285747668588962;
demand('12') = 0.9517463082635791;
demand('13') = 0.6898502773392603;
demand('14') = 0.31395406089028066;
demand('15') = 0.6905806171970573;
demand('16') = 0.6298023422182675;
demand('17') = 0.3991085885870358;
demand('18') = 0.6003983428676103;
demand('19') = 0.04592993921570032;
demand('20') = 0.008680924393526412;
demand('21') = 0.18292093823535105;
demand('22') = 0.91823893906414;
demand('23') = 0.02031697458943338;
demand('24') = 0.2567543483408097;
demand('25') = 0.7656549687142257;
demand('26') = 0.8811875265647037;
demand('27') = 0.4163437538721534;
demand('28') = 0.5072007368676363;
demand('29') = 0.9072809124026103;
demand('30') = 0.2876364617581194;
demand('31') = 0.10518756338484503;
demand('32') = 0.27603187130688445;
demand('33') = 0.7239985128492262;
demand('34') = 0.32805688945547273;
demand('35') = 0.575291562113984;
demand('36') = 0.07384809449428198;
demand('37') = 0.826852013658179;
demand('38') = 0.9611473326374981;
demand('39') = 0.9002180790613944;
demand('40') = 0.15564428206464398;
demand('41') = 0.9621176085957895;
demand('42') = 0.8877661522721247;
demand('43') = 0.2251104886351507;
demand('44') = 0.419372373288575;
demand('45') = 0.1589407176533486;
demand('46') = 0.3684530324585906;
demand('47') = 0.7661155142778605;
demand('48') = 0.09281734763831673;
demand('49') = 0.6589506414866585;
demand('50') = 0.7934827373613281;
demand('51') = 0.053855406854460997;
demand('52') = 0.1613535123540384;
demand('53') = 0.7820301176866387;
demand('54') = 0.817543135443071;
demand('55') = 0.2867709047877379;
demand('56') = 0.8853719913111722;
demand('57') = 0.6438427628360002;
demand('58') = 0.012727225943732545;
demand('59') = 0.7316506343340305;
demand('60') = 0.17899760859131597;
demand('61') = 0.33689006765864404;
demand('62') = 0.8181331358428308;
demand('63') = 0.014729429872143207;
demand('64') = 0.830620015761014;
demand('65') = 0.3561057898213791;
demand('66') = 0.6055642490448813;
demand('67') = 0.2926500544270445;
demand('68') = 0.5762440793142625;
demand('69') = 0.22596067306764356;
demand('70') = 0.5862469488552275;
demand('71') = 0.44185546140548804;
demand('72') = 0.6137257086337733;
demand('73') = 0.001250769062041024;
demand('74') = 0.7331478093826683;
demand('75') = 0.22501371090338418;
demand('76') = 0.8213578771361454;
demand('77') = 0.47588098461484174;
demand('78') = 0.6688931679193324;
demand('79') = 0.4332841360658215;
demand('80') = 0.12502385963936669;
demand('81') = 0.977747720519437;
demand('82') = 0.7196454084726568;
demand('83') = 0.9726116742237021;
demand('84') = 0.6717016817414893;
demand('85') = 0.4150976116985713;
demand('86') = 0.39526388301727056;
demand('87') = 0.7901037074142063;
demand('88') = 0.835726133993271;
demand('89') = 0.7776240548516565;
demand('90') = 0.21203216449781603;
demand('91') = 0.2584284141323242;
demand('92') = 0.38649040129191403;
demand('93') = 0.039402646821671605;
demand('94') = 0.19516872844714372;
demand('95') = 0.36761610052240656;
demand('96') = 0.15409546334772817;
demand('97') = 0.22822516584124375;
demand('98') = 0.553264046492561;
demand('99') = 0.6933817958249918;
demand('100') = 0.32715303393482753;
capacity('1') = 15.255558818458006;
capacity('2') = 0.37464855163863026;
capacity('3') = 0.9172592480038816;
capacity('4') = 3.355450063622793;
capacity('5') = 14.031119980996912;
capacity('6') = 4.012061159511879;
capacity('7') = 13.355377245642694;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
