Sets
i facilities / 1*5 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.8780993490764925; community_y('1') = 0.4709957298766564;
community_x('2') = 0.3491186468357038; community_y('2') = 0.009444598859187803;
community_x('3') = 0.7907236599059974; community_y('3') = 0.16574091436887117;
community_x('4') = 0.95158749075222; community_y('4') = 0.6923545758671008;
community_x('5') = 0.31221875938800536; community_y('5') = 0.7608200550830996;
community_x('6') = 0.7683219579642596; community_y('6') = 0.5777186802938823;
community_x('7') = 0.33469869414518605; community_y('7') = 0.049170826735431494;
community_x('8') = 0.1637885484830508; community_y('8') = 0.7467767927118596;
community_x('9') = 0.3483030659381373; community_y('9') = 0.8490709876206917;
community_x('10') = 0.7512281379797415; community_y('10') = 0.8560810783615815;
community_x('11') = 0.14756713137024458; community_y('11') = 0.7505097630272383;
community_x('12') = 0.659253406494923; community_y('12') = 0.6629348976566306;
community_x('13') = 0.35126358219238996; community_y('13') = 0.34955343118557014;
community_x('14') = 0.16903229688697097; community_y('14') = 0.36210192005992026;
community_x('15') = 0.4301172838776218; community_y('15') = 0.19022496288710466;
community_x('16') = 0.386462441311486; community_y('16') = 0.6434213398985302;
community_x('17') = 0.46035565806008716; community_y('17') = 0.33906791840309713;
community_x('18') = 0.8811247488251708; community_y('18') = 0.8094515361392367;
community_x('19') = 0.9203626936422097; community_y('19') = 0.23205089006194135;
community_x('20') = 0.22724808534269614; community_y('20') = 0.2634478651931502;
community_x('21') = 0.9878459288411137; community_y('21') = 0.08566906160286114;
community_x('22') = 0.6120184087070215; community_y('22') = 0.2800273453129474;
community_x('23') = 0.9597454586236343; community_y('23') = 0.7777877052142954;
community_x('24') = 0.8167598321273508; community_y('24') = 0.8250185639756469;
community_x('25') = 0.525765247026912; community_y('25') = 0.9169760567053421;
community_x('26') = 0.25083665595322713; community_y('26') = 0.035165443947111075;
community_x('27') = 0.9294103855439741; community_y('27') = 0.6851909088528831;
community_x('28') = 0.9991429807566035; community_y('28') = 0.5624931163189056;
community_x('29') = 0.6248211930854191; community_y('29') = 0.3495881612683762;
community_x('30') = 0.11645274131212746; community_y('30') = 0.9401750720407103;
community_x('31') = 0.8231722692071926; community_y('31') = 0.6822286832000304;
community_x('32') = 0.7652802368441604; community_y('32') = 0.31326882362870656;
community_x('33') = 0.8797975941419041; community_y('33') = 0.8307231640529381;
community_x('34') = 0.9763213384129186; community_y('34') = 0.4425462741025826;
community_x('35') = 0.9757752479976449; community_y('35') = 0.47050516795342656;
community_x('36') = 0.7361817354891; community_y('36') = 0.47688913473915207;
community_x('37') = 0.3924508911103205; community_y('37') = 0.4750955850050771;
community_x('38') = 0.5322014978467244; community_y('38') = 0.02580119394153757;
community_x('39') = 0.504715350031246; community_y('39') = 0.8200808549975165;
community_x('40') = 0.760409717489815; community_y('40') = 0.3021438339996495;
community_x('41') = 0.6262790522746535; community_y('41') = 0.4500225464112785;
community_x('42') = 0.826101635544232; community_y('42') = 0.17628911276042625;
community_x('43') = 0.5155033944404247; community_y('43') = 0.5683030281037929;
community_x('44') = 0.5900529570029243; community_y('44') = 0.07062439399012255;
community_x('45') = 0.9635256892745577; community_y('45') = 0.02983020515891399;
community_x('46') = 0.7918379069369874; community_y('46') = 0.21042777879707175;
community_x('47') = 0.931157488548419; community_y('47') = 0.8788091957547229;
community_x('48') = 0.6987602703528316; community_y('48') = 0.6826133134494042;
community_x('49') = 0.12423225169944352; community_y('49') = 0.7219978080429694;
community_x('50') = 0.41894709585513334; community_y('50') = 0.09197771955933276;
community_x('51') = 0.290677984849657; community_y('51') = 0.4512537492205472;
community_x('52') = 0.26262098226989283; community_y('52') = 0.7360503357709667;
community_x('53') = 0.1270461449115955; community_y('53') = 0.7446842330495952;
community_x('54') = 0.11042139345523116; community_y('54') = 0.4497287981860496;
community_x('55') = 0.48109102884149757; community_y('55') = 0.07685302782784542;
community_x('56') = 0.7828717037347251; community_y('56') = 0.3794446070161659;
community_x('57') = 0.867358746801114; community_y('57') = 0.9481430276853315;
community_x('58') = 0.9675787825144558; community_y('58') = 0.8903102482543249;
community_x('59') = 0.5819737968371221; community_y('59') = 0.6139485299400245;
community_x('60') = 0.014410388081240288; community_y('60') = 0.35260722499064623;
community_x('61') = 0.19128707202932793; community_y('61') = 0.6017057800083325;
community_x('62') = 0.057223078680586625; community_y('62') = 0.5753361558743163;
community_x('63') = 0.8681152625803364; community_y('63') = 0.46199013128456157;
community_x('64') = 0.31986484496958245; community_y('64') = 0.8526463473731125;
community_x('65') = 0.7235925676334561; community_y('65') = 0.5635367530692675;
community_x('66') = 0.45121126456857474; community_y('66') = 0.09655807841343411;
community_x('67') = 0.5838223211855177; community_y('67') = 0.7322391881447511;
community_x('68') = 0.851652280740021; community_y('68') = 0.6984838769769172;
community_x('69') = 0.6571222546135556; community_y('69') = 0.10161869180667749;
community_x('70') = 0.07481931668747377; community_y('70') = 0.5245033990004626;
community_x('71') = 0.6349691977835988; community_y('71') = 0.9779759464486234;
community_x('72') = 0.35563248821611204; community_y('72') = 0.6473045354027613;
community_x('73') = 0.9766051047052107; community_y('73') = 0.6739044638272571;
community_x('74') = 0.2677026886984386; community_y('74') = 0.4780390299254036;
community_x('75') = 0.2419367481096507; community_y('75') = 0.424793552664428;
community_x('76') = 0.9224538010685599; community_y('76') = 0.9864971135077076;
community_x('77') = 0.4139950297966567; community_y('77') = 0.2809242871061286;
community_x('78') = 0.08284187960200295; community_y('78') = 0.4639816233344668;
community_x('79') = 0.796190568149854; community_y('79') = 0.09469529609880534;
community_x('80') = 0.9190878354656149; community_y('80') = 0.5138379274002371;
community_x('81') = 0.4921302854768952; community_y('81') = 0.6626436908862855;
community_x('82') = 0.1671842667198864; community_y('82') = 0.6911371494605918;
community_x('83') = 0.8661114023837858; community_y('83') = 0.977861520144741;
community_x('84') = 0.3399363986185612; community_y('84') = 0.26263391748570475;
community_x('85') = 0.24568787784377577; community_y('85') = 0.20822179597863844;
community_x('86') = 0.04361928467650489; community_y('86') = 0.3584364227525292;
community_x('87') = 0.8811229483675052; community_y('87') = 0.334936164504796;
community_x('88') = 0.2353053223413607; community_y('88') = 0.9129577602195361;
community_x('89') = 0.12030697511283017; community_y('89') = 0.20848640022374876;
community_x('90') = 0.36387950320572615; community_y('90') = 0.4719124008407599;
community_x('91') = 0.7001937552889832; community_y('91') = 0.9991991936278636;
community_x('92') = 0.9969896712779388; community_y('92') = 0.4084619685841968;
community_x('93') = 0.21115148759142777; community_y('93') = 0.4585811409103675;
community_x('94') = 0.6175193252377273; community_y('94') = 0.4187295401420821;
community_x('95') = 0.2700402459328932; community_y('95') = 0.32286740744214193;
community_x('96') = 0.8618301087470586; community_y('96') = 0.32069604154858833;
community_x('97') = 0.48732553298821124; community_y('97') = 0.8368842274755399;
community_x('98') = 0.6836590017481946; community_y('98') = 0.014721559357316893;
community_x('99') = 0.8378859946732192; community_y('99') = 0.06637613700414469;
community_x('100') = 0.5348679191542471; community_y('100') = 0.8068201450865852;
demand('1') = 0.7239224238985894;
demand('2') = 0.4244960649341949;
demand('3') = 0.48009149635971526;
demand('4') = 0.472894793744983;
demand('5') = 0.2564910627723208;
demand('6') = 0.4336639176415056;
demand('7') = 0.35636026134482013;
demand('8') = 0.5913822484273209;
demand('9') = 0.33664236124728375;
demand('10') = 0.5887905201244871;
demand('11') = 0.04102566894649573;
demand('12') = 0.9891290849332859;
demand('13') = 0.013071483130693728;
demand('14') = 0.4719452927311204;
demand('15') = 0.3762029221363754;
demand('16') = 0.12961078289573869;
demand('17') = 0.9732755190020076;
demand('18') = 0.4489521378736273;
demand('19') = 0.1857125928614577;
demand('20') = 0.32793137748863843;
demand('21') = 0.18930178957097377;
demand('22') = 0.5453897062772332;
demand('23') = 0.9984689666542836;
demand('24') = 0.9640732651827307;
demand('25') = 0.2300185665558382;
demand('26') = 0.7098869651962431;
demand('27') = 0.5634453896681203;
demand('28') = 0.7642721576087316;
demand('29') = 0.15656937302002094;
demand('30') = 0.04530147017965158;
demand('31') = 0.12126672293074192;
demand('32') = 0.907135177150415;
demand('33') = 0.053713872160161436;
demand('34') = 0.04187094654743606;
demand('35') = 0.46261166386730046;
demand('36') = 0.060733797427027;
demand('37') = 0.17425292980515705;
demand('38') = 0.9538676826541909;
demand('39') = 0.1805143484483569;
demand('40') = 0.7618309855678539;
demand('41') = 0.8438554223703092;
demand('42') = 0.45562961483592634;
demand('43') = 0.44288337446375714;
demand('44') = 0.2116371143259026;
demand('45') = 0.32735297817307163;
demand('46') = 0.5340062671598166;
demand('47') = 0.5706279415513662;
demand('48') = 0.5332358796374382;
demand('49') = 0.3628478553137462;
demand('50') = 0.8862486404109062;
demand('51') = 0.4586577278907791;
demand('52') = 0.38010067071789866;
demand('53') = 0.47611971458299995;
demand('54') = 0.8424264961049146;
demand('55') = 0.6041302201561769;
demand('56') = 0.7426714764074135;
demand('57') = 0.825994750543509;
demand('58') = 0.35540305296593433;
demand('59') = 0.7220042324490499;
demand('60') = 0.09606558083976158;
demand('61') = 0.48401078832910693;
demand('62') = 0.46167523881839345;
demand('63') = 0.3900325863932572;
demand('64') = 0.16632683712916185;
demand('65') = 0.8023829469815159;
demand('66') = 0.3425720418229449;
demand('67') = 0.39360086853387943;
demand('68') = 0.11763743385993786;
demand('69') = 0.8654633664855297;
demand('70') = 0.866550366460691;
demand('71') = 0.1819829162271127;
demand('72') = 0.38868252489124;
demand('73') = 0.28445004986002886;
demand('74') = 0.18891735234723395;
demand('75') = 0.830493194622991;
demand('76') = 0.6151545350051415;
demand('77') = 0.9092813108106619;
demand('78') = 0.6888287523860871;
demand('79') = 0.3326514774180317;
demand('80') = 0.7824309036590327;
demand('81') = 0.1064679753230503;
demand('82') = 0.5887284257174805;
demand('83') = 0.5150055050941396;
demand('84') = 0.078357939998557;
demand('85') = 0.2874639434442503;
demand('86') = 0.5204903325176831;
demand('87') = 0.12355821642415266;
demand('88') = 0.08145657421432329;
demand('89') = 0.6153802022507221;
demand('90') = 0.9758732098731273;
demand('91') = 0.5870007290856022;
demand('92') = 0.9971094594025433;
demand('93') = 0.4856927707133969;
demand('94') = 0.10299118330842438;
demand('95') = 0.16486093033732263;
demand('96') = 0.455430199486197;
demand('97') = 0.8737837970487012;
demand('98') = 0.8126685147586306;
demand('99') = 0.975091485902634;
demand('100') = 0.5896758912992283;
capacity('1') = 16.694094949810125;
capacity('2') = 12.162719509338046;
capacity('3') = 3.6533575919449524;
capacity('4') = 11.95723933700056;
capacity('5') = 6.15122966892175;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
