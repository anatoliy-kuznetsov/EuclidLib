Sets
i Steiner points / 1*178 /
j terminals / 1*180 /
k dimensions / 1*2 /;
Alias(i,ii);
Parameters terminals(j,k);
terminals('1', '1') = 0.9198205562726043; terminals('1', '2') = 0.30652956845396295; 
terminals('2', '1') = 0.9166618709371083; terminals('2', '2') = 0.08522522422788548; 
terminals('3', '1') = 0.20716415106017272; terminals('3', '2') = 0.1449090134167048; 
terminals('4', '1') = 0.9047271399640026; terminals('4', '2') = 0.0786453558147473; 
terminals('5', '1') = 0.822564827258599; terminals('5', '2') = 0.06562175388036195; 
terminals('6', '1') = 0.11896452887877351; terminals('6', '2') = 0.773331979855295; 
terminals('7', '1') = 0.45585077357860915; terminals('7', '2') = 0.5410904036444795; 
terminals('8', '1') = 0.8261081473600574; terminals('8', '2') = 0.3834442117539223; 
terminals('9', '1') = 0.4816165139861014; terminals('9', '2') = 0.9966196987906539; 
terminals('10', '1') = 0.1513334533282944; terminals('10', '2') = 0.36491582017076907; 
terminals('11', '1') = 0.19908813625314092; terminals('11', '2') = 0.8793144855571616; 
terminals('12', '1') = 0.7546201652128808; terminals('12', '2') = 0.6508823618797748; 
terminals('13', '1') = 0.9358792730279005; terminals('13', '2') = 0.2012409863135428; 
terminals('14', '1') = 0.4307738722508674; terminals('14', '2') = 0.3019237229128392; 
terminals('15', '1') = 0.6229528153847099; terminals('15', '2') = 0.15559389893693576; 
terminals('16', '1') = 0.5438242182410501; terminals('16', '2') = 0.3406347773472569; 
terminals('17', '1') = 0.33038064324045713; terminals('17', '2') = 0.15983240262095488; 
terminals('18', '1') = 0.648000430079476; terminals('18', '2') = 0.10749446612335356; 
terminals('19', '1') = 0.4229520229312461; terminals('19', '2') = 0.11698059796424409; 
terminals('20', '1') = 0.17715295251086238; terminals('20', '2') = 0.37413553941065836; 
terminals('21', '1') = 0.8038803885951109; terminals('21', '2') = 0.19348665414813704; 
terminals('22', '1') = 0.661800722718799; terminals('22', '2') = 0.8668027458528726; 
terminals('23', '1') = 0.2203716073227685; terminals('23', '2') = 0.09302298463157743; 
terminals('24', '1') = 0.4890172415386398; terminals('24', '2') = 0.778683582483617; 
terminals('25', '1') = 0.5910486356092601; terminals('25', '2') = 0.7354378593813067; 
terminals('26', '1') = 0.7897835041161515; terminals('26', '2') = 0.4957779193128298; 
terminals('27', '1') = 0.7557483462215637; terminals('27', '2') = 0.7585356554141491; 
terminals('28', '1') = 0.4433797615927295; terminals('28', '2') = 0.7382184505687266; 
terminals('29', '1') = 0.6658703913219605; terminals('29', '2') = 0.1439797333340762; 
terminals('30', '1') = 0.029702236582669572; terminals('30', '2') = 0.41768121402696523; 
terminals('31', '1') = 0.1017489455879137; terminals('31', '2') = 0.8154750019691508; 
terminals('32', '1') = 0.8612696941191437; terminals('32', '2') = 0.3637057990957978; 
terminals('33', '1') = 0.5634241713021999; terminals('33', '2') = 0.5211109451690612; 
terminals('34', '1') = 0.12916536835047487; terminals('34', '2') = 0.5017111857699054; 
terminals('35', '1') = 0.9387493626578022; terminals('35', '2') = 0.1269287413841742; 
terminals('36', '1') = 0.018082648697987924; terminals('36', '2') = 0.32252593085406633; 
terminals('37', '1') = 0.20094581043758664; terminals('37', '2') = 0.9090574805922732; 
terminals('38', '1') = 0.5807047518023147; terminals('38', '2') = 0.8838139324852743; 
terminals('39', '1') = 0.485414675145008; terminals('39', '2') = 0.8168129304946607; 
terminals('40', '1') = 0.2540860942902545; terminals('40', '2') = 0.8769053400706254; 
terminals('41', '1') = 0.385420739870607; terminals('41', '2') = 0.6435062220294792; 
terminals('42', '1') = 0.9969018354873831; terminals('42', '2') = 0.5833953849621268; 
terminals('43', '1') = 0.25551739364084514; terminals('43', '2') = 0.7882868636506664; 
terminals('44', '1') = 0.630487381757842; terminals('44', '2') = 0.992370334368535; 
terminals('45', '1') = 0.7663418816598331; terminals('45', '2') = 0.19817347214430114; 
terminals('46', '1') = 0.6307457470207327; terminals('46', '2') = 0.5148773165278664; 
terminals('47', '1') = 0.36684434522579956; terminals('47', '2') = 0.8681178695117161; 
terminals('48', '1') = 0.41026209513845324; terminals('48', '2') = 0.22658395237926332; 
terminals('49', '1') = 0.8715687990814045; terminals('49', '2') = 0.3464288545888029; 
terminals('50', '1') = 0.31025445168913945; terminals('50', '2') = 0.9425538027981639; 
terminals('51', '1') = 0.4861644106251566; terminals('51', '2') = 0.5565003372532817; 
terminals('52', '1') = 0.5252523544074487; terminals('52', '2') = 0.09160746396266195; 
terminals('53', '1') = 0.38600124903915756; terminals('53', '2') = 0.9050862249292739; 
terminals('54', '1') = 0.5100785350755097; terminals('54', '2') = 0.29635316996591776; 
terminals('55', '1') = 0.1635652576904979; terminals('55', '2') = 0.47093359393429934; 
terminals('56', '1') = 0.6557496307035244; terminals('56', '2') = 0.018654510795348966; 
terminals('57', '1') = 0.06416834689046358; terminals('57', '2') = 0.19549834013659095; 
terminals('58', '1') = 0.7668539874673267; terminals('58', '2') = 0.4141946228690273; 
terminals('59', '1') = 0.7579213950461146; terminals('59', '2') = 0.12621907402510102; 
terminals('60', '1') = 0.7656647140265794; terminals('60', '2') = 0.0818582022086376; 
terminals('61', '1') = 0.3877434960632198; terminals('61', '2') = 0.9102211642348025; 
terminals('62', '1') = 0.7728341552553549; terminals('62', '2') = 0.12921130098448352; 
terminals('63', '1') = 0.28752370845551933; terminals('63', '2') = 0.9182260264627343; 
terminals('64', '1') = 0.04218174658660023; terminals('64', '2') = 0.12747480188677063; 
terminals('65', '1') = 0.7414422213557181; terminals('65', '2') = 0.17246406816852466; 
terminals('66', '1') = 0.2653259633725913; terminals('66', '2') = 0.5094140127293697; 
terminals('67', '1') = 0.7850807574803091; terminals('67', '2') = 0.2961774504337077; 
terminals('68', '1') = 0.8191891985621268; terminals('68', '2') = 0.5188436467493556; 
terminals('69', '1') = 0.7584898267059128; terminals('69', '2') = 0.5330502097797022; 
terminals('70', '1') = 0.07816180507311998; terminals('70', '2') = 0.3653978452430374; 
terminals('71', '1') = 0.4710390279663388; terminals('71', '2') = 0.8165048724599085; 
terminals('72', '1') = 0.8397175928416822; terminals('72', '2') = 0.7269382661775893; 
terminals('73', '1') = 0.517866074374252; terminals('73', '2') = 0.15018668983523442; 
terminals('74', '1') = 0.5951656188573405; terminals('74', '2') = 0.8091739000310857; 
terminals('75', '1') = 0.7440991664544329; terminals('75', '2') = 0.588948462489379; 
terminals('76', '1') = 0.10560159952303116; terminals('76', '2') = 0.08484293452141378; 
terminals('77', '1') = 0.4528080330088169; terminals('77', '2') = 0.12581339054934848; 
terminals('78', '1') = 0.904138096055477; terminals('78', '2') = 0.1014091308630688; 
terminals('79', '1') = 0.8852908818317583; terminals('79', '2') = 0.43928649128209796; 
terminals('80', '1') = 0.6696093316465426; terminals('80', '2') = 0.5498144723052149; 
terminals('81', '1') = 0.5957949991455358; terminals('81', '2') = 0.461747892501705; 
terminals('82', '1') = 0.713563771254429; terminals('82', '2') = 0.7804038692107024; 
terminals('83', '1') = 0.858214103184493; terminals('83', '2') = 0.07303516269548438; 
terminals('84', '1') = 0.346130786480664; terminals('84', '2') = 0.4256008435661698; 
terminals('85', '1') = 0.24362863616982544; terminals('85', '2') = 0.6688460546700604; 
terminals('86', '1') = 0.35566501686840934; terminals('86', '2') = 0.7128755630214451; 
terminals('87', '1') = 0.8844486719661269; terminals('87', '2') = 0.17571143370423759; 
terminals('88', '1') = 0.029991787071069753; terminals('88', '2') = 0.6261519852143697; 
terminals('89', '1') = 0.6573752784497827; terminals('89', '2') = 0.32981189262735466; 
terminals('90', '1') = 0.03035184515838607; terminals('90', '2') = 0.5641407784864749; 
terminals('91', '1') = 0.40335556049919163; terminals('91', '2') = 0.27107256403568514; 
terminals('92', '1') = 0.9777414344487464; terminals('92', '2') = 0.5697259931603572; 
terminals('93', '1') = 0.1878502300845334; terminals('93', '2') = 0.9576888591637891; 
terminals('94', '1') = 0.6734504625350235; terminals('94', '2') = 0.03156324762355267; 
terminals('95', '1') = 0.4037806825529845; terminals('95', '2') = 0.5168219912323233; 
terminals('96', '1') = 0.6071422562701692; terminals('96', '2') = 0.6845650179176214; 
terminals('97', '1') = 0.9643328726139417; terminals('97', '2') = 0.025935624277522273; 
terminals('98', '1') = 0.25103076087306997; terminals('98', '2') = 0.9497540153771914; 
terminals('99', '1') = 0.7477472470521443; terminals('99', '2') = 0.6198691030221837; 
terminals('100', '1') = 0.6744281443835084; terminals('100', '2') = 0.3527912370923024; 
terminals('101', '1') = 0.5172484719043435; terminals('101', '2') = 0.2926352159786104; 
terminals('102', '1') = 0.2766475139679986; terminals('102', '2') = 0.3910058557454139; 
terminals('103', '1') = 0.39231381925860753; terminals('103', '2') = 0.2955419006401976; 
terminals('104', '1') = 0.7120248145739548; terminals('104', '2') = 0.27638069872359095; 
terminals('105', '1') = 0.7164982453950784; terminals('105', '2') = 0.832889685486082; 
terminals('106', '1') = 0.07417401780775201; terminals('106', '2') = 0.5660981827114939; 
terminals('107', '1') = 0.9476290931254199; terminals('107', '2') = 0.6339433842618976; 
terminals('108', '1') = 0.8248706851633657; terminals('108', '2') = 0.5145303255399265; 
terminals('109', '1') = 0.18258751835407605; terminals('109', '2') = 0.3863698984146271; 
terminals('110', '1') = 0.7337483852623704; terminals('110', '2') = 0.2685589789734595; 
terminals('111', '1') = 0.5109727059639919; terminals('111', '2') = 0.6462766692176981; 
terminals('112', '1') = 0.4388725699420084; terminals('112', '2') = 0.24916314690470653; 
terminals('113', '1') = 0.71107440470618; terminals('113', '2') = 0.7924835322172229; 
terminals('114', '1') = 0.12630119665684159; terminals('114', '2') = 0.9639550471953551; 
terminals('115', '1') = 0.3204953318590207; terminals('115', '2') = 0.954889793679163; 
terminals('116', '1') = 0.42372215053128715; terminals('116', '2') = 0.7923822621891118; 
terminals('117', '1') = 0.4609699809210389; terminals('117', '2') = 0.8824876161860645; 
terminals('118', '1') = 0.07299780148413493; terminals('118', '2') = 0.9389040922081965; 
terminals('119', '1') = 0.37554909735619213; terminals('119', '2') = 0.35951330933108905; 
terminals('120', '1') = 0.5364222471603829; terminals('120', '2') = 0.03219646254282427; 
terminals('121', '1') = 0.9291562718657997; terminals('121', '2') = 0.5954087905467101; 
terminals('122', '1') = 0.5049398350851969; terminals('122', '2') = 0.30313800900145416; 
terminals('123', '1') = 0.05402409932714547; terminals('123', '2') = 0.5373383087275819; 
terminals('124', '1') = 0.31021333848585775; terminals('124', '2') = 0.5359555512244023; 
terminals('125', '1') = 0.8200396590087292; terminals('125', '2') = 0.6278488688869177; 
terminals('126', '1') = 0.7708634414984952; terminals('126', '2') = 0.7159544159000641; 
terminals('127', '1') = 0.2973003745573264; terminals('127', '2') = 0.39082501536551206; 
terminals('128', '1') = 0.023174501882870957; terminals('128', '2') = 0.529650168974189; 
terminals('129', '1') = 0.4340151815514125; terminals('129', '2') = 0.10380253000547945; 
terminals('130', '1') = 0.45530987833973224; terminals('130', '2') = 0.9035707632694789; 
terminals('131', '1') = 0.15374313817872676; terminals('131', '2') = 0.8125959633163756; 
terminals('132', '1') = 0.013628188220543458; terminals('132', '2') = 0.7884450666973174; 
terminals('133', '1') = 0.10271063727325136; terminals('133', '2') = 0.3038264451396544; 
terminals('134', '1') = 0.4798742545044712; terminals('134', '2') = 0.5177083274259708; 
terminals('135', '1') = 0.861776229300392; terminals('135', '2') = 0.14129538070106185; 
terminals('136', '1') = 0.6667463914290652; terminals('136', '2') = 0.825650194138916; 
terminals('137', '1') = 0.4363837443676021; terminals('137', '2') = 0.31632988884168434; 
terminals('138', '1') = 0.8758936919821534; terminals('138', '2') = 0.8013654662489299; 
terminals('139', '1') = 0.12864879199127888; terminals('139', '2') = 0.7351362706750934; 
terminals('140', '1') = 0.5973409446771867; terminals('140', '2') = 0.8934770071872274; 
terminals('141', '1') = 0.16116727000460596; terminals('141', '2') = 0.6578899719798786; 
terminals('142', '1') = 0.569659196176031; terminals('142', '2') = 0.828073179635406; 
terminals('143', '1') = 0.23841550160366332; terminals('143', '2') = 0.8558393686811562; 
terminals('144', '1') = 0.3754927591696382; terminals('144', '2') = 0.8737312075548009; 
terminals('145', '1') = 0.308705449202351; terminals('145', '2') = 0.8627045344125956; 
terminals('146', '1') = 0.29337751975518556; terminals('146', '2') = 0.3452191993674917; 
terminals('147', '1') = 0.5729766447970647; terminals('147', '2') = 0.7841279257680018; 
terminals('148', '1') = 0.39337344520069817; terminals('148', '2') = 0.5678710896776812; 
terminals('149', '1') = 0.5823694683420414; terminals('149', '2') = 0.46087891016221727; 
terminals('150', '1') = 0.768379754316752; terminals('150', '2') = 0.24785769283002013; 
terminals('151', '1') = 0.1679929246026004; terminals('151', '2') = 0.5877104089252747; 
terminals('152', '1') = 0.9998626929046663; terminals('152', '2') = 0.5005384811463833; 
terminals('153', '1') = 0.2327939162398892; terminals('153', '2') = 0.5719616372882022; 
terminals('154', '1') = 0.04325841121905416; terminals('154', '2') = 0.7425942219563965; 
terminals('155', '1') = 0.5781844430926704; terminals('155', '2') = 0.36617398617320807; 
terminals('156', '1') = 0.614545879998779; terminals('156', '2') = 0.4718676139080974; 
terminals('157', '1') = 0.32704554719424694; terminals('157', '2') = 0.6345733308921092; 
terminals('158', '1') = 0.10363703161879823; terminals('158', '2') = 0.7304839811986584; 
terminals('159', '1') = 0.04582263946502896; terminals('159', '2') = 0.9196273275652043; 
terminals('160', '1') = 0.8798536629742617; terminals('160', '2') = 0.10767880078424008; 
terminals('161', '1') = 0.6002442254194295; terminals('161', '2') = 0.8493788647495258; 
terminals('162', '1') = 0.9937698390260634; terminals('162', '2') = 0.93116987771534; 
terminals('163', '1') = 0.24035068779977364; terminals('163', '2') = 0.08560223559551572; 
terminals('164', '1') = 0.0036957716644958616; terminals('164', '2') = 0.9476022877190413; 
terminals('165', '1') = 0.06375480018032675; terminals('165', '2') = 0.6649248273088852; 
terminals('166', '1') = 0.4134191760084104; terminals('166', '2') = 0.9504381610882624; 
terminals('167', '1') = 0.5403129944647271; terminals('167', '2') = 0.36332831722644865; 
terminals('168', '1') = 0.5453231314936016; terminals('168', '2') = 0.40805153512786707; 
terminals('169', '1') = 0.4959664796865635; terminals('169', '2') = 0.009225332200014091; 
terminals('170', '1') = 0.15422144301867025; terminals('170', '2') = 0.7978232253460302; 
terminals('171', '1') = 0.6536399499833838; terminals('171', '2') = 0.3086432446638092; 
terminals('172', '1') = 0.4541852348624472; terminals('172', '2') = 0.6345990869234864; 
terminals('173', '1') = 0.8783538269985641; terminals('173', '2') = 0.46641897132117194; 
terminals('174', '1') = 0.603140161325163; terminals('174', '2') = 0.4353122748260314; 
terminals('175', '1') = 0.9421823190280707; terminals('175', '2') = 0.5277969649387199; 
terminals('176', '1') = 0.8869621927217378; terminals('176', '2') = 0.7238003742914093; 
terminals('177', '1') = 0.3947010513059789; terminals('177', '2') = 0.21876545393584756; 
terminals('178', '1') = 0.2644087768863691; terminals('178', '2') = 0.6288893159706113; 
terminals('179', '1') = 0.36562415095066536; terminals('179', '2') = 0.3285348607730938; 
terminals('180', '1') = 0.4674351592437377; terminals('180', '2') = 0.8035438159908812; 
Parameter bigM / 1.4142135623730951 /;
Positive Variables distance_Steiner_Steiner(i,ii), distance_Steiner_terminal(i,j), Steiner_points(i,k);
Steiner_points.up(i,k) = 1; distance_Steiner_Steiner.up(i,ii) = bigM; distance_Steiner_terminal.up(i,j) = bigM;
Binary Variables is_connected_Steiner_Steiner(i,ii), is_connected_Steiner_terminal(i,j);
Variable objective;
Equations objective_definition, distance_Steiner_Steiner_def(i,ii), distance_Steiner_terminal_def(i,j), assignment(j), cardinality(i), Steiner_connectivity(i);
objective_definition.. objective =e= sum(i, sum(ii$(ord(i)<ord(ii)), distance_Steiner_Steiner(i,ii)) + sum(j, distance_Steiner_terminal(i,j)));
distance_Steiner_Steiner_def(i,ii)$(ord(i)<ord(ii)).. distance_Steiner_Steiner(i,ii) =g= sqrt(sum(k, power(Steiner_points(i,k) - Steiner_points(ii,k), 2))) - bigM * (1 - is_connected_Steiner_Steiner(i,ii));
distance_Steiner_terminal_def(i,j).. distance_Steiner_terminal(i,j) =g= sqrt(sum(k, power(Steiner_points(i,k) - terminals(j,k), 2))) - bigM * (1 - is_connected_Steiner_terminal(i,j));
assignment(j).. sum(i, is_connected_Steiner_terminal(i,j)) =e= 1;
cardinality(i).. sum(j, is_connected_Steiner_terminal(i,j)) + sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) + sum(ii$(ord(i)<ord(ii)), is_connected_Steiner_Steiner(i,ii)) =e= 3;
Steiner_connectivity(i)$(ord(i)>1).. sum(ii$(ord(ii)<ord(i)), is_connected_Steiner_Steiner(ii,i)) =e= 1;
Model m / all /;
Solve m using minlp minimizing objective;
