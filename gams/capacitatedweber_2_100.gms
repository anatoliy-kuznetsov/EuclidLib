Sets
i facilities / 1*2 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.1481712063870836; community_y('1') = 0.642369253487115;
community_x('2') = 0.6159652870762236; community_y('2') = 0.22684890969867255;
community_x('3') = 0.1696858223856672; community_y('3') = 0.09287840829247751;
community_x('4') = 0.7125069473752076; community_y('4') = 0.1700446746814911;
community_x('5') = 0.6078324927574713; community_y('5') = 0.790136640628084;
community_x('6') = 0.38433747211697056; community_y('6') = 0.38965408257877987;
community_x('7') = 0.6174976336144677; community_y('7') = 0.8374824655378701;
community_x('8') = 0.5662524370946997; community_y('8') = 0.9674782523920583;
community_x('9') = 0.04322225395067769; community_y('9') = 0.9193444153760448;
community_x('10') = 0.5301182608529079; community_y('10') = 0.4691969837201496;
community_x('11') = 0.6196581925925164; community_y('11') = 0.007614189794129644;
community_x('12') = 0.5196090108527486; community_y('12') = 0.2763359949475276;
community_x('13') = 0.8794621988039206; community_y('13') = 0.21891289342041842;
community_x('14') = 0.7353111638937576; community_y('14') = 0.6490595968582039;
community_x('15') = 0.3771199616903099; community_y('15') = 0.7019187282281718;
community_x('16') = 0.22683975480569363; community_y('16') = 0.921635845573686;
community_x('17') = 0.12804929230317397; community_y('17') = 0.7051499721318728;
community_x('18') = 0.8102017421488793; community_y('18') = 0.9596570214115541;
community_x('19') = 0.6897863461357496; community_y('19') = 0.6380867147627937;
community_x('20') = 0.6093175752114222; community_y('20') = 0.4748025395910278;
community_x('21') = 0.44173186196672953; community_y('21') = 0.8367764141939996;
community_x('22') = 0.5010409566568936; community_y('22') = 0.274037627055136;
community_x('23') = 0.22202470685745557; community_y('23') = 0.7784792569529313;
community_x('24') = 0.5304092207971111; community_y('24') = 0.7274981304045184;
community_x('25') = 0.14535205431863896; community_y('25') = 0.866878068358578;
community_x('26') = 0.6211016134323646; community_y('26') = 0.06039874028490133;
community_x('27') = 0.6301669588584602; community_y('27') = 0.1884933089404438;
community_x('28') = 0.6702929740286904; community_y('28') = 0.9497766935823135;
community_x('29') = 0.24643972226449762; community_y('29') = 0.14208926361748575;
community_x('30') = 0.0920032026505958; community_y('30') = 0.45122200779483823;
community_x('31') = 0.3329814924114096; community_y('31') = 0.6017444536308383;
community_x('32') = 0.6876271977609839; community_y('32') = 0.48209658817026957;
community_x('33') = 0.5099139617935389; community_y('33') = 0.8792685201349845;
community_x('34') = 0.7476097166755182; community_y('34') = 0.9554063510994298;
community_x('35') = 0.43105344355280995; community_y('35') = 0.34131253170539244;
community_x('36') = 0.3984356308984758; community_y('36') = 0.13436171761490523;
community_x('37') = 0.9075742274877538; community_y('37') = 0.9145052789762187;
community_x('38') = 0.1670081269998045; community_y('38') = 0.45359210432727426;
community_x('39') = 0.207361698685663; community_y('39') = 0.24869084204201075;
community_x('40') = 0.588810937384122; community_y('40') = 0.1382614129372276;
community_x('41') = 0.6313978977119534; community_y('41') = 0.009038189506546779;
community_x('42') = 0.43283633982905234; community_y('42') = 0.5826924367186141;
community_x('43') = 0.558061194531541; community_y('43') = 0.2810006730279072;
community_x('44') = 0.4405835491765132; community_y('44') = 0.5563420068540305;
community_x('45') = 0.6686789003552472; community_y('45') = 0.9243419915405466;
community_x('46') = 0.8888180052277294; community_y('46') = 0.48435085256391075;
community_x('47') = 0.8250557580293206; community_y('47') = 0.9534054711183212;
community_x('48') = 0.6392351593252408; community_y('48') = 0.06679983504028753;
community_x('49') = 0.47013388304941917; community_y('49') = 0.7580474209649237;
community_x('50') = 0.947549093786097; community_y('50') = 0.7546720743365417;
community_x('51') = 0.44713445658186524; community_y('51') = 0.958822261133698;
community_x('52') = 0.625722601935596; community_y('52') = 0.030956873723823497;
community_x('53') = 0.86848001563126; community_y('53') = 0.5066606065691466;
community_x('54') = 0.6833968177985563; community_y('54') = 0.5563690258513142;
community_x('55') = 0.3907324615445543; community_y('55') = 0.5982703802148932;
community_x('56') = 0.7430146649849447; community_y('56') = 0.47116694043501794;
community_x('57') = 0.6002922846896216; community_y('57') = 0.2729164965395158;
community_x('58') = 0.9149936329046259; community_y('58') = 0.9028235651097745;
community_x('59') = 0.6230824303806389; community_y('59') = 0.8779686447238773;
community_x('60') = 0.5336704465529557; community_y('60') = 0.7012539147147643;
community_x('61') = 0.9740135846261422; community_y('61') = 0.9592031259816337;
community_x('62') = 0.5276465047027614; community_y('62') = 0.5534479089465376;
community_x('63') = 0.3984372624700758; community_y('63') = 0.07944891446015923;
community_x('64') = 0.937706041886965; community_y('64') = 0.6940247542830529;
community_x('65') = 0.944072305224568; community_y('65') = 0.10488047541630752;
community_x('66') = 0.1720169060478799; community_y('66') = 0.7508727298248045;
community_x('67') = 0.07241963430249276; community_y('67') = 0.6486338127967799;
community_x('68') = 0.8580610195032999; community_y('68') = 0.20689535826065142;
community_x('69') = 0.882732129932461; community_y('69') = 0.15241759104218122;
community_x('70') = 0.38447049801241107; community_y('70') = 0.06748351977835065;
community_x('71') = 0.25472300809156123; community_y('71') = 0.17686179181408812;
community_x('72') = 0.6844848833047075; community_y('72') = 0.9780387908006142;
community_x('73') = 0.940110923141697; community_y('73') = 0.22795060752600993;
community_x('74') = 0.21309055622512596; community_y('74') = 0.8840189533042112;
community_x('75') = 0.44783206426633204; community_y('75') = 0.1344569086647538;
community_x('76') = 0.6626810368657697; community_y('76') = 0.33862180076998705;
community_x('77') = 0.2208128013881404; community_y('77') = 0.4722570573883118;
community_x('78') = 0.4148559580537441; community_y('78') = 0.3583530356053648;
community_x('79') = 0.1429283812648664; community_y('79') = 0.9643561798822872;
community_x('80') = 0.47970701405230054; community_y('80') = 0.24014802432098814;
community_x('81') = 0.2299135477108002; community_y('81') = 0.48360179864997055;
community_x('82') = 0.08065001101513203; community_y('82') = 0.20514479572511057;
community_x('83') = 0.3891545703670215; community_y('83') = 0.10911238968596793;
community_x('84') = 0.15019923534805246; community_y('84') = 0.6904630337867262;
community_x('85') = 0.11885816437133989; community_y('85') = 0.33912005534313294;
community_x('86') = 0.1506050527418341; community_y('86') = 0.4870391826090873;
community_x('87') = 0.41769926453761075; community_y('87') = 0.6927744129450694;
community_x('88') = 0.3178517540304747; community_y('88') = 0.08884381201937097;
community_x('89') = 0.7283009398374655; community_y('89') = 0.054490244164974944;
community_x('90') = 0.41437564598584453; community_y('90') = 0.6875257749520987;
community_x('91') = 0.2432368429751851; community_y('91') = 0.9937547908118829;
community_x('92') = 0.18803437565256964; community_y('92') = 0.018475249021527307;
community_x('93') = 0.2971176343663652; community_y('93') = 0.4522276075610293;
community_x('94') = 0.7433126246909785; community_y('94') = 0.9946540453504705;
community_x('95') = 0.2015291379570764; community_y('95') = 0.833033829586692;
community_x('96') = 0.4652594639920715; community_y('96') = 0.9893799148542813;
community_x('97') = 0.8066797687263928; community_y('97') = 0.5291893312825904;
community_x('98') = 0.8297399043547644; community_y('98') = 0.9717695267640402;
community_x('99') = 0.4623512966309189; community_y('99') = 0.05595549139864653;
community_x('100') = 0.8427344129015435; community_y('100') = 0.4719665942022744;
demand('1') = 0.8478396215107292;
demand('2') = 0.39063230201657206;
demand('3') = 0.44064306614560955;
demand('4') = 0.4490611086111319;
demand('5') = 0.3797540886810895;
demand('6') = 0.8129507075995029;
demand('7') = 0.9728116738647513;
demand('8') = 0.2307456452706591;
demand('9') = 0.32247212665272895;
demand('10') = 0.8038335910174039;
demand('11') = 0.7439316135457867;
demand('12') = 0.8143075755827427;
demand('13') = 0.6818422594367057;
demand('14') = 0.9149427205131596;
demand('15') = 0.8449049078787563;
demand('16') = 0.6336788475741876;
demand('17') = 0.283643280307859;
demand('18') = 0.08512722785740012;
demand('19') = 0.8600155677855726;
demand('20') = 0.8580590249388124;
demand('21') = 0.8915107461587839;
demand('22') = 0.26492154068972895;
demand('23') = 0.7384668105392608;
demand('24') = 0.930499637072512;
demand('25') = 0.20675611555868612;
demand('26') = 0.023570356723772945;
demand('27') = 0.17402117359768443;
demand('28') = 0.218848371785211;
demand('29') = 0.6800016060153306;
demand('30') = 0.8213290666921321;
demand('31') = 0.8187737904844413;
demand('32') = 0.6890967264951886;
demand('33') = 0.978394018153203;
demand('34') = 0.972277304734167;
demand('35') = 0.43938866701720203;
demand('36') = 0.9214971393483024;
demand('37') = 0.7190200359480183;
demand('38') = 0.24505036772425315;
demand('39') = 0.5853101663190206;
demand('40') = 0.1705290431295764;
demand('41') = 0.3998237810303309;
demand('42') = 0.8129971885072761;
demand('43') = 0.009901179438909335;
demand('44') = 0.536512248392447;
demand('45') = 0.43568540287412905;
demand('46') = 0.28299598771151324;
demand('47') = 0.06466976512060485;
demand('48') = 0.523366043252325;
demand('49') = 0.33356127455682016;
demand('50') = 0.09737890051619824;
demand('51') = 0.40144029200812037;
demand('52') = 0.6793387752835056;
demand('53') = 0.07960376459114948;
demand('54') = 0.7852114941225634;
demand('55') = 0.083271544426613;
demand('56') = 0.47058160776972235;
demand('57') = 0.36659556594020426;
demand('58') = 0.8573530391973967;
demand('59') = 0.8928585699765678;
demand('60') = 0.7372285731226911;
demand('61') = 0.2942245230925543;
demand('62') = 0.3245118175123264;
demand('63') = 0.8248222134517159;
demand('64') = 0.5098794521834087;
demand('65') = 0.6352147984448883;
demand('66') = 0.7238780422703042;
demand('67') = 0.19173092548405923;
demand('68') = 0.3847609254715435;
demand('69') = 0.9543387471367549;
demand('70') = 0.3321285436569369;
demand('71') = 0.8484200307036355;
demand('72') = 0.15473902600042921;
demand('73') = 0.014115229862842305;
demand('74') = 0.5024443829737971;
demand('75') = 0.2831365527153711;
demand('76') = 0.5958007105332077;
demand('77') = 0.7699170107139856;
demand('78') = 0.03887228616212324;
demand('79') = 0.4993238924529756;
demand('80') = 0.37365310208834557;
demand('81') = 0.9059358912210455;
demand('82') = 0.8442712423681386;
demand('83') = 0.8846090438137552;
demand('84') = 0.741528574206871;
demand('85') = 0.34688911410580914;
demand('86') = 0.6193187086628904;
demand('87') = 0.5441314423533941;
demand('88') = 0.3680042495661152;
demand('89') = 0.2899732713612526;
demand('90') = 0.6487980194317748;
demand('91') = 0.896284348589267;
demand('92') = 0.24188746712928888;
demand('93') = 0.355860979769444;
demand('94') = 0.15824901146505843;
demand('95') = 0.36513957486535664;
demand('96') = 0.3884784947249107;
demand('97') = 0.09361374662761934;
demand('98') = 0.6451591673918524;
demand('99') = 0.34382259235599777;
demand('100') = 0.8067285782774288;
capacity('1') = 13.688912871381653;
capacity('2') = 41.3892890171343;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
