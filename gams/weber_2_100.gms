Sets
i facilities / 1*2 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j);
community_x('1') = 0.1481712063870836; community_y('1') = 0.642369253487115;
community_x('2') = 0.6159652870762236; community_y('2') = 0.22684890969867255;
community_x('3') = 0.1696858223856672; community_y('3') = 0.09287840829247751;
community_x('4') = 0.7125069473752076; community_y('4') = 0.1700446746814911;
community_x('5') = 0.6078324927574713; community_y('5') = 0.790136640628084;
community_x('6') = 0.38433747211697056; community_y('6') = 0.38965408257877987;
community_x('7') = 0.6174976336144677; community_y('7') = 0.8374824655378701;
community_x('8') = 0.5662524370946997; community_y('8') = 0.9674782523920583;
community_x('9') = 0.04322225395067769; community_y('9') = 0.9193444153760448;
community_x('10') = 0.5301182608529079; community_y('10') = 0.4691969837201496;
community_x('11') = 0.6196581925925164; community_y('11') = 0.007614189794129644;
community_x('12') = 0.5196090108527486; community_y('12') = 0.2763359949475276;
community_x('13') = 0.8794621988039206; community_y('13') = 0.21891289342041842;
community_x('14') = 0.7353111638937576; community_y('14') = 0.6490595968582039;
community_x('15') = 0.3771199616903099; community_y('15') = 0.7019187282281718;
community_x('16') = 0.22683975480569363; community_y('16') = 0.921635845573686;
community_x('17') = 0.12804929230317397; community_y('17') = 0.7051499721318728;
community_x('18') = 0.8102017421488793; community_y('18') = 0.9596570214115541;
community_x('19') = 0.6897863461357496; community_y('19') = 0.6380867147627937;
community_x('20') = 0.6093175752114222; community_y('20') = 0.4748025395910278;
community_x('21') = 0.44173186196672953; community_y('21') = 0.8367764141939996;
community_x('22') = 0.5010409566568936; community_y('22') = 0.274037627055136;
community_x('23') = 0.22202470685745557; community_y('23') = 0.7784792569529313;
community_x('24') = 0.5304092207971111; community_y('24') = 0.7274981304045184;
community_x('25') = 0.14535205431863896; community_y('25') = 0.866878068358578;
community_x('26') = 0.6211016134323646; community_y('26') = 0.06039874028490133;
community_x('27') = 0.6301669588584602; community_y('27') = 0.1884933089404438;
community_x('28') = 0.6702929740286904; community_y('28') = 0.9497766935823135;
community_x('29') = 0.24643972226449762; community_y('29') = 0.14208926361748575;
community_x('30') = 0.0920032026505958; community_y('30') = 0.45122200779483823;
community_x('31') = 0.3329814924114096; community_y('31') = 0.6017444536308383;
community_x('32') = 0.6876271977609839; community_y('32') = 0.48209658817026957;
community_x('33') = 0.5099139617935389; community_y('33') = 0.8792685201349845;
community_x('34') = 0.7476097166755182; community_y('34') = 0.9554063510994298;
community_x('35') = 0.43105344355280995; community_y('35') = 0.34131253170539244;
community_x('36') = 0.3984356308984758; community_y('36') = 0.13436171761490523;
community_x('37') = 0.9075742274877538; community_y('37') = 0.9145052789762187;
community_x('38') = 0.1670081269998045; community_y('38') = 0.45359210432727426;
community_x('39') = 0.207361698685663; community_y('39') = 0.24869084204201075;
community_x('40') = 0.588810937384122; community_y('40') = 0.1382614129372276;
community_x('41') = 0.6313978977119534; community_y('41') = 0.009038189506546779;
community_x('42') = 0.43283633982905234; community_y('42') = 0.5826924367186141;
community_x('43') = 0.558061194531541; community_y('43') = 0.2810006730279072;
community_x('44') = 0.4405835491765132; community_y('44') = 0.5563420068540305;
community_x('45') = 0.6686789003552472; community_y('45') = 0.9243419915405466;
community_x('46') = 0.8888180052277294; community_y('46') = 0.48435085256391075;
community_x('47') = 0.8250557580293206; community_y('47') = 0.9534054711183212;
community_x('48') = 0.6392351593252408; community_y('48') = 0.06679983504028753;
community_x('49') = 0.47013388304941917; community_y('49') = 0.7580474209649237;
community_x('50') = 0.947549093786097; community_y('50') = 0.7546720743365417;
community_x('51') = 0.44713445658186524; community_y('51') = 0.958822261133698;
community_x('52') = 0.625722601935596; community_y('52') = 0.030956873723823497;
community_x('53') = 0.86848001563126; community_y('53') = 0.5066606065691466;
community_x('54') = 0.6833968177985563; community_y('54') = 0.5563690258513142;
community_x('55') = 0.3907324615445543; community_y('55') = 0.5982703802148932;
community_x('56') = 0.7430146649849447; community_y('56') = 0.47116694043501794;
community_x('57') = 0.6002922846896216; community_y('57') = 0.2729164965395158;
community_x('58') = 0.9149936329046259; community_y('58') = 0.9028235651097745;
community_x('59') = 0.6230824303806389; community_y('59') = 0.8779686447238773;
community_x('60') = 0.5336704465529557; community_y('60') = 0.7012539147147643;
community_x('61') = 0.9740135846261422; community_y('61') = 0.9592031259816337;
community_x('62') = 0.5276465047027614; community_y('62') = 0.5534479089465376;
community_x('63') = 0.3984372624700758; community_y('63') = 0.07944891446015923;
community_x('64') = 0.937706041886965; community_y('64') = 0.6940247542830529;
community_x('65') = 0.944072305224568; community_y('65') = 0.10488047541630752;
community_x('66') = 0.1720169060478799; community_y('66') = 0.7508727298248045;
community_x('67') = 0.07241963430249276; community_y('67') = 0.6486338127967799;
community_x('68') = 0.8580610195032999; community_y('68') = 0.20689535826065142;
community_x('69') = 0.882732129932461; community_y('69') = 0.15241759104218122;
community_x('70') = 0.38447049801241107; community_y('70') = 0.06748351977835065;
community_x('71') = 0.25472300809156123; community_y('71') = 0.17686179181408812;
community_x('72') = 0.6844848833047075; community_y('72') = 0.9780387908006142;
community_x('73') = 0.940110923141697; community_y('73') = 0.22795060752600993;
community_x('74') = 0.21309055622512596; community_y('74') = 0.8840189533042112;
community_x('75') = 0.44783206426633204; community_y('75') = 0.1344569086647538;
community_x('76') = 0.6626810368657697; community_y('76') = 0.33862180076998705;
community_x('77') = 0.2208128013881404; community_y('77') = 0.4722570573883118;
community_x('78') = 0.4148559580537441; community_y('78') = 0.3583530356053648;
community_x('79') = 0.1429283812648664; community_y('79') = 0.9643561798822872;
community_x('80') = 0.47970701405230054; community_y('80') = 0.24014802432098814;
community_x('81') = 0.2299135477108002; community_y('81') = 0.48360179864997055;
community_x('82') = 0.08065001101513203; community_y('82') = 0.20514479572511057;
community_x('83') = 0.3891545703670215; community_y('83') = 0.10911238968596793;
community_x('84') = 0.15019923534805246; community_y('84') = 0.6904630337867262;
community_x('85') = 0.11885816437133989; community_y('85') = 0.33912005534313294;
community_x('86') = 0.1506050527418341; community_y('86') = 0.4870391826090873;
community_x('87') = 0.41769926453761075; community_y('87') = 0.6927744129450694;
community_x('88') = 0.3178517540304747; community_y('88') = 0.08884381201937097;
community_x('89') = 0.7283009398374655; community_y('89') = 0.054490244164974944;
community_x('90') = 0.41437564598584453; community_y('90') = 0.6875257749520987;
community_x('91') = 0.2432368429751851; community_y('91') = 0.9937547908118829;
community_x('92') = 0.18803437565256964; community_y('92') = 0.018475249021527307;
community_x('93') = 0.2971176343663652; community_y('93') = 0.4522276075610293;
community_x('94') = 0.7433126246909785; community_y('94') = 0.9946540453504705;
community_x('95') = 0.2015291379570764; community_y('95') = 0.833033829586692;
community_x('96') = 0.4652594639920715; community_y('96') = 0.9893799148542813;
community_x('97') = 0.8066797687263928; community_y('97') = 0.5291893312825904;
community_x('98') = 0.8297399043547644; community_y('98') = 0.9717695267640402;
community_x('99') = 0.4623512966309189; community_y('99') = 0.05595549139864653;
community_x('100') = 0.8427344129015435; community_y('100') = 0.4719665942022744;
Parameters weights(i,j);
weights('1', '1') = 0.6956792430214584; weights('2', '1') = -0.5144727316293551; 
weights('1', '2') = -0.21873539596685587; weights('2', '2') = 0.4680222326715746; 
weights('1', '3') = -0.1187138677087809; weights('2', '3') = 0.9593215272229598; 
weights('1', '4') = -0.10187778277773618; weights('2', '4') = -0.6617298977370103; 
weights('1', '5') = -0.24049182263782098; weights('2', '5') = -0.2594146648845965; 
weights('1', '6') = 0.6259014151990059; weights('2', '6') = 0.9429850255462844; 
weights('1', '7') = 0.9456233477295026; weights('2', '7') = -0.19316587653218287; 
weights('1', '8') = -0.5385087094586818; weights('2', '8') = -0.34271301559626877; 
weights('1', '9') = -0.3550557466945421; weights('2', '9') = -0.6930460257772952; 
weights('1', '10') = 0.6076671820348079; weights('2', '10') = 0.6585032196057314; 
weights('1', '11') = 0.4878632270915735; weights('2', '11') = -0.34822783195426354; 
weights('1', '12') = 0.6286151511654854; weights('2', '12') = 0.7588006991029623; 
weights('1', '13') = 0.36368451887341147; weights('2', '13') = 0.11602159400727974; 
weights('1', '14') = 0.8298854410263192; weights('2', '14') = -0.6403215820260224; 
weights('1', '15') = 0.6898098157575125; weights('2', '15') = 0.9854690301477602; 
weights('1', '16') = 0.26735769514837515; weights('2', '16') = 0.8010424215463445; 
weights('1', '17') = -0.432713439384282; weights('2', '17') = 0.49747174959193163; 
weights('1', '18') = -0.8297455442851998; weights('2', '18') = 0.20273813404548258; 
weights('1', '19') = 0.7200311355711453; weights('2', '19') = 0.5076037762261842; 
weights('1', '20') = 0.7161180498776247; weights('2', '20') = 0.8954465832982521; 
weights('1', '21') = 0.7830214923175678; weights('2', '21') = -0.6055627643395991; 
weights('1', '22') = -0.4701569186205421; weights('2', '22') = -0.5174282949827671; 
weights('1', '23') = 0.47693362107852155; weights('2', '23') = 0.5247296692075798; 
weights('1', '24') = 0.8609992741450241; weights('2', '24') = -0.16482015334142086; 
weights('1', '25') = -0.5864877688826278; weights('2', '25') = 0.9701635458751927; 
weights('1', '26') = -0.9528592865524541; weights('2', '26') = 0.6678635649289244; 
weights('1', '27') = -0.6519576528046311; weights('2', '27') = 0.04298811983495754; 
weights('1', '28') = -0.562303256429578; weights('2', '28') = -0.6807486845801958; 
weights('1', '29') = 0.3600032120306611; weights('2', '29') = 0.22390113094601483; 
weights('1', '30') = 0.6426581333842643; weights('2', '30') = 0.20307961323644586; 
weights('1', '31') = 0.6375475809688826; weights('2', '31') = 0.16053577493428817; 
weights('1', '32') = 0.3781934529903772; weights('2', '32') = 0.5577153767841685; 
weights('1', '33') = 0.9567880363064061; weights('2', '33') = -0.04507882866871138; 
weights('1', '34') = 0.9445546094683339; weights('2', '34') = 0.7853392489156612; 
weights('1', '35') = -0.12122266596559594; weights('2', '35') = 0.19052953651184557; 
weights('1', '36') = 0.8429942786966047; weights('2', '36') = -0.6789263157967587; 
weights('1', '37') = 0.43804007189603666; weights('2', '37') = 0.6417464564923301; 
weights('1', '38') = -0.5098992645514937; weights('2', '38') = -0.6624259379609869; 
weights('1', '39') = 0.1706203326380411; weights('2', '39') = 0.8111569347332463; 
weights('1', '40') = -0.6589419137408472; weights('2', '40') = 0.8538821144203241; 
weights('1', '41') = -0.2003524379393382; weights('2', '41') = -0.6092058163529701; 
weights('1', '42') = 0.6259943770145522; weights('2', '42') = -0.5975232765570244; 
weights('1', '43') = -0.9801976411221813; weights('2', '43') = 0.4046511677332314; 
weights('1', '44') = 0.07302449678489409; weights('2', '44') = -0.08644610139120212; 
weights('1', '45') = -0.1286291942517419; weights('2', '45') = -0.250593914252933; 
weights('1', '46') = -0.4340080245769735; weights('2', '46') = 0.5022612888097728; 
weights('1', '47') = -0.8706604697587903; weights('2', '47') = -0.3291267383168244; 
weights('1', '48') = 0.046732086504650105; weights('2', '48') = -0.7389201495626763; 
weights('1', '49') = -0.33287745088635967; weights('2', '49') = 0.10220098606076755; 
weights('1', '50') = -0.8052421989676035; weights('2', '50') = 0.7546018324321153; 
weights('1', '51') = -0.19711941598375926; weights('2', '51') = 0.9196435612462126; 
weights('1', '52') = 0.3586775505670112; weights('2', '52') = -0.787831678171766; 
weights('1', '53') = -0.840792470817701; weights('2', '53') = 0.4919956021496201; 
weights('1', '54') = 0.5704229882451268; weights('2', '54') = -0.35235253453300897; 
weights('1', '55') = -0.833456911146774; weights('2', '55') = 0.9419947350868021; 
weights('1', '56') = -0.05883678446055529; weights('2', '56') = -0.21966212536253082; 
weights('1', '57') = -0.2668088681195915; weights('2', '57') = -0.794824919087779; 
weights('1', '58') = 0.7147060783947934; weights('2', '58') = -0.33841850121179085; 
weights('1', '59') = 0.7857171399531355; weights('2', '59') = 0.03081204910727231; 
weights('1', '60') = 0.47445714624538216; weights('2', '60') = -0.6484802776294967; 
weights('1', '61') = -0.4115509538148914; weights('2', '61') = 0.5397797769727535; 
weights('1', '62') = -0.35097636497534723; weights('2', '62') = -0.3412156755133786; 
weights('1', '63') = 0.6496444269034318; weights('2', '63') = 0.48428389876375255; 
weights('1', '64') = 0.019758904366817376; weights('2', '64') = -0.5351799209702268; 
weights('1', '65') = 0.2704295968897765; weights('2', '65') = -0.01765721562562028; 
weights('1', '66') = 0.44775608454060833; weights('2', '66') = 0.319204123881893; 
weights('1', '67') = -0.6165381490318815; weights('2', '67') = -0.5867751589229657; 
weights('1', '68') = -0.230478149056913; weights('2', '68') = -0.4214410689779362; 
weights('1', '69') = 0.9086774942735099; weights('2', '69') = 0.6793023808682024; 
weights('1', '70') = -0.3357429126861262; weights('2', '70') = -0.2115160912216294; 
weights('1', '71') = 0.696840061407271; weights('2', '71') = -0.30285432424806746; 
weights('1', '72') = -0.6905219479991416; weights('2', '72') = 0.23540652756011582; 
weights('1', '73') = -0.9717695402743154; weights('2', '73') = 0.382589463733948; 
weights('1', '74') = 0.004888765947594242; weights('2', '74') = 0.7284634687841627; 
weights('1', '75') = -0.43372689456925784; weights('2', '75') = 0.12993124545304902; 
weights('1', '76') = 0.19160142106641542; weights('2', '76') = 0.7081414568931061; 
weights('1', '77') = 0.5398340214279711; weights('2', '77') = 0.7858358249040351; 
weights('1', '78') = -0.9222554276757535; weights('2', '78') = 0.8537053950039812; 
weights('1', '79') = -0.0013522150940488142; weights('2', '79') = 0.8388299125404861; 
weights('1', '80') = -0.25269379582330886; weights('2', '80') = 0.3887390261219077; 
weights('1', '81') = 0.8118717824420909; weights('2', '81') = 0.39192071604812484; 
weights('1', '82') = 0.6885424847362771; weights('2', '82') = -0.22201703834519493; 
weights('1', '83') = 0.7692180876275103; weights('2', '83') = -0.7871109243235745; 
weights('1', '84') = 0.48305714841374203; weights('2', '84') = 0.8449971329497521; 
weights('1', '85') = -0.3062217717883817; weights('2', '85') = -0.17136533586337155; 
weights('1', '86') = 0.2386374173257808; weights('2', '86') = -0.32405837641903745; 
weights('1', '87') = 0.08826288470678811; weights('2', '87') = 0.09796944010797337; 
weights('1', '88') = -0.26399150086776957; weights('2', '88') = 0.5117971134263395; 
weights('1', '89') = -0.42005345727749477; weights('2', '89') = 0.6597316268827449; 
weights('1', '90') = 0.2975960388635497; weights('2', '90') = -0.7716471759198074; 
weights('1', '91') = 0.792568697178534; weights('2', '91') = 0.5676828654956143; 
weights('1', '92') = -0.5162250657414222; weights('2', '92') = 0.8820411681306637; 
weights('1', '93') = -0.28827804046111205; weights('2', '93') = 0.9564298126393795; 
weights('1', '94') = -0.6835019770698831; weights('2', '94') = 0.8841261051117051; 
weights('1', '95') = -0.2697208502692867; weights('2', '95') = 0.14380416532443552; 
weights('1', '96') = -0.2230430105501786; weights('2', '96') = 0.7782775379721734; 
weights('1', '97') = -0.8127725067447613; weights('2', '97') = 0.18157988167243744; 
weights('1', '98') = 0.29031833478370483; weights('2', '98') = 0.6973954566434086; 
weights('1', '99') = -0.31235481528800446; weights('2', '99') = 0.9795336002383552; 
weights('1', '100') = 0.6134571565548577; weights('2', '100') = -0.2500304018472188; 
Positive Variables x(i), y(i);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition;
objective_definition.. objective =e= sum(i, sum(j, weights(i,j) * sqrt(power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
Model m / all /;
Solve m using nlp minimizing objective;
