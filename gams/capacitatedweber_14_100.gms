Sets
i facilities / 1*14 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.2409355011784946; community_y('1') = 0.4401872204028118;
community_x('2') = 0.09788722795509186; community_y('2') = 0.6047506232769516;
community_x('3') = 0.665926091097012; community_y('3') = 0.6053727376644363;
community_x('4') = 0.24347413052833067; community_y('4') = 0.7167270920472096;
community_x('5') = 0.6242650378325879; community_y('5') = 0.415789184273205;
community_x('6') = 0.1535393336315758; community_y('6') = 0.12036139015523095;
community_x('7') = 0.9808182383376035; community_y('7') = 0.33680992088411144;
community_x('8') = 0.6747377851400587; community_y('8') = 0.3556517594080054;
community_x('9') = 0.29416638301047937; community_y('9') = 0.04343877051206002;
community_x('10') = 0.06364848865198969; community_y('10') = 0.17557511491500954;
community_x('11') = 0.8372478692625713; community_y('11') = 0.6697095288285249;
community_x('12') = 0.8977268216937713; community_y('12') = 0.5168140184393059;
community_x('13') = 0.33776569147376767; community_y('13') = 0.18863256996791722;
community_x('14') = 0.10630772882140016; community_y('14') = 0.847892099179284;
community_x('15') = 0.977685750227128; community_y('15') = 0.04775952772849423;
community_x('16') = 0.8944055720898203; community_y('16') = 0.0008074336175889485;
community_x('17') = 0.46246941682107867; community_y('17') = 0.6564842514987694;
community_x('18') = 0.11047924011177657; community_y('18') = 0.8947142047830674;
community_x('19') = 0.7516124689869315; community_y('19') = 0.8577978124261572;
community_x('20') = 0.9707516173091322; community_y('20') = 0.6402138645185957;
community_x('21') = 0.3014369672872832; community_y('21') = 0.4516914960144899;
community_x('22') = 0.36958463882033954; community_y('22') = 0.25715099323828006;
community_x('23') = 0.8689817486998613; community_y('23') = 0.9376436556861814;
community_x('24') = 0.7498951902440594; community_y('24') = 0.6587861014108464;
community_x('25') = 0.9168485062963855; community_y('25') = 0.19888495376666548;
community_x('26') = 0.6219036389886597; community_y('26') = 0.8796929083779849;
community_x('27') = 0.23090445607366117; community_y('27') = 0.7460395143169136;
community_x('28') = 0.9507918032438718; community_y('28') = 0.9693533851255064;
community_x('29') = 0.8099710138426494; community_y('29') = 0.379081861164032;
community_x('30') = 0.865140541072678; community_y('30') = 0.4380122605995692;
community_x('31') = 0.33455197932682734; community_y('31') = 0.57685393157351;
community_x('32') = 0.3032571817555536; community_y('32') = 0.29705377315661485;
community_x('33') = 0.9744478664180113; community_y('33') = 0.2974216252021451;
community_x('34') = 0.9251411922131447; community_y('34') = 0.9292853822905893;
community_x('35') = 0.09914027877504539; community_y('35') = 0.8240904841545754;
community_x('36') = 0.07930633326885228; community_y('36') = 0.8864360697403028;
community_x('37') = 0.1332688449022158; community_y('37') = 0.7527379424257378;
community_x('38') = 0.6613334912531529; community_y('38') = 0.6527132733907478;
community_x('39') = 0.25086745877065475; community_y('39') = 0.04066142688013574;
community_x('40') = 0.16755109100883414; community_y('40') = 0.8192371178857015;
community_x('41') = 0.5192842914832992; community_y('41') = 0.1989235720780319;
community_x('42') = 0.9629993453063294; community_y('42') = 0.631256069518054;
community_x('43') = 0.47947807865667913; community_y('43') = 0.6481356070035712;
community_x('44') = 0.08231716997009131; community_y('44') = 0.20083133884757076;
community_x('45') = 0.13958554789448718; community_y('45') = 0.7142468318208406;
community_x('46') = 0.299191376883868; community_y('46') = 0.07967432498386129;
community_x('47') = 0.3334168051283971; community_y('47') = 0.10760781092960803;
community_x('48') = 0.20939365352983652; community_y('48') = 0.7614004103712453;
community_x('49') = 0.08214397931114781; community_y('49') = 0.3230763390951775;
community_x('50') = 0.33986888146094796; community_y('50') = 0.5027047265956843;
community_x('51') = 0.21839224722799655; community_y('51') = 0.6358740097618747;
community_x('52') = 0.20617588938252507; community_y('52') = 0.5378703026928808;
community_x('53') = 0.08481641967763387; community_y('53') = 0.853960199218537;
community_x('54') = 0.566515724905533; community_y('54') = 0.8119470307064088;
community_x('55') = 0.756702925374961; community_y('55') = 0.25876503196556533;
community_x('56') = 0.35200778664040444; community_y('56') = 0.09779036476617742;
community_x('57') = 0.10904149968909216; community_y('57') = 0.47880360477553097;
community_x('58') = 0.42315210081461374; community_y('58') = 0.9314401677966248;
community_x('59') = 0.0751377773377776; community_y('59') = 0.24001958547241975;
community_x('60') = 0.13462330401981848; community_y('60') = 0.7872232979067807;
community_x('61') = 0.2617293410218945; community_y('61') = 0.45496001577451994;
community_x('62') = 0.9032230044986702; community_y('62') = 0.9534240914574998;
community_x('63') = 0.0563904838399828; community_y('63') = 0.054436816289954226;
community_x('64') = 0.4869579750099765; community_y('64') = 0.2005134333021995;
community_x('65') = 0.014157610533445886; community_y('65') = 0.7728710425849722;
community_x('66') = 0.35546571961602313; community_y('66') = 0.9774644452808952;
community_x('67') = 0.9802746527369346; community_y('67') = 0.9500985027881205;
community_x('68') = 0.8415895628730107; community_y('68') = 0.8610225151031107;
community_x('69') = 0.4694723944355246; community_y('69') = 0.2869103931744861;
community_x('70') = 0.26391218482368095; community_y('70') = 0.5361941819206345;
community_x('71') = 0.26344352594538767; community_y('71') = 0.003746855402259497;
community_x('72') = 0.543287057040393; community_y('72') = 0.46349403880616913;
community_x('73') = 0.43898451983442477; community_y('73') = 0.49392637976690723;
community_x('74') = 0.26425168915644404; community_y('74') = 0.09454380693795694;
community_x('75') = 0.03458505955991564; community_y('75') = 0.18536417918889858;
community_x('76') = 0.7816157919867546; community_y('76') = 0.8740227198567575;
community_x('77') = 0.9992632641571916; community_y('77') = 0.5335124706943174;
community_x('78') = 0.961997480343157; community_y('78') = 0.6697673127371078;
community_x('79') = 0.5073656534576684; community_y('79') = 0.849125237048785;
community_x('80') = 0.4011316145835707; community_y('80') = 0.9381511356756654;
community_x('81') = 0.11618778736854718; community_y('81') = 0.9514857551532812;
community_x('82') = 0.9887290496283893; community_y('82') = 0.23753440792464275;
community_x('83') = 0.43758588666622134; community_y('83') = 0.6118094972215095;
community_x('84') = 0.06975356488626305; community_y('84') = 0.07835961465235375;
community_x('85') = 0.9695834103877805; community_y('85') = 0.24068890944139787;
community_x('86') = 0.6516577509284129; community_y('86') = 0.3785860388006125;
community_x('87') = 0.7427562954242752; community_y('87') = 0.04385305331464606;
community_x('88') = 0.5370143086717786; community_y('88') = 0.12474742833423547;
community_x('89') = 0.21379706607585525; community_y('89') = 0.6383969482560479;
community_x('90') = 0.8015549078878443; community_y('90') = 0.8143376549455512;
community_x('91') = 0.7452274261403793; community_y('91') = 0.37801036826499823;
community_x('92') = 0.5106090286910255; community_y('92') = 0.16013524186092043;
community_x('93') = 0.9404716848263656; community_y('93') = 0.6501795374090633;
community_x('94') = 0.17898589506024198; community_y('94') = 0.1491476534778885;
community_x('95') = 0.9594102782255692; community_y('95') = 0.8802189162146091;
community_x('96') = 0.5807137370536416; community_y('96') = 0.02374163860586498;
community_x('97') = 0.1112315113345963; community_y('97') = 0.22497280225735994;
community_x('98') = 0.8368927081206242; community_y('98') = 0.9129509340900148;
community_x('99') = 0.8620833610131631; community_y('99') = 0.7102143158851233;
community_x('100') = 0.8199377457537502; community_y('100') = 0.3139035207803188;
demand('1') = 0.0701216181736235;
demand('2') = 0.6454929827735414;
demand('3') = 0.4642737931581423;
demand('4') = 0.053681961977518844;
demand('5') = 0.9238176413912246;
demand('6') = 0.10240719612376037;
demand('7') = 0.7595056175093369;
demand('8') = 0.48282237434877373;
demand('9') = 0.6607930292933738;
demand('10') = 0.09901752545370002;
demand('11') = 0.8629123018774388;
demand('12') = 0.982768629363836;
demand('13') = 0.007342640785872767;
demand('14') = 0.35821764846742377;
demand('15') = 0.6355745552283837;
demand('16') = 0.5551716123610632;
demand('17') = 0.8739967104982673;
demand('18') = 0.5329942504753865;
demand('19') = 0.34277170725756656;
demand('20') = 0.9962711538200062;
demand('21') = 0.3049951153206649;
demand('22') = 0.6234916495234605;
demand('23') = 0.3239444567703319;
demand('24') = 0.019029111437213087;
demand('25') = 0.5665142801469171;
demand('26') = 0.42493507597652425;
demand('27') = 0.018868306924431533;
demand('28') = 0.8294454455204008;
demand('29') = 0.6697666966058764;
demand('30') = 0.7672112129099719;
demand('31') = 0.49932138555274186;
demand('32') = 0.6174433563026727;
demand('33') = 0.24930652659978825;
demand('34') = 0.4917485894705015;
demand('35') = 0.6094504336400833;
demand('36') = 0.49884698274985384;
demand('37') = 0.49883537015573776;
demand('38') = 0.402682207765236;
demand('39') = 0.18206598412635877;
demand('40') = 0.198594365225779;
demand('41') = 0.2741867413016348;
demand('42') = 0.9750067415061029;
demand('43') = 0.16717231207537042;
demand('44') = 0.33144240167532113;
demand('45') = 0.07311991582778254;
demand('46') = 0.33597166079976604;
demand('47') = 0.693071900859137;
demand('48') = 0.2648344316233745;
demand('49') = 0.9693997447150493;
demand('50') = 0.39003315228918356;
demand('51') = 0.12494291770703025;
demand('52') = 0.8621713628477343;
demand('53') = 0.3147312315436035;
demand('54') = 0.46000056544358303;
demand('55') = 0.8362832031922616;
demand('56') = 0.31880045498189213;
demand('57') = 0.8023484969489061;
demand('58') = 0.06461941745523858;
demand('59') = 0.4608515653115304;
demand('60') = 0.22759098314155568;
demand('61') = 0.9163810171489424;
demand('62') = 0.34306282464754567;
demand('63') = 0.7873331097255155;
demand('64') = 0.7169289283841283;
demand('65') = 0.1415516486756051;
demand('66') = 0.8975775516269087;
demand('67') = 0.7256740900740198;
demand('68') = 0.35220598107702383;
demand('69') = 0.051663284967212064;
demand('70') = 0.9429501293734842;
demand('71') = 0.5271020803124111;
demand('72') = 0.03833857347457181;
demand('73') = 0.36520022589623546;
demand('74') = 0.21351797026878117;
demand('75') = 0.23683561297453637;
demand('76') = 0.6666551782597527;
demand('77') = 0.5968271272730634;
demand('78') = 0.5773351900596373;
demand('79') = 0.8644872961921274;
demand('80') = 0.1619258667411344;
demand('81') = 0.7264770072844732;
demand('82') = 0.49509231960224864;
demand('83') = 0.43434217161825095;
demand('84') = 0.8496247394431786;
demand('85') = 0.6957300633151547;
demand('86') = 0.39962597451484716;
demand('87') = 0.06364485461006442;
demand('88') = 0.8095270510152489;
demand('89') = 0.7474714545759024;
demand('90') = 0.834279477941875;
demand('91') = 0.9157193253811721;
demand('92') = 0.9076410369558102;
demand('93') = 0.44765908655220354;
demand('94') = 0.5687302112337607;
demand('95') = 0.6470958899187226;
demand('96') = 0.6180638320980262;
demand('97') = 0.7591857896223037;
demand('98') = 0.09691379878117423;
demand('99') = 0.5342380174661379;
demand('100') = 0.42273801828552227;
capacity('1') = 2.784027018421829;
capacity('2') = 2.2956167172696604;
capacity('3') = 1.4863567943695215;
capacity('4') = 6.583395953713322;
capacity('5') = 4.121601787261602;
capacity('6') = 7.07403421786203;
capacity('7') = 2.9814354944954733;
capacity('8') = 4.9056344319282;
capacity('9') = 4.419832150289882;
capacity('10') = 4.240447970838201;
capacity('11') = 3.7582610736941255;
capacity('12') = 0.03610907698230951;
capacity('13') = 2.218920143422053;
capacity('14') = 5.857230906713243;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
