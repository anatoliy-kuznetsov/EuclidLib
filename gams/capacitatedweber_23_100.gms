Sets
i facilities / 1*23 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.052363598850944326; community_y('1') = 0.7508149412392692;
community_x('2') = 0.08718667752263232; community_y('2') = 0.3348305405234663;
community_x('3') = 0.4072417636703983; community_y('3') = 0.34836702066505143;
community_x('4') = 0.10770023493843905; community_y('4') = 0.6391279372281128;
community_x('5') = 0.9011988779516946; community_y('5') = 0.9696860772658779;
community_x('6') = 0.0381536661023224; community_y('6') = 0.88388013812289;
community_x('7') = 0.5362020400339269; community_y('7') = 0.41903781938736506;
community_x('8') = 0.33219769850967984; community_y('8') = 0.7177179073521607;
community_x('9') = 0.8520866189293687; community_y('9') = 0.6790519516466869;
community_x('10') = 0.1596623967219699; community_y('10') = 0.3721096192953053;
community_x('11') = 0.3372166571092755; community_y('11') = 0.23496343749846516;
community_x('12') = 0.3337963946289553; community_y('12') = 0.07837647814122528;
community_x('13') = 0.24516335251761112; community_y('13') = 0.8789089368844193;
community_x('14') = 0.0016705535792228554; community_y('14') = 0.05715921340929664;
community_x('15') = 0.4362757934152184; community_y('15') = 0.5186961247564001;
community_x('16') = 0.08761349975042287; community_y('16') = 0.5375363775056881;
community_x('17') = 0.5975994644879905; community_y('17') = 0.14613923366160775;
community_x('18') = 0.06987696145918243; community_y('18') = 0.6559317169521112;
community_x('19') = 0.3154589737358633; community_y('19') = 0.9158231935739135;
community_x('20') = 0.44832170830694373; community_y('20') = 0.7761329698240371;
community_x('21') = 0.9053986522844989; community_y('21') = 0.38925926661855115;
community_x('22') = 0.09276456137849509; community_y('22') = 0.1264699588337581;
community_x('23') = 0.14217506443150107; community_y('23') = 0.974929566217395;
community_x('24') = 0.7900718443588016; community_y('24') = 0.5171034866539107;
community_x('25') = 0.021235974816989245; community_y('25') = 0.6296176252275832;
community_x('26') = 0.9111505480903207; community_y('26') = 0.8022766455210377;
community_x('27') = 0.5734080856809272; community_y('27') = 0.3862461628927458;
community_x('28') = 0.2653217052615633; community_y('28') = 0.06205576465547391;
community_x('29') = 0.8378376441951344; community_y('29') = 0.1360157911087615;
community_x('30') = 0.7687947474799836; community_y('30') = 0.6684471370325412;
community_x('31') = 0.3434621581559646; community_y('31') = 0.3495396856198003;
community_x('32') = 0.801496591292033; community_y('32') = 0.8710772077623383;
community_x('33') = 0.2068624706661114; community_y('33') = 0.7401645088205959;
community_x('34') = 0.6089025261905533; community_y('34') = 0.9804391466902661;
community_x('35') = 0.5270749521614166; community_y('35') = 0.66883435436449;
community_x('36') = 0.8093385246438048; community_y('36') = 0.30380577913678264;
community_x('37') = 0.3152631522159881; community_y('37') = 0.7911091579073943;
community_x('38') = 0.3982381514678992; community_y('38') = 0.028258034278284105;
community_x('39') = 0.7692790899139238; community_y('39') = 0.5215907717112922;
community_x('40') = 0.512752133864065; community_y('40') = 0.8713946678999259;
community_x('41') = 0.684837218661006; community_y('41') = 0.5147191402061156;
community_x('42') = 0.6383532643054988; community_y('42') = 0.13737149792589898;
community_x('43') = 0.666657631073181; community_y('43') = 0.5001225106774085;
community_x('44') = 0.8900985705369023; community_y('44') = 0.5454577410692435;
community_x('45') = 0.486136470143564; community_y('45') = 0.3690005483098646;
community_x('46') = 0.6684702219031471; community_y('46') = 0.8934335602088669;
community_x('47') = 0.3745216318224833; community_y('47') = 0.3400808505181736;
community_x('48') = 0.03184130674110186; community_y('48') = 0.2717513883845203;
community_x('49') = 0.7541731718588721; community_y('49') = 0.5063014868143146;
community_x('50') = 0.18146491591504088; community_y('50') = 0.20327205126356085;
community_x('51') = 0.820190184433831; community_y('51') = 0.322057226781164;
community_x('52') = 0.9136459118642296; community_y('52') = 0.39817018093932177;
community_x('53') = 0.6580741574010793; community_y('53') = 0.938262488697077;
community_x('54') = 0.17012688767090822; community_y('54') = 0.08036181297992573;
community_x('55') = 0.33691615279170617; community_y('55') = 0.19709486890681838;
community_x('56') = 0.39119330707130273; community_y('56') = 0.199499344513678;
community_x('57') = 0.07329077812368656; community_y('57') = 0.9952650136580005;
community_x('58') = 0.4567670702014537; community_y('58') = 0.8908087016430518;
community_x('59') = 0.5731685145105314; community_y('59') = 0.1941632946450248;
community_x('60') = 0.33610609930983404; community_y('60') = 0.5646244900742771;
community_x('61') = 0.18906186957807647; community_y('61') = 0.08510002940969075;
community_x('62') = 0.08815729492607605; community_y('62') = 0.31702820274040777;
community_x('63') = 0.6283175227307927; community_y('63') = 0.34114424552421796;
community_x('64') = 0.01282910925261338; community_y('64') = 0.5376819978167684;
community_x('65') = 0.35191368309820115; community_y('65') = 0.9293743214794234;
community_x('66') = 0.22912976448028421; community_y('66') = 0.8090194309909363;
community_x('67') = 0.5319974906817646; community_y('67') = 0.5341834137994497;
community_x('68') = 0.7236633511192414; community_y('68') = 0.7860800542078382;
community_x('69') = 0.9091532756367794; community_y('69') = 0.48395903775309723;
community_x('70') = 0.6388008392431014; community_y('70') = 0.7305603280541011;
community_x('71') = 0.9917930997519157; community_y('71') = 0.7769544424729391;
community_x('72') = 0.9640591723038818; community_y('72') = 0.256851738048816;
community_x('73') = 0.6299907097242456; community_y('73') = 0.8327770443873531;
community_x('74') = 0.2333731840861596; community_y('74') = 0.5779441734191155;
community_x('75') = 0.48381148264314666; community_y('75') = 0.4861199583152066;
community_x('76') = 0.17758973057390504; community_y('76') = 0.39581331546975873;
community_x('77') = 0.9919577727942169; community_y('77') = 0.22414980709806243;
community_x('78') = 0.44449992014907413; community_y('78') = 0.5012575531375332;
community_x('79') = 0.7516501580275301; community_y('79') = 0.12610622949712635;
community_x('80') = 0.044129856006443924; community_y('80') = 0.6347827539292025;
community_x('81') = 0.13472760063663358; community_y('81') = 0.898268251074767;
community_x('82') = 0.19317697004235368; community_y('82') = 0.7905260294765033;
community_x('83') = 0.2563623472965425; community_y('83') = 0.6091577855523773;
community_x('84') = 0.3520475304496762; community_y('84') = 0.49447442101981154;
community_x('85') = 0.2719298523267516; community_y('85') = 0.6957821740554558;
community_x('86') = 0.43426858361265375; community_y('86') = 0.12231632092050937;
community_x('87') = 0.42035731673505405; community_y('87') = 0.05243537098650408;
community_x('88') = 0.10862083448160165; community_y('88') = 0.8616470728871337;
community_x('89') = 0.06260877482831684; community_y('89') = 0.3618410748070725;
community_x('90') = 0.3550614469278791; community_y('90') = 0.6689472932800722;
community_x('91') = 0.08878890486736224; community_y('91') = 0.4207616695426898;
community_x('92') = 0.4332003138771612; community_y('92') = 0.3586705566688949;
community_x('93') = 0.008561214772869308; community_y('93') = 0.7702859673578056;
community_x('94') = 0.5358010186065645; community_y('94') = 0.3430332825441691;
community_x('95') = 0.07348399271505246; community_y('95') = 0.7537139593993878;
community_x('96') = 0.694205914699235; community_y('96') = 0.8204781263847865;
community_x('97') = 0.40420726708424737; community_y('97') = 0.18067605333309233;
community_x('98') = 0.9853481748883274; community_y('98') = 0.9772304431057596;
community_x('99') = 0.26254001971904994; community_y('99') = 0.06244218976516602;
community_x('100') = 0.47251074040704333; community_y('100') = 0.41472735535603067;
demand('1') = 0.5004747976770939;
demand('2') = 0.8293577352496055;
demand('3') = 0.17487867814549418;
demand('4') = 0.5590304685861194;
demand('5') = 0.3685171907332482;
demand('6') = 0.921682844280444;
demand('7') = 0.12232679060259966;
demand('8') = 0.2654160671146927;
demand('9') = 0.8198025867749117;
demand('10') = 0.3222340125956503;
demand('11') = 0.9442210523827754;
demand('12') = 0.05160391767299877;
demand('13') = 0.3884181551524558;
demand('14') = 0.10746590394935085;
demand('15') = 0.5735303220569729;
demand('16') = 0.9631245784933979;
demand('17') = 0.32469513448083587;
demand('18') = 0.6468358371065772;
demand('19') = 0.26591431975997737;
demand('20') = 0.4392216620055325;
demand('21') = 0.571521105945508;
demand('22') = 0.2484133090733609;
demand('23') = 0.6904682699999675;
demand('24') = 0.500995811633457;
demand('25') = 0.9054631957637249;
demand('26') = 0.27502127242966223;
demand('27') = 0.9548546302971884;
demand('28') = 0.18220583441361304;
demand('29') = 0.019912223727404865;
demand('30') = 0.6602046601210401;
demand('31') = 0.7337625185541018;
demand('32') = 0.4773217554025775;
demand('33') = 0.04276007019212802;
demand('34') = 0.9981342296444798;
demand('35') = 0.14155175779641427;
demand('36') = 0.8704672557844291;
demand('37') = 0.8915326292942939;
demand('38') = 0.22085700629420923;
demand('39') = 0.8639390172969831;
demand('40') = 0.46340632069197485;
demand('41') = 0.8995825269014295;
demand('42') = 0.8875234097345991;
demand('43') = 0.7742974456058259;
demand('44') = 0.2887102418076163;
demand('45') = 0.5801048271426202;
demand('46') = 0.9813135565365696;
demand('47') = 0.32062336601200936;
demand('48') = 0.3865008743671855;
demand('49') = 0.6879893085936124;
demand('50') = 0.06263564431359725;
demand('51') = 0.25336194995859596;
demand('52') = 0.168020375038908;
demand('53') = 0.4160567101659304;
demand('54') = 0.4249764758602258;
demand('55') = 0.6070585475338274;
demand('56') = 0.49680968876011555;
demand('57') = 0.16476953922391535;
demand('58') = 0.046621071319652985;
demand('59') = 0.5247721982443964;
demand('60') = 0.7638566846893943;
demand('61') = 0.9268939013125862;
demand('62') = 0.8396383240376201;
demand('63') = 0.3027528040099047;
demand('64') = 0.8656732430775638;
demand('65') = 0.4673915447602902;
demand('66') = 0.2824470291123572;
demand('67') = 0.09215872811695913;
demand('68') = 0.4427124158506194;
demand('69') = 0.5449613597795614;
demand('70') = 0.27929936950932854;
demand('71') = 0.19529882461359027;
demand('72') = 0.9408904680768644;
demand('73') = 0.06777491893982879;
demand('74') = 0.939392256680005;
demand('75') = 0.40641295759207385;
demand('76') = 0.7915177900236534;
demand('77') = 0.11094804898017563;
demand('78') = 0.5700076403666973;
demand('79') = 0.761696224317614;
demand('80') = 0.4360117280281445;
demand('81') = 0.35646624232715174;
demand('82') = 0.4932188103687801;
demand('83') = 0.1944599146366902;
demand('84') = 0.2116300536464455;
demand('85') = 0.24131152758298502;
demand('86') = 0.03755665752648618;
demand('87') = 0.9100241304052978;
demand('88') = 0.07343992146589373;
demand('89') = 0.9271381201286817;
demand('90') = 0.010956133993142214;
demand('91') = 0.6562134498500771;
demand('92') = 0.5469276311244807;
demand('93') = 0.04184170011186694;
demand('94') = 0.9414667729029921;
demand('95') = 0.7307692608740777;
demand('96') = 0.879131196833377;
demand('97') = 0.43566383942086506;
demand('98') = 0.29138316904878636;
demand('99') = 0.18592795211214297;
demand('100') = 0.11271949322929953;
capacity('1') = 3.4008212393071973;
capacity('2') = 4.1654141212728;
capacity('3') = 1.0746136763926908;
capacity('4') = 0.13161448352015984;
capacity('5') = 1.832489369337533;
capacity('6') = 0.7748707874754786;
capacity('7') = 1.1401153853039223;
capacity('8') = 1.125495878320889;
capacity('9') = 3.3575934230043627;
capacity('10') = 2.202858862616162;
capacity('11') = 2.84091409018113;
capacity('12') = 1.9772201298498506;
capacity('13') = 4.985899721214724;
capacity('14') = 2.51878971397358;
capacity('15') = 0.21589786719524473;
capacity('16') = 0.7056732512852557;
capacity('17') = 3.706314871178002;
capacity('18') = 4.6258043201062256;
capacity('19') = 0.6385445545533084;
capacity('20') = 2.33211585076185;
capacity('21') = 4.3699554728490595;
capacity('22') = 2.796891412072985;
capacity('23') = 0.08830919027792669;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
