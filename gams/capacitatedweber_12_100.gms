Sets
i facilities / 1*12 /
j communities / 1*100 /;
Parameters community_x(j), community_y(j), demand(j), capacity(i);
community_x('1') = 0.48124663407330837; community_y('1') = 0.8720134276048173;
community_x('2') = 0.6660875572249376; community_y('2') = 0.6590894408462972;
community_x('3') = 0.6198336951349463; community_y('3') = 0.9302638186053586;
community_x('4') = 0.6994432022048044; community_y('4') = 0.8159200981283367;
community_x('5') = 0.9022625939618647; community_y('5') = 0.6919468515548367;
community_x('6') = 0.7518134911623262; community_y('6') = 0.8959040261664166;
community_x('7') = 0.16257679732510133; community_y('7') = 0.4413525272666923;
community_x('8') = 0.22092305515921762; community_y('8') = 0.6064967171464991;
community_x('9') = 0.45479362478218877; community_y('9') = 0.7477899004325879;
community_x('10') = 0.39012761112600725; community_y('10') = 0.4396092659423817;
community_x('11') = 0.962967807324317; community_y('11') = 0.12938086239649915;
community_x('12') = 0.7287220690849914; community_y('12') = 0.8284120576745225;
community_x('13') = 0.4683793802760553; community_y('13') = 0.5366508929479404;
community_x('14') = 0.3515409767270241; community_y('14') = 0.45582782590073667;
community_x('15') = 0.22737254003902674; community_y('15') = 0.5342832228909137;
community_x('16') = 0.6027930131077106; community_y('16') = 0.290960436812031;
community_x('17') = 0.9238678491683142; community_y('17') = 0.8434282602301594;
community_x('18') = 0.16733418216227636; community_y('18') = 0.2858382813397201;
community_x('19') = 0.4522745946082708; community_y('19') = 0.2452014625354605;
community_x('20') = 0.34471277451179516; community_y('20') = 0.6288688791179973;
community_x('21') = 0.6095028772875957; community_y('21') = 0.48859342367970937;
community_x('22') = 0.25422366724296364; community_y('22') = 0.3135024037783669;
community_x('23') = 0.06526883742555811; community_y('23') = 0.08236602372410229;
community_x('24') = 0.6764978485031419; community_y('24') = 0.44259745784787485;
community_x('25') = 0.3069774612640278; community_y('25') = 0.41376289952600065;
community_x('26') = 0.6471037401463869; community_y('26') = 0.5488114286391376;
community_x('27') = 0.9073266766012213; community_y('27') = 0.6458803020376493;
community_x('28') = 0.5818696541054059; community_y('28') = 0.27463439852393057;
community_x('29') = 0.9123060019946798; community_y('29') = 0.06642450572379044;
community_x('30') = 0.802594326542803; community_y('30') = 0.061139216919584016;
community_x('31') = 0.06324154092453105; community_y('31') = 0.5504103693856599;
community_x('32') = 0.24536167275287735; community_y('32') = 0.9360885906105852;
community_x('33') = 0.6623064470469424; community_y('33') = 0.7397562885884509;
community_x('34') = 0.47831515184193685; community_y('34') = 0.9291287706394094;
community_x('35') = 0.004719889854730597; community_y('35') = 0.15215216308017476;
community_x('36') = 0.8215036038915641; community_y('36') = 0.2072004927329546;
community_x('37') = 0.6498910769832944; community_y('37') = 0.7148163968729637;
community_x('38') = 0.4346622737742225; community_y('38') = 0.40848198998347374;
community_x('39') = 0.5214394174591447; community_y('39') = 0.4206752455189853;
community_x('40') = 0.1708303040959398; community_y('40') = 0.8325825886265482;
community_x('41') = 0.5500389071992433; community_y('41') = 0.08136908577156454;
community_x('42') = 0.14208624158520677; community_y('42') = 0.941869955172516;
community_x('43') = 0.6640014247913388; community_y('43') = 0.1879139467655997;
community_x('44') = 0.9418131120471213; community_y('44') = 0.5866199542673437;
community_x('45') = 0.2162387417542927; community_y('45') = 0.6561111072424494;
community_x('46') = 0.2652544769269638; community_y('46') = 0.560120556908273;
community_x('47') = 0.5756264306232584; community_y('47') = 0.7064320004393954;
community_x('48') = 0.876013477065713; community_y('48') = 0.3053345162628942;
community_x('49') = 0.16909866358746062; community_y('49') = 0.23007580939862804;
community_x('50') = 0.3913586529534163; community_y('50') = 0.6600635655318189;
community_x('51') = 0.6052183560954221; community_y('51') = 0.9461039945058303;
community_x('52') = 0.16453134077530485; community_y('52') = 0.06304881865751377;
community_x('53') = 0.0690916725605788; community_y('53') = 0.10501287643925727;
community_x('54') = 0.7478222301667475; community_y('54') = 0.9887503934107044;
community_x('55') = 0.6222563467333062; community_y('55') = 0.05209653398509895;
community_x('56') = 0.5802210278394465; community_y('56') = 0.12938490265045055;
community_x('57') = 0.545702847208205; community_y('57') = 0.5040789912250682;
community_x('58') = 0.10284364805528334; community_y('58') = 0.32220558892761175;
community_x('59') = 0.48054948524316354; community_y('59') = 0.7042611711862262;
community_x('60') = 0.4871171932099698; community_y('60') = 0.4656999052592008;
community_x('61') = 0.5145750604961954; community_y('61') = 0.7967483798202277;
community_x('62') = 0.1631216128411872; community_y('62') = 0.110856578254379;
community_x('63') = 0.06809280071160351; community_y('63') = 0.22104351082365714;
community_x('64') = 0.5159850843032207; community_y('64') = 0.19246135145506826;
community_x('65') = 0.6958307921979063; community_y('65') = 0.8020427640579747;
community_x('66') = 0.6675127322417856; community_y('66') = 0.9992961143729868;
community_x('67') = 0.9369124316092261; community_y('67') = 0.3772828870309809;
community_x('68') = 0.37135809866503355; community_y('68') = 0.22321005197163857;
community_x('69') = 0.3910703396018196; community_y('69') = 0.07283276097551272;
community_x('70') = 0.33045945177338876; community_y('70') = 0.18319794262854772;
community_x('71') = 0.505071604288274; community_y('71') = 0.9834807976642795;
community_x('72') = 0.6694411062486666; community_y('72') = 0.9514121409171094;
community_x('73') = 0.8640059089926321; community_y('73') = 0.9243729220869078;
community_x('74') = 0.09254661794181518; community_y('74') = 0.17991563810380373;
community_x('75') = 0.5754319364900881; community_y('75') = 0.07535825074879454;
community_x('76') = 0.7670552202527319; community_y('76') = 0.9933568953048566;
community_x('77') = 0.7495896325429424; community_y('77') = 0.7224698237748027;
community_x('78') = 0.43084890964263656; community_y('78') = 0.8824793469052582;
community_x('79') = 0.07140994174542781; community_y('79') = 0.8954883924403657;
community_x('80') = 0.32252040806926907; community_y('80') = 0.8713860897930809;
community_x('81') = 0.596289586663754; community_y('81') = 0.01206203926105398;
community_x('82') = 0.7784070138843477; community_y('82') = 0.8713201702845816;
community_x('83') = 0.21773564377053056; community_y('83') = 0.5686806046139984;
community_x('84') = 0.3252007841588468; community_y('84') = 0.9824030652364001;
community_x('85') = 0.3673728641174888; community_y('85') = 0.1971038129452608;
community_x('86') = 0.052146318797309466; community_y('86') = 0.39262158834023153;
community_x('87') = 0.9724652508853303; community_y('87') = 0.12496218905442713;
community_x('88') = 0.3519582284945374; community_y('88') = 0.7634880788985539;
community_x('89') = 0.4412831369117174; community_y('89') = 0.5888739994762885;
community_x('90') = 0.9692866767950842; community_y('90') = 0.8654424675469417;
community_x('91') = 0.7818314789452186; community_y('91') = 0.5572450735026312;
community_x('92') = 0.27472490302270847; community_y('92') = 0.7890793282160935;
community_x('93') = 0.9410120311112286; community_y('93') = 0.36607521318535186;
community_x('94') = 0.8254713268737939; community_y('94') = 0.062073919966165514;
community_x('95') = 0.5648817408137375; community_y('95') = 0.0696569928455344;
community_x('96') = 0.44209612525841446; community_y('96') = 0.07163826869229173;
community_x('97') = 0.848902843448343; community_y('97') = 0.027634647182200656;
community_x('98') = 0.9213156348505022; community_y('98') = 0.7337469823882127;
community_x('99') = 0.670695936481825; community_y('99') = 0.7298001319648537;
community_x('100') = 0.32068601877776426; community_y('100') = 0.9880788821975622;
demand('1') = 0.7853627221727889;
demand('2') = 0.1984182133324911;
demand('3') = 0.17717490088293475;
demand('4') = 0.3645761036944315;
demand('5') = 0.3416535516867317;
demand('6') = 0.13225034328144059;
demand('7') = 0.7715178781474084;
demand('8') = 0.7252933833125147;
demand('9') = 0.42058988818252074;
demand('10') = 0.5718886187590662;
demand('11') = 0.6005349357543595;
demand('12') = 0.565496284504606;
demand('13') = 0.6086077363370025;
demand('14') = 0.6300133308863304;
demand('15') = 0.9844147651828487;
demand('16') = 0.30109275089069554;
demand('17') = 0.0827695229369616;
demand('18') = 0.13623208048185587;
demand('19') = 0.6018794346436562;
demand('20') = 0.48438223176735473;
demand('21') = 0.9294262325420323;
demand('22') = 0.5445095114187436;
demand('23') = 0.9095293127000632;
demand('24') = 0.840016061875644;
demand('25') = 0.35340928466021304;
demand('26') = 0.23606059060453177;
demand('27') = 0.6690038869141135;
demand('28') = 0.41375256093574064;
demand('29') = 0.15672010902247535;
demand('30') = 0.046633425649065696;
demand('31') = 0.8296394240144862;
demand('32') = 0.9778531106528083;
demand('33') = 0.7305093224829127;
demand('34') = 0.12462899422348006;
demand('35') = 0.013430187883041955;
demand('36') = 0.6174847572769643;
demand('37') = 0.39860624747406725;
demand('38') = 0.9319781250850638;
demand('39') = 0.4539811785440816;
demand('40') = 0.6937818457077147;
demand('41') = 0.03236684486020702;
demand('42') = 0.042678944193421;
demand('43') = 0.7551993882386618;
demand('44') = 0.6235334896893603;
demand('45') = 0.8853271704901765;
demand('46') = 0.3715718045939299;
demand('47') = 0.553179000072355;
demand('48') = 0.4732775356731439;
demand('49') = 0.7703994137347835;
demand('50') = 0.6065330540049068;
demand('51') = 0.8458830216643843;
demand('52') = 0.1514218996652611;
demand('53') = 0.6502358449578599;
demand('54') = 0.3709921439780063;
demand('55') = 0.7881244336063868;
demand('56') = 0.41042629653802987;
demand('57') = 0.15950697676539194;
demand('58') = 0.011905204594854224;
demand('59') = 0.5041388061665532;
demand('60') = 0.12822240556377063;
demand('61') = 0.7587936518238843;
demand('62') = 0.8813237161963715;
demand('63') = 0.3248492977830112;
demand('64') = 0.7494123546662389;
demand('65') = 0.673937376599139;
demand('66') = 0.548928338737135;
demand('67') = 0.08414218934097617;
demand('68') = 0.9731977529626801;
demand('69') = 0.3093164047792961;
demand('70') = 0.0695214462388154;
demand('71') = 0.7667373690303922;
demand('72') = 0.9561834978565806;
demand('73') = 0.8058162234083713;
demand('74') = 0.6636559687697606;
demand('75') = 0.3293629982164571;
demand('76') = 0.9726546907785641;
demand('77') = 0.47279927208436046;
demand('78') = 0.7187250379919636;
demand('79') = 0.7862487543933989;
demand('80') = 0.40058202035875967;
demand('81') = 0.9878746112899757;
demand('82') = 0.4078796139180191;
demand('83') = 0.6840935638378748;
demand('84') = 0.21634330318914707;
demand('85') = 0.23952631443639372;
demand('86') = 0.4881889093131868;
demand('87') = 0.14744081878096515;
demand('88') = 0.6931994785288865;
demand('89') = 0.18840405650847147;
demand('90') = 0.31494773261656706;
demand('91') = 0.8996693270075167;
demand('92') = 0.863845163735932;
demand('93') = 0.9402916445163971;
demand('94') = 0.773953365906358;
demand('95') = 0.3253242957264031;
demand('96') = 0.32773872111259494;
demand('97') = 0.7810267298734337;
demand('98') = 0.553588809911878;
demand('99') = 0.9235385114017138;
demand('100') = 0.9236697654607996;
capacity('1') = 3.487454492487882;
capacity('2') = 1.236788734612505;
capacity('3') = 7.01471061911314;
capacity('4') = 6.4311952503594085;
capacity('5') = 4.140040323441974;
capacity('6') = 5.042053504322596;
capacity('7') = 5.30582913669681;
capacity('8') = 4.007424548557941;
capacity('9') = 2.3174681258019167;
capacity('10') = 3.1407276294999393;
capacity('11') = 7.065968005496247;
capacity('12') = 6.897937235487302;
Positive Variables x(i), y(i), shipment_quantities(i,j);
x.up(i) = 1; y.up(i) = 1;
Variable objective;
Equations objective_definition, capacity_limit(i), demand_satisfaction(j);
objective_definition.. objective =e= sum(i, sum(j, shipment_quantities(i,j) * (power(x(i) - community_x(j), 2) + power(y(i) - community_y(j), 2))));
capacity_limit(i).. sum(j, shipment_quantities(i,j)) =l= capacity(i);
demand_satisfaction(j).. sum(i, shipment_quantities(i,j)) =e= demand(j);
Model m / all /;
Solve m using nlp minimizing objective;
